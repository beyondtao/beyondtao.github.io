<!DOCTYPE html>
<html lang="en-us" dir="ltr">
    <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content="üß© Summary: Swift Concurrency Essentials ">
<meta name="keywords" content="Swift, Xcode"><title>Swift_Note Concurrency</title>

<link rel='canonical' href='http://localhost:1313/2025/11/swift_note_concurrency/'>

<link rel="stylesheet" href="/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css"><meta property='og:title' content="Swift_Note Concurrency">
<meta property='og:description' content="üß© Summary: Swift Concurrency Essentials ">
<meta property='og:url' content='http://localhost:1313/2025/11/swift_note_concurrency/'>
<meta property='og:site_name' content='Scott Tao'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='Swift' /><meta property='article:published_time' content='2025-11-02T10:42:05&#43;01:00'/><meta property='article:modified_time' content='2025-11-02T10:42:05&#43;01:00'/>
<meta name="twitter:title" content="Swift_Note Concurrency">
<meta name="twitter:description" content="üß© Summary: Swift Concurrency Essentials ">
    <link rel="shortcut icon" href="/favicon.png" />

    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="Toggle Menu">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avatar_hu6452860752114553384.png" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">üòé</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">Scott Tao</a></h1>
            <h2 class="site-description">Senior iOS Developer

Specializing in iOS app development since 2013. Objective-C, Swift, Swift-UI, Java, Golang, Vue-JS, Docker, Git. üåèÔºöBochum, Germany.
</h2>
        </div>
    </header><ol class="menu-social">
            
                <li>
                    <a 
                        href='https://www.linkedin.com/in/scott-tao-ios/'
                        target="_blank"
                        title="Linkin"
                        rel="me"
                    >
                        
                        
                            <?xml version="1.0" standalone="no"?>
<svg 
  xmlns="http://www.w3.org/2000/svg" 
  class="icon icon-tabler icon-tabler-me"
  width="24"
  height="24"
  viewBox="0 0 24 24"
  stroke-width="2"
  stroke="currentColor"
  fill="none"
  stroke-linecap="round"
  stroke-linejoin="round"
>
      <path d="M20.5 2h-17A1.5 1.5 0 002 3.5v17A1.5 1.5 0 003.5 22h17a1.5 1.5 0 001.5-1.5v-17A1.5 1.5 0 0020.5 2zM8 19H5v-9h3zM6.5 8.25A1.75 1.75 0 118.3 6.5a1.78 1.78 0 01-1.8 1.75zM19 19h-3v-4.74c0-1.42-.6-1.93-1.38-1.93A1.74 1.74 0 0013 14.19a.66.66 0 000 .14V19h-3v-9h2.9v1.3a3.11 3.11 0 012.7-1.4c1.55 0 3.36.86 3.36 3.66z"></path>
</svg>

                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>Home</span>
            </a>
        </li>
        
        
        <li >
            <a href='/2022/03/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>Archives</span>
            </a>
        </li>
        
        
        <li >
            <a href='/1/01/links/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>Links</span>
            </a>
        </li>
        
        
        <li >
            <a href='/1/01/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>Search</span>
            </a>
        </li>
        
        
        <li >
            <a href='/de' >
                
                
                
                    <?xml version="1.0" standalone="no"?>
<svg 
  xmlns="http://www.w3.org/2000/svg" 
  class="icon icon-tabler icon-tabler-de"
  width="24"
  height="24"
  viewBox="0 0 24 24"
  stroke-width="2"
  stroke="currentColor"
  fill="none"
  stroke-linecap="round"
  stroke-linejoin="round"
>
  <!-- ÁªòÂà∂ÂúÜÂΩ¢ -->
  <circle cx="12" cy="13" r="9" />
  <!-- ÁªòÂà∂Â§¥ÂèëÁöÑÂ∞ñËßí -->
  <path d="M12 2 L14 4 L10 4 Z" />
  <!-- ÁªòÂà∂Â≠óÊØçD -->
  <path d="M8 10 C8 9 9 8 10 8 H12 C13 8 14 9 14 10 V12 C14 13 13 14 12 14 H10 C9 14 8 13 8 12 Z" />
  <!-- ÁªòÂà∂Â≠óÊØçE -->
  <path d="M16 10 H18 V8 H16 C15 8 14 9 14 10 V14 C14 15 15 16 16 16 H18 V14 H16" />
</svg>
                
                <span>German</span>
            </a>
        </li>
        
        
        <li >
            <a href='/me' >
                
                
                
                    <?xml version="1.0" standalone="no"?>
<svg 
  xmlns="http://www.w3.org/2000/svg" 
  class="icon icon-tabler icon-tabler-me"
  width="24"
  height="24"
  viewBox="0 0 24 24"
  stroke-width="2"
  stroke="currentColor"
  fill="none"
  stroke-linecap="round"
  stroke-linejoin="round"
>
  <!-- ÁªòÂà∂ÂúÜÂΩ¢ -->
  <circle cx="12" cy="13" r="9" />
  <!-- ÁªòÂà∂Â§¥ÂèëÁöÑÂ∞ñËßí -->
  <path d="M12 2 L14 4 L10 4 Z" />
  <!-- ÁªòÂà∂Â∑¶Áúº -->
  <ellipse cx="9" cy="13" rx="1" ry="2" />
  <!-- ÁªòÂà∂Âè≥Áúº -->
  <ellipse cx="15" cy="13" rx="1" ry="2" />
</svg>
                
                <span>Me</span>
            </a>
        </li>
        
        
        <li >
            <a href='/about' >
                
                
                
                    <?xml version="1.0" standalone="no"?>
<svg 
  xmlns="http://www.w3.org/2000/svg" 
  class="icon icon-tabler icon-tabler-about"
  width="24"
  height="24"
  viewBox="0 0 24 24"
  stroke-width="2"
  stroke="currentColor"
  fill="none"
  stroke-linecap="round"
  stroke-linejoin="round"
>
	<path stroke="none" d="M0 0h24v24H0z"/>
	<!-- <circle cx="515" cy="512" r="450" style="stroke: #000066; fill: #FF0000;" /> -->
	<!-- <circle cx="515" cy="512" r="450"/> -->
	<circle cx="12" cy="12" r="8" stroke="currentColor" stroke-width="2"/>
	<circle cx="12" cy="8" r="1" />
  	<line x1="12" y1="12" x2="12" y2="17" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
</svg>




                
                <span>About</span>
            </a>
        </li>
        
        <li class="menu-bottom-section">
            <ol class="menu">

                
                    <li id="dark-mode-toggle">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <span>Dark Mode</span>
                    </li>
                
            </ol>
        </li>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">Table of contents</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#-summary-swift-concurrency-essentials">üß© Summary: Swift Concurrency Essentials</a>
      <ol>
        <li><a href="#1-async">1. async</a></li>
        <li><a href="#2-await">2. await</a></li>
        <li><a href="#3-tast">3. Tast</a></li>
        <li><a href="#4-withtaskgroup">4. withTaskGroup()</a></li>
        <li><a href="#5-actor">5. Actor</a></li>
      </ol>
    </li>
    <li><a href="#protocols-and-extensions">Protocols and Extensions</a></li>
    <li><a href="#error-handling">Error Handling</a>
      <ol>
        <li><a href="#error">Error</a></li>
        <li><a href="#defer">defer</a></li>
      </ol>
    </li>
    <li><a href="#generics-Ê≥õÂûã">Generics ÔºàÊ≥õÂûãÔºâ</a></li>
    <li><a href="#optional-binding">Optional Binding</a></li>
    <li><a href="#providing-a-fallback-value">Providing a Fallback Value</a></li>
    <li><a href="#force-unwrapping">Force Unwrapping</a></li>
    <li><a href="#debugging-with-assertions">Debugging with Assertions</a></li>
    <li><a href="#enforcing-preconditions">Enforcing Preconditions</a></li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/swift/" >
                Swift
            </a>
        
            <a href="/categories/xcode/" >
                Xcode
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/2025/11/swift_note_concurrency/">Swift_Note Concurrency</a>
        </h2>
    
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Nov 02, 2025</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    7 minute read
                </time>
            </div>
        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <h2 id="-summary-swift-concurrency-essentials">üß© Summary: Swift Concurrency Essentials
</h2><h3 id="1-async">1. async
</h3><p>Use async to mark a function that runs asynchronously.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="k">func</span> <span class="n">fetchUserID</span><span class="p">(</span><span class="n">from</span> <span class="n">server</span><span class="p">:</span> <span class="ne">String</span><span class="p">)</span> <span class="n">async</span> <span class="o">-&gt;</span> <span class="n">Int</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">server</span> <span class="o">==</span> <span class="s2">&#34;primary&#34;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="mi">97</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">501</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="2-await">2. await
</h3><p>You mark a call to an asynchronous function by writing await in front of it.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="k">func</span> <span class="n">fetchUsername</span><span class="p">(</span><span class="n">from</span> <span class="n">server</span><span class="p">:</span> <span class="ne">String</span><span class="p">)</span> <span class="n">async</span> <span class="o">-&gt;</span> <span class="ne">String</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">let</span> <span class="n">userID</span> <span class="o">=</span> <span class="n">await</span> <span class="n">fetchUserID</span><span class="p">(</span><span class="n">from</span><span class="p">:</span> <span class="n">server</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">userID</span> <span class="o">==</span> <span class="mi">501</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="s2">&#34;John Appleseed&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="s2">&#34;Guest&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Use async let to call an asynchronous function, letting it run in parallel with other asynchronous code. When you use the value it returns, write await.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="k">func</span> <span class="n">connectUser</span><span class="p">(</span><span class="n">to</span> <span class="n">server</span><span class="p">:</span> <span class="ne">String</span><span class="p">)</span> <span class="n">async</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">async</span> <span class="n">let</span> <span class="n">userID</span> <span class="o">=</span> <span class="n">fetchUserID</span><span class="p">(</span><span class="n">from</span><span class="p">:</span> <span class="n">server</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">async</span> <span class="n">let</span> <span class="n">username</span> <span class="o">=</span> <span class="n">fetchUsername</span><span class="p">(</span><span class="n">from</span><span class="p">:</span> <span class="n">server</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">let</span> <span class="n">greeting</span> <span class="o">=</span> <span class="n">await</span> <span class="s2">&#34;Hello \(username), user ID \(userID)&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="n">greeting</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="3-tast">3. Tast
</h3><p>Use Task to call asynchronous functions from synchronous code, without waiting for them to return.</p>
<p>Task {
await connectUser(to: &ldquo;primary&rdquo;)
}</p>
<h3 id="4-withtaskgroup">4. withTaskGroup()
</h3><p>let userIDs = await withTaskGroup(of: Int.self) { group in
for server in [&ldquo;primary&rdquo;, &ldquo;secondary&rdquo;, &ldquo;development&rdquo;] {
group.addTask {
return await fetchUserID(from: server)
}
}</p>
<pre><code>var results: [Int] = []
for await result in group {
    results.append(result)
}
return results
</code></pre>
<p>}</p>
<h3 id="5-actor">5. Actor
</h3><p>Actors are similar to classes, except they ensure that different asynchronous functions can safely interact with an instance of the same actor at the same time.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="n">actor</span> <span class="n">ServerConnection</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">var</span> <span class="n">server</span><span class="p">:</span> <span class="ne">String</span> <span class="o">=</span> <span class="s2">&#34;primary&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">private</span> <span class="k">var</span> <span class="n">activeUsers</span><span class="p">:</span> <span class="p">[</span><span class="n">Int</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">    <span class="k">func</span> <span class="n">connect</span><span class="p">()</span> <span class="n">async</span> <span class="o">-&gt;</span> <span class="n">Int</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">let</span> <span class="n">userID</span> <span class="o">=</span> <span class="n">await</span> <span class="n">fetchUserID</span><span class="p">(</span><span class="n">from</span><span class="p">:</span> <span class="n">server</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="o">//</span> <span class="o">...</span> <span class="n">communicate</span> <span class="n">with</span> <span class="n">server</span> <span class="o">...</span>
</span></span><span class="line"><span class="cl">        <span class="n">activeUsers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">userID</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">userID</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>When you call a method on an actor or access one of its properties, you mark that code with await to indicate that it might have to wait for other code that‚Äôs already running on the actor to finish.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">let server = ServerConnection()
</span></span><span class="line"><span class="cl">let userID = await server.connect()
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="protocols-and-extensions">Protocols and Extensions
</h2><p><strong>mutating</strong></p>
<p>Notice the use of the mutating keyword in the declaration of SimpleStructure to mark a method that modifies the structure. The declaration of SimpleClass doesn‚Äôt need any of its methods marked as mutating because methods on a class can always modify the class.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="n">protocol</span> <span class="n">ExampleProtocol</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">     <span class="k">var</span> <span class="n">simpleDescription</span><span class="p">:</span> <span class="ne">String</span> <span class="p">{</span> <span class="n">get</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">     <span class="n">mutating</span> <span class="k">func</span> <span class="n">adjust</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Classes, enumerations, and structures can all adopt protocols.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="k">class</span> <span class="n">SimpleClass</span><span class="p">:</span> <span class="n">ExampleProtocol</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">     <span class="k">var</span> <span class="n">simpleDescription</span><span class="p">:</span> <span class="ne">String</span> <span class="o">=</span> <span class="s2">&#34;A very simple class.&#34;</span>
</span></span><span class="line"><span class="cl">     <span class="k">var</span> <span class="n">anotherProperty</span><span class="p">:</span> <span class="n">Int</span> <span class="o">=</span> <span class="mi">69105</span>
</span></span><span class="line"><span class="cl">     <span class="k">func</span> <span class="n">adjust</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">simpleDescription</span> <span class="o">+=</span> <span class="s2">&#34;  Now 100% adjusted.&#34;</span>
</span></span><span class="line"><span class="cl">     <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="k">var</span> <span class="n">a</span> <span class="o">=</span> <span class="n">SimpleClass</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">a</span><span class="o">.</span><span class="n">adjust</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">let</span> <span class="n">aDescription</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">simpleDescription</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">struct</span> <span class="n">SimpleStructure</span><span class="p">:</span> <span class="n">ExampleProtocol</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">     <span class="k">var</span> <span class="n">simpleDescription</span><span class="p">:</span> <span class="ne">String</span> <span class="o">=</span> <span class="s2">&#34;A simple structure&#34;</span>
</span></span><span class="line"><span class="cl">     <span class="n">mutating</span> <span class="k">func</span> <span class="n">adjust</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">simpleDescription</span> <span class="o">+=</span> <span class="s2">&#34; (adjusted)&#34;</span>
</span></span><span class="line"><span class="cl">     <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="k">var</span> <span class="n">b</span> <span class="o">=</span> <span class="n">SimpleStructure</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">b</span><span class="o">.</span><span class="n">adjust</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">let</span> <span class="n">bDescription</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">simpleDescription</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Use extension to add functionality to an existing type, such as new methods and computed properties. You can use an extension to add protocol conformance to a type that‚Äôs declared elsewhere, or even to a type that you imported from a library or framework.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="n">extension</span> <span class="n">Int</span><span class="p">:</span> <span class="n">ExampleProtocol</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">var</span> <span class="n">simpleDescription</span><span class="p">:</span> <span class="ne">String</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="s2">&#34;The number \(self)&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="n">mutating</span> <span class="k">func</span> <span class="n">adjust</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span> <span class="o">+=</span> <span class="mi">42</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="mf">7.</span><span class="n">simpleDescription</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="o">//</span> <span class="n">Prints</span> <span class="s2">&#34;The number 7&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>You can use a protocol name just like any other named type ‚Äî for example, to create a collection of objects that have different types but that all conform to a single protocol. When you work with values whose type is a boxed protocol type, methods outside the protocol definition aren‚Äôt available.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">let protocolValue: any ExampleProtocol = a
</span></span><span class="line"><span class="cl">print(protocolValue.simpleDescription)
</span></span><span class="line"><span class="cl">// Prints &#34;A very simple class.  Now 100% adjusted.&#34;
</span></span><span class="line"><span class="cl">// print(protocolValue.anotherProperty)  // Uncomment to see the error
</span></span></code></pre></td></tr></table>
</div>
</div><p>Even though the variable protocolValue has a runtime type of SimpleClass, the compiler treats it as the given type of ExampleProtocol. This means that you can‚Äôt accidentally access methods or properties that the class implements in addition to its protocol conformance.</p>
<h2 id="error-handling">Error Handling
</h2><h3 id="error">Error
</h3><p>You represent errors using any type that adopts the Error protocol.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="k">enum</span> <span class="n">PrinterError</span><span class="p">:</span> <span class="n">Error</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">case</span> <span class="n">outOfPaper</span>
</span></span><span class="line"><span class="cl">    <span class="k">case</span> <span class="n">noToner</span>
</span></span><span class="line"><span class="cl">    <span class="k">case</span> <span class="n">onFire</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Use throw to throw an error and throws to mark a function that can throw an error. If you throw an error in a function, the function returns immediately and the code that called the function handles the error.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="k">func</span> <span class="n">send</span><span class="p">(</span><span class="n">job</span><span class="p">:</span> <span class="n">Int</span><span class="p">,</span> <span class="n">toPrinter</span> <span class="n">printerName</span><span class="p">:</span> <span class="ne">String</span><span class="p">)</span> <span class="n">throws</span> <span class="o">-&gt;</span> <span class="ne">String</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">printerName</span> <span class="o">==</span> <span class="s2">&#34;Never Has Toner&#34;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">throw</span> <span class="n">PrinterError</span><span class="o">.</span><span class="n">noToner</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="s2">&#34;Job sent&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>There are several ways to handle errors. One way is to use do-catch. Inside the do block, you mark code that can throw an error by writing try in front of it. Inside the catch block, the error is automatically given the name error unless you give it a different name.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">do {
</span></span><span class="line"><span class="cl">    let printerResponse = try send(job: 1040, toPrinter: &#34;Bi Sheng&#34;)
</span></span><span class="line"><span class="cl">    print(printerResponse)
</span></span><span class="line"><span class="cl">} catch {
</span></span><span class="line"><span class="cl">    print(error)
</span></span><span class="line"><span class="cl">}
</span></span><span class="line"><span class="cl">// Prints &#34;Job sent&#34;
</span></span></code></pre></td></tr></table>
</div>
</div><p>You can provide multiple catch blocks that handle specific errors. You write a pattern after catch just as you do after case in a switch.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">do {
</span></span><span class="line"><span class="cl">    let printerResponse = try send(job: 1440, toPrinter: &#34;Gutenberg&#34;)
</span></span><span class="line"><span class="cl">    print(printerResponse)
</span></span><span class="line"><span class="cl">} catch PrinterError.onFire {
</span></span><span class="line"><span class="cl">    print(&#34;I&#39;ll just put this over here, with the rest of the fire.&#34;)
</span></span><span class="line"><span class="cl">} catch let printerError as PrinterError {
</span></span><span class="line"><span class="cl">    print(&#34;Printer error: \(printerError).&#34;)
</span></span><span class="line"><span class="cl">} catch {
</span></span><span class="line"><span class="cl">    print(error)
</span></span><span class="line"><span class="cl">}
</span></span><span class="line"><span class="cl">// Prints &#34;Job sent&#34;
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="defer">defer
</h3><p>Use defer to write a block of code that‚Äôs executed after all other code in the function, just before the function returns. The code is executed regardless of whether the function throws an error. You can use defer to write setup and cleanup code next to each other, even though they need to be executed at different times.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="k">var</span> <span class="n">fridgeIsOpen</span> <span class="o">=</span> <span class="bp">false</span>
</span></span><span class="line"><span class="cl"><span class="n">let</span> <span class="n">fridgeContent</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&#34;milk&#34;</span><span class="p">,</span> <span class="s2">&#34;eggs&#34;</span><span class="p">,</span> <span class="s2">&#34;leftovers&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">func</span> <span class="n">fridgeContains</span><span class="p">(</span><span class="n">_</span> <span class="n">food</span><span class="p">:</span> <span class="ne">String</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Bool</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">fridgeIsOpen</span> <span class="o">=</span> <span class="bp">true</span>
</span></span><span class="line"><span class="cl">    <span class="n">defer</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">fridgeIsOpen</span> <span class="o">=</span> <span class="bp">false</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">let</span> <span class="n">result</span> <span class="o">=</span> <span class="n">fridgeContent</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="n">food</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">result</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="n">fridgeContains</span><span class="p">(</span><span class="s2">&#34;banana&#34;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Found a banana&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">fridgeIsOpen</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="o">//</span> <span class="n">Prints</span> <span class="s2">&#34;false&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="generics-Ê≥õÂûã">Generics ÔºàÊ≥õÂûãÔºâ
</h2><p>Write a name inside angle brackets to make a generic function or type.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="k">func</span> <span class="n">makeArray</span><span class="o">&lt;</span><span class="n">Item</span><span class="o">&gt;</span><span class="p">(</span><span class="n">repeating</span> <span class="n">item</span><span class="p">:</span> <span class="n">Item</span><span class="p">,</span> <span class="n">numberOfTimes</span><span class="p">:</span> <span class="n">Int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="n">Item</span><span class="p">]</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">var</span> <span class="n">result</span><span class="p">:</span> <span class="p">[</span><span class="n">Item</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="mf">0.</span><span class="o">.&lt;</span><span class="n">numberOfTimes</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">         <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">result</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="n">makeArray</span><span class="p">(</span><span class="n">repeating</span><span class="p">:</span> <span class="s2">&#34;knock&#34;</span><span class="p">,</span> <span class="n">numberOfTimes</span><span class="p">:</span> <span class="mi">4</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>You can make generic forms of functions and methods, as well as classes, enumerations, and structures.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="o">//</span> <span class="n">Reimplement</span> <span class="n">the</span> <span class="n">Swift</span> <span class="n">standard</span> <span class="n">library</span><span class="s1">&#39;s optional type</span>
</span></span><span class="line"><span class="cl"><span class="k">enum</span> <span class="n">OptionalValue</span><span class="o">&lt;</span><span class="n">Wrapped</span><span class="o">&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">case</span> <span class="n">none</span>
</span></span><span class="line"><span class="cl">    <span class="k">case</span> <span class="n">some</span><span class="p">(</span><span class="n">Wrapped</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="k">var</span> <span class="n">possibleInteger</span><span class="p">:</span> <span class="n">OptionalValue</span><span class="o">&lt;</span><span class="n">Int</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">.</span><span class="n">none</span>
</span></span><span class="line"><span class="cl"><span class="n">possibleInteger</span> <span class="o">=</span> <span class="o">.</span><span class="n">some</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Use where right before the body to specify a list of requirements ‚Äî for example, to require the type to implement a protocol, to require two types to be the same, or to require a class to have a particular superclass.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="k">func</span> <span class="n">anyCommonElements</span><span class="o">&lt;</span><span class="n">T</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">,</span> <span class="n">U</span><span class="p">:</span> <span class="n">Sequence</span><span class="o">&gt;</span><span class="p">(</span><span class="n">_</span> <span class="n">lhs</span><span class="p">:</span> <span class="n">T</span><span class="p">,</span> <span class="n">_</span> <span class="n">rhs</span><span class="p">:</span> <span class="n">U</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Bool</span>
</span></span><span class="line"><span class="cl">    <span class="n">where</span> <span class="n">T</span><span class="o">.</span><span class="n">Element</span><span class="p">:</span> <span class="n">Equatable</span><span class="p">,</span> <span class="n">T</span><span class="o">.</span><span class="n">Element</span> <span class="o">==</span> <span class="n">U</span><span class="o">.</span><span class="n">Element</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">lhsItem</span> <span class="ow">in</span> <span class="n">lhs</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">rhsItem</span> <span class="ow">in</span> <span class="n">rhs</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">lhsItem</span> <span class="o">==</span> <span class="n">rhsItem</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span> <span class="bp">true</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">   <span class="k">return</span> <span class="bp">false</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="n">anyCommonElements</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">])</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="optional-binding">Optional Binding
</h2><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="k">var</span> <span class="n">name</span><span class="p">:</span> <span class="ne">String</span><span class="err">?</span> <span class="o">=</span> <span class="s2">&#34;Scott&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="n">let</span> <span class="n">unwrappedName</span> <span class="o">=</span> <span class="n">name</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Hello, \(unwrappedName)&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;No name found.&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="providing-a-fallback-value">Providing a Fallback Value
</h2><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">let name: String? = nil
</span></span><span class="line"><span class="cl">let greeting = &#34;Hello, &#34; + (name ?? &#34;friend&#34;) + &#34;!&#34;
</span></span><span class="line"><span class="cl">print(greeting)
</span></span><span class="line"><span class="cl">// Prints &#34;Hello, friend!&#34;
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="force-unwrapping">Force Unwrapping
</h2><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">let possibleNumber = &#34;123&#34;
</span></span><span class="line"><span class="cl">let convertedNumber = Int(possibleNumber)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">let number = convertedNumber!
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">guard let number = convertedNumber else {
</span></span><span class="line"><span class="cl">    fatalError(&#34;The number was invalid&#34;)
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="debugging-with-assertions">Debugging with Assertions
</h2><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">let age = -3
</span></span><span class="line"><span class="cl">assert(age &gt;= 0, &#34;A person&#39;s age can&#39;t be less than zero.&#34;)
</span></span><span class="line"><span class="cl">// This assertion fails because -3 isn&#39;t &gt;= 0.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">if age &gt; 10 {
</span></span><span class="line"><span class="cl">    print(&#34;You can ride the roller-coaster or the ferris wheel.&#34;)
</span></span><span class="line"><span class="cl">} else if age &gt;= 0 {
</span></span><span class="line"><span class="cl">    print(&#34;You can ride the ferris wheel.&#34;)
</span></span><span class="line"><span class="cl">} else {
</span></span><span class="line"><span class="cl">    assertionFailure(&#34;A person&#39;s age can&#39;t be less than zero.&#34;)
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="enforcing-preconditions">Enforcing Preconditions
</h2><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">// In the implementation of a subscript...
</span></span><span class="line"><span class="cl">precondition(index &gt; 0, &#34;Index must be greater than zero.&#34;)
</span></span></code></pre></td></tr></table>
</div>
</div>
</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/swift/">Swift</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>


    
</article>

    

    

     
    
        
    <div class="disqus-container">
    <div id="disqus_thread"></div>
<script>
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "blog-iostao-com" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>

<style>
    .disqus-container {
        background-color: var(--card-background);
        border-radius: var(--card-border-radius);
        box-shadow: var(--shadow-l1);
        padding: var(--card-padding);
    }
</style>

<script>
    window.addEventListener('onColorSchemeChange', (e) => {
        if (typeof DISQUS == 'object') {
            DISQUS.reset({
                reload: true
            });
        }
    })
</script>

    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2020 - 
        
        2025 Scott Tao
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Theme <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.27.0">Stack</a></b> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
