<!DOCTYPE html>
<html lang="en-us" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content="æ ¹æ®è‹¹æœå¼€å‘è€…ç½‘ç«™çš„å£°æ˜ï¼Œå¤§éƒ¨åˆ†ç°æœ‰åº”ç”¨ç¨‹åºå·²ç»é€šè¿‡NSURLSessionå’ŒCFNetwork APIså…¼å®¹è¯¥åè®®ã€‚ä¾ç„¶ä½¿ç”¨IPv4 APIsçš„æˆ–è€…ç¡¬ä»¶ç¼–ç IPåœ°å€çš„å¼€å‘è€…å°†éœ€è¦æ‰‹å·¥è°ƒæ•´åº”ç”¨ä»£ç æ¥é€‚åº”è‹¹æœçš„æœ€æ–°ç­–ç•¥ã€‚\nIPv6æ¯”IPv4æ›´æœ‰æ•ˆï¼š é¿å…äº†ç½‘ç»œåœ°å€è½¬æ¢çš„éœ€è¦(NAT: Network Address Translation) ">
<meta name="keywords" content="IPv6"><title>6 æœˆ 1 æ—¥èµ·æ‰€æœ‰æäº¤çš„ app éƒ½éœ€è¦æ”¯æŒ IPv6 ç½‘ç»œ</title>

<link rel='canonical' href='https://blog.iostao.com/2016/05/ios-requireipv6/'>

<link rel="stylesheet" href="/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css"><meta property='og:title' content="6 æœˆ 1 æ—¥èµ·æ‰€æœ‰æäº¤çš„ app éƒ½éœ€è¦æ”¯æŒ IPv6 ç½‘ç»œ">
<meta property='og:description' content="æ ¹æ®è‹¹æœå¼€å‘è€…ç½‘ç«™çš„å£°æ˜ï¼Œå¤§éƒ¨åˆ†ç°æœ‰åº”ç”¨ç¨‹åºå·²ç»é€šè¿‡NSURLSessionå’ŒCFNetwork APIså…¼å®¹è¯¥åè®®ã€‚ä¾ç„¶ä½¿ç”¨IPv4 APIsçš„æˆ–è€…ç¡¬ä»¶ç¼–ç IPåœ°å€çš„å¼€å‘è€…å°†éœ€è¦æ‰‹å·¥è°ƒæ•´åº”ç”¨ä»£ç æ¥é€‚åº”è‹¹æœçš„æœ€æ–°ç­–ç•¥ã€‚\nIPv6æ¯”IPv4æ›´æœ‰æ•ˆï¼š é¿å…äº†ç½‘ç»œåœ°å€è½¬æ¢çš„éœ€è¦(NAT: Network Address Translation) ">
<meta property='og:url' content='https://blog.iostao.com/2016/05/ios-requireipv6/'>
<meta property='og:site_name' content='Scott Tao'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='ios' /><meta property='article:published_time' content='2016-05-22T11:58:16&#43;00:00'/><meta property='article:modified_time' content='2016-05-22T11:58:16&#43;00:00'/>
<meta name="twitter:title" content="6 æœˆ 1 æ—¥èµ·æ‰€æœ‰æäº¤çš„ app éƒ½éœ€è¦æ”¯æŒ IPv6 ç½‘ç»œ">
<meta name="twitter:description" content="æ ¹æ®è‹¹æœå¼€å‘è€…ç½‘ç«™çš„å£°æ˜ï¼Œå¤§éƒ¨åˆ†ç°æœ‰åº”ç”¨ç¨‹åºå·²ç»é€šè¿‡NSURLSessionå’ŒCFNetwork APIså…¼å®¹è¯¥åè®®ã€‚ä¾ç„¶ä½¿ç”¨IPv4 APIsçš„æˆ–è€…ç¡¬ä»¶ç¼–ç IPåœ°å€çš„å¼€å‘è€…å°†éœ€è¦æ‰‹å·¥è°ƒæ•´åº”ç”¨ä»£ç æ¥é€‚åº”è‹¹æœçš„æœ€æ–°ç­–ç•¥ã€‚\nIPv6æ¯”IPv4æ›´æœ‰æ•ˆï¼š é¿å…äº†ç½‘ç»œåœ°å€è½¬æ¢çš„éœ€è¦(NAT: Network Address Translation) ">
    <link rel="shortcut icon" href="/favicon.png" />

    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="Toggle Menu">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avatar_hu6452860752114553384.png" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">ğŸ˜</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">Scott Tao</a></h1>
            <h2 class="site-description">Senior iOS Developer

Specializing in iOS app development since 2013. Objective-C, Swift, Swift-UI, Java, Golang, Vue-JS, Docker, Git. ğŸŒï¼šBochum, Germany.
</h2>
        </div>
    </header><ol class="menu-social">
            
                <li>
                    <a 
                        href='https://www.linkedin.com/in/scott-tao-ios/'
                        target="_blank"
                        title="Linkin"
                        rel="me"
                    >
                        
                        
                            <?xml version="1.0" standalone="no"?>
<svg 
  xmlns="http://www.w3.org/2000/svg" 
  class="icon icon-tabler icon-tabler-me"
  width="24"
  height="24"
  viewBox="0 0 24 24"
  stroke-width="2"
  stroke="currentColor"
  fill="none"
  stroke-linecap="round"
  stroke-linejoin="round"
>
      <path d="M20.5 2h-17A1.5 1.5 0 002 3.5v17A1.5 1.5 0 003.5 22h17a1.5 1.5 0 001.5-1.5v-17A1.5 1.5 0 0020.5 2zM8 19H5v-9h3zM6.5 8.25A1.75 1.75 0 118.3 6.5a1.78 1.78 0 01-1.8 1.75zM19 19h-3v-4.74c0-1.42-.6-1.93-1.38-1.93A1.74 1.74 0 0013 14.19a.66.66 0 000 .14V19h-3v-9h2.9v1.3a3.11 3.11 0 012.7-1.4c1.55 0 3.36.86 3.36 3.66z"></path>
</svg>

                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>Home</span>
            </a>
        </li>
        
        
        <li >
            <a href='/2022/03/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>Archives</span>
            </a>
        </li>
        
        
        <li >
            <a href='/1/01/links/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>Links</span>
            </a>
        </li>
        
        
        <li >
            <a href='/1/01/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>Search</span>
            </a>
        </li>
        
        
        <li >
            <a href='/de' >
                
                
                
                    <?xml version="1.0" standalone="no"?>
<svg 
  xmlns="http://www.w3.org/2000/svg" 
  class="icon icon-tabler icon-tabler-de"
  width="24"
  height="24"
  viewBox="0 0 24 24"
  stroke-width="2"
  stroke="currentColor"
  fill="none"
  stroke-linecap="round"
  stroke-linejoin="round"
>
  <!-- ç»˜åˆ¶åœ†å½¢ -->
  <circle cx="12" cy="13" r="9" />
  <!-- ç»˜åˆ¶å¤´å‘çš„å°–è§’ -->
  <path d="M12 2 L14 4 L10 4 Z" />
  <!-- ç»˜åˆ¶å­—æ¯D -->
  <path d="M8 10 C8 9 9 8 10 8 H12 C13 8 14 9 14 10 V12 C14 13 13 14 12 14 H10 C9 14 8 13 8 12 Z" />
  <!-- ç»˜åˆ¶å­—æ¯E -->
  <path d="M16 10 H18 V8 H16 C15 8 14 9 14 10 V14 C14 15 15 16 16 16 H18 V14 H16" />
</svg>
                
                <span>German</span>
            </a>
        </li>
        
        
        <li >
            <a href='/me' >
                
                
                
                    <?xml version="1.0" standalone="no"?>
<svg 
  xmlns="http://www.w3.org/2000/svg" 
  class="icon icon-tabler icon-tabler-me"
  width="24"
  height="24"
  viewBox="0 0 24 24"
  stroke-width="2"
  stroke="currentColor"
  fill="none"
  stroke-linecap="round"
  stroke-linejoin="round"
>
  <!-- ç»˜åˆ¶åœ†å½¢ -->
  <circle cx="12" cy="13" r="9" />
  <!-- ç»˜åˆ¶å¤´å‘çš„å°–è§’ -->
  <path d="M12 2 L14 4 L10 4 Z" />
  <!-- ç»˜åˆ¶å·¦çœ¼ -->
  <ellipse cx="9" cy="13" rx="1" ry="2" />
  <!-- ç»˜åˆ¶å³çœ¼ -->
  <ellipse cx="15" cy="13" rx="1" ry="2" />
</svg>
                
                <span>Me</span>
            </a>
        </li>
        
        
        <li >
            <a href='/about' >
                
                
                
                    <?xml version="1.0" standalone="no"?>
<svg 
  xmlns="http://www.w3.org/2000/svg" 
  class="icon icon-tabler icon-tabler-about"
  width="24"
  height="24"
  viewBox="0 0 24 24"
  stroke-width="2"
  stroke="currentColor"
  fill="none"
  stroke-linecap="round"
  stroke-linejoin="round"
>
	<path stroke="none" d="M0 0h24v24H0z"/>
	<!-- <circle cx="515" cy="512" r="450" style="stroke: #000066; fill: #FF0000;" /> -->
	<!-- <circle cx="515" cy="512" r="450"/> -->
	<circle cx="12" cy="12" r="8" stroke="currentColor" stroke-width="2"/>
	<circle cx="12" cy="8" r="1" />
  	<line x1="12" y1="12" x2="12" y2="17" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
</svg>




                
                <span>About</span>
            </a>
        </li>
        
        <li class="menu-bottom-section">
            <ol class="menu">

                
                    <li id="dark-mode-toggle">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <span>Dark Mode</span>
                    </li>
                
            </ol>
        </li>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">Table of contents</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li>
      <ol>
        <li>
          <ol>
            <li><a href="#ipv6æ¯”ipv4æ›´æœ‰æ•ˆ">IPv6æ¯”IPv4æ›´æœ‰æ•ˆï¼š</a></li>
            <li><a href="#dns64nat64-è¿‡æ¸¡å·¥ä½œæµç¨‹">DNS64/NAT64 è¿‡æ¸¡å·¥ä½œæµç¨‹</a></li>
            <li><a href="#ipv6-å’Œ-app-store-çš„è¦æ±‚">IPv6 å’Œ App Store çš„è¦æ±‚</a></li>
            <li><a href="#æ”¯æŒipv6çš„å¸¸è§é—®é¢˜">æ”¯æŒIPv6çš„å¸¸è§é—®é¢˜</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#ç¡®ä¿ipv6-dns64nat64å…¼å®¹æ€§">ç¡®ä¿IPv6 DNS64/NAT64å…¼å®¹æ€§</a>
      <ol>
        <li>
          <ol>
            <li><a href="#ä½¿ç”¨é«˜çº§çš„ç½‘ç»œæ¡†æ¶">ä½¿ç”¨é«˜çº§çš„ç½‘ç»œæ¡†æ¶</a></li>
          </ol>
        </li>
      </ol>
    </li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/ios/" >
                Ios
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/2016/05/ios-requireipv6/">6 æœˆ 1 æ—¥èµ·æ‰€æœ‰æäº¤çš„ app éƒ½éœ€è¦æ”¯æŒ IPv6 ç½‘ç»œ</a>
        </h2>
    
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">May 22, 2016</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    3 minute read
                </time>
            </div>
        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <p>æ ¹æ®è‹¹æœå¼€å‘è€…ç½‘ç«™çš„å£°æ˜ï¼Œå¤§éƒ¨åˆ†ç°æœ‰åº”ç”¨ç¨‹åºå·²ç»é€šè¿‡NSURLSessionå’ŒCFNetwork APIså…¼å®¹è¯¥åè®®ã€‚ä¾ç„¶ä½¿ç”¨IPv4 APIsçš„æˆ–è€…ç¡¬ä»¶ç¼–ç IPåœ°å€çš„å¼€å‘è€…å°†éœ€è¦æ‰‹å·¥è°ƒæ•´åº”ç”¨ä»£ç æ¥é€‚åº”è‹¹æœçš„æœ€æ–°ç­–ç•¥ã€‚</p>
<h4 id="ipv6æ¯”ipv4æ›´æœ‰æ•ˆ">IPv6æ¯”IPv4æ›´æœ‰æ•ˆï¼š
</h4><ul>
<li>é¿å…äº†ç½‘ç»œåœ°å€è½¬æ¢çš„éœ€è¦(NAT: Network Address Translation)</li>
</ul>
<ul>
<li>é€šè¿‡ä½¿ç”¨ç®€å•çš„Headersï¼Œé€šè¿‡ç½‘ç»œæä¾›æ›´å¿«çš„è·¯ç”±
<ul>
<li>é˜²æ­¢ç½‘ç»œç¢ç‰‡</li>
<li>Avoids broadcasting for neighbor address resolution ï¼ˆé¿å…å¹¿æ’­ &hellip;.ï¼Œè¯·è‡ªè¡Œç¿»è¯‘å¥½äº†ï¼‰</li>
</ul>
</li>
</ul>
<h4 id="dns64nat64-è¿‡æ¸¡å·¥ä½œæµç¨‹">DNS64/NAT64 è¿‡æ¸¡å·¥ä½œæµç¨‹
</h4><p>ä¸ºäº†å¸®åŠ©å‡ç¼“IPv4åœ°å€è€—å°½ï¼ŒNATåœ¨è®¸å¤šIPv4ç½‘ç»œå®ç°ã€‚è™½ç„¶è¿™ä¸ªè§£å†³æ–¹æ¡ˆæš‚æ—¶å·¥ä½œï¼Œå®ƒè¯æ˜äº†æ˜‚è´µå’Œè„†å¼±ã€‚ä»Šå¤©ï¼Œéšç€è¶Šæ¥è¶Šå¤šçš„å®¢æˆ·ä½¿ç”¨IPv6ï¼Œä¾›åº”å•†ç°åœ¨å¿…é¡»åŒæ—¶æ”¯æŒIPv4å’ŒIPv6ã€‚è¿™æ˜¯ä¸€ä¸ªä»£ä»·é«˜æ˜‚çš„åŠªåŠ›ã€‚
å›¾<code>1-1</code>èœ‚çªç½‘ç»œæä¾›ç‹¬ç«‹çš„IPv4å’ŒIPv6è¿æ¥
<img src="/2016/05/ios-requireipv6/require-ipv6-1.png"
	width="937"
	height="553"
	srcset="/2016/05/ios-requireipv6/require-ipv6-1_hu14165595446409490868.png 480w, /2016/05/ios-requireipv6/require-ipv6-1_hu8178422079683520665.png 1024w"
	loading="lazy"
	
		alt="IPv4å’ŒIPv6è¿æ¥"
	
	
		class="gallery-image" 
		data-flex-grow="169"
		data-flex-basis="406px"
	
></p>
<p>ç†æƒ³çš„æƒ…å†µä¸‹ï¼Œä¾›åº”å•†è¦é™ä¸ºIPv4ç½‘ç»œæ”¯æŒã€‚ç„¶è€Œï¼Œè¿™æ ·åšå¯ä»¥é˜²æ­¢å®¢æˆ·ç«¯è®¿é—®IPv4çš„æœåŠ¡å™¨ï¼Œè¿™æ˜¯äº’è”ç½‘çš„ä¸€ä¸ªé‡è¦éƒ¨åˆ†ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæœ€ä¸»è¦çš„ç½‘ç»œä¾›åº”å•†å®æ–½ DNS64/NAT64 è¿‡æ¸¡å·¥ä½œã€‚è¿™æ˜¯ä¸€ä¸ªçº¯IPv6ç½‘ç»œï¼Œç»§ç»­æä¾›è®¿é—®IPv4å†…å®¹é€šè¿‡ç¿»è¯‘ã€‚
å›¾<code>1-2</code>èœ‚çªç½‘ç»œçš„éƒ¨ç½²ä¸ DNS64 å’Œ NAT64 çš„IPv6ç½‘ç»œ
<img src="/2016/05/ios-requireipv6/require-ipv6-2.png"
	width="937"
	height="553"
	srcset="/2016/05/ios-requireipv6/require-ipv6-2_hu17935680927815367998.png 480w, /2016/05/ios-requireipv6/require-ipv6-2_hu14249982903671885913.png 1024w"
	loading="lazy"
	
		alt="DNS64 å’Œ NAT64 çš„IPv6ç½‘ç»œ"
	
	
		class="gallery-image" 
		data-flex-grow="169"
		data-flex-basis="406px"
	
></p>
<p>åœ¨è¿™ç§ç±»å‹çš„å·¥ä½œæµä¸­ï¼Œå®¢æˆ·ç«¯å‘é€DNSæŸ¥è¯¢åˆ°DNS64æœåŠ¡å™¨ï¼Œå®ƒè¦æ±‚ä»DNSæœåŠ¡å™¨è·å– IPv6 åœ°å€ã€‚å½“ä¸€ä¸ªIPv6åœ°å€è¢«å‘ç°ï¼Œå®ƒä¼šç«‹å³ä¼ å›åˆ°å®¢æˆ·ç«¯ã€‚ç„¶è€Œï¼Œå½“æ²¡æœ‰æ‰¾åˆ°IPv6åœ°å€æ—¶ï¼ŒDNS64æœåŠ¡å™¨è¯·æ±‚ä¸€ä¸ªIPv4åœ°å€ä»£æ›¿ã€‚ç„¶åDNS64æœåŠ¡å™¨é€šè¿‡ä¸ºIPv4æ·»åŠ åœ°å€å‰ç¼€åˆæˆä¸€ä¸ªIPv6åœ°å€ï¼Œå¹¶ä¼ é€’å›å®¢æˆ·ç«¯ã€‚åœ¨è¿™æ–¹é¢ï¼Œå®¢æˆ·ç«¯æ€»æ˜¯æ”¶åˆ°ä¸€ä¸ªIPv6-readyåœ°å€ï¼ˆIn this regard, the client always receives an IPv6-ready address.æœ€åä¸€å¥åŸæ–‡ By è€é™¶2016-05-22 12:29:56ï¼‰ã€‚</p>
<p>å›¾<code>1-3</code>å¤„ç†IPv4å‘IPv6çš„è½¬æ¢è¿‡ç¨‹
<img src="/2016/05/ios-requireipv6/require-ipv6-3.png"
	width="1308"
	height="882"
	srcset="/2016/05/ios-requireipv6/require-ipv6-3_hu7185881398787215200.png 480w, /2016/05/ios-requireipv6/require-ipv6-3_hu5238098536541329760.png 1024w"
	loading="lazy"
	
		alt="IPv4å‘IPv6çš„è½¬æ¢è¿‡ç¨‹"
	
	
		class="gallery-image" 
		data-flex-grow="148"
		data-flex-basis="355px"
	
></p>
<p>å½“å®¢æˆ·ç«¯åƒæœåŠ¡å™¨å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œä»»ä½•IPv6æ•°æ®åŒ…</p>
<p>When the client sends a request to a server, any IPv6 packets destined for synthesized addresses are automatically routed by the network through a NAT64 gateway. The gateway performs the IPv6-to-IPv4 address and protocol translation for the request. It also performs the IPv4 to IPv6 translation for the response from the server. See Figure 1-4.</p>
<p>å›¾<code>1-4</code> DNS64/NAT64è¿‡æ¸¡æ–¹æ¡ˆå·¥ä½œæµç¨‹
<img src="/2016/05/ios-requireipv6/require-ipv6-4.png"
	width="1287"
	height="750"
	srcset="/2016/05/ios-requireipv6/require-ipv6-4_hu10015729948620258623.png 480w, /2016/05/ios-requireipv6/require-ipv6-4_hu13837624366809164448.png 1024w"
	loading="lazy"
	
		alt="DNS64/NAT64è¿‡æ¸¡æ–¹æ¡ˆå·¥ä½œæµç¨‹"
	
	
		class="gallery-image" 
		data-flex-grow="171"
		data-flex-basis="411px"
	
></p>
<h4 id="ipv6-å’Œ-app-store-çš„è¦æ±‚">IPv6 å’Œ App Store çš„è¦æ±‚
</h4><p>IPv6 DNS64/NAT64çš„ç½‘ç»œå…¼å®¹æ€§å¤„ç†å°†æˆä¸º App Store çš„ä¸€ä¸ªæäº¤è¦æ±‚ï¼Œæ‰€ä»¥åº”ç”¨ç¨‹åºå…¼å®¹æ€§ä¸å¯å°‘çš„ã€‚å¥½æ¶ˆæ¯æ˜¯å¤§éƒ¨åˆ†è½¯ä»¶éƒ½å…¼å®¹IPv6.å¯¹äºè¿™äº›åº”ç”¨ï¼Œå®šæœŸå›å½’æµ‹è¯•ä½ çš„åº”ç”¨ç¨‹åºä»ç„¶æ˜¯æœ‰å¿…è¦çš„ã€‚ä¸å…¼å®¹IPv6çš„åº”ç”¨åœ¨æ“ä½œDNS64/NAT64ç½‘ç»œæ—¶å¯èƒ½ä¼šé‡åˆ°é—®é¢˜ã€‚å¹¸è¿çš„æ˜¯ï¼Œè§£å†³è¿™äº›é—®é¢˜é€šå¸¸å¾ˆç®€å•ï¼Œå°±åƒæ˜¯æœ¬ç« èŠ‚æ‰€è®¨è®ºçš„ã€‚</p>
<h4 id="æ”¯æŒipv6çš„å¸¸è§é—®é¢˜">æ”¯æŒIPv6çš„å¸¸è§é—®é¢˜
</h4><p>å‡ ç§é˜»æ­¢ä¸€ä¸ªåº”ç”¨æ”¯æŒIPv6çš„æƒ…å†µã€‚ä¸‹é¢çš„ç« èŠ‚æè¿°å¦‚ä½•è§£å†³è¿™äº›é—®é¢˜ã€‚</p>
<ul>
<li>åè®®ä¸­åŒ…å«IPåœ°å€çš„æ–‡å­—ã€‚</li>
<li>åœ¨é…ç½®æ–‡ä»¶ä¸­åŒ…å«IPåœ°å€ã€‚</li>
<li>ç½‘ç»œæ£€æµ‹ã€‚</li>
<li>ä½¿ç”¨åœ°çº§åˆ«çš„ç½‘ç»œAPI.</li>
<li>Using small address family storage containers.ï¼ˆè¯·è‡ªè¡Œç¿»è¯‘ add By è€é™¶ 2016-05-22 15:15:36ï¼‰</li>
</ul>
<p>æ­¤éƒ¨åˆ†åŸæ–‡ï¼š</p>
<pre><code>		Several situations can prevent an app from supporting IPv6. The sections that follow describe how to resolve these problems.
	
	IP address literals embedded in protocols. Many communications protocols, such as Session Initiation Protocol (SIP), File Transfer Protocol (FTP), WebSockets, and Peer-to-Peer Protocol (P2PP), include IP address literals in protocol messages. For example, the FTP parameter commands DATA PORT and PASSIVE exchange information that includes IP address literals. Similarly, IP address literals may appear in the values of SIP header fields, such as To, From, Contact, Record-Route, and Via. See Use High-Level Networking Frameworks and Donâ€™t Use IP Address Literals.
	IP address literals embedded in configuration files. Configuration files often include IP address literals. See Donâ€™t Use IP Address Literals.
	Network preflighting. Many apps attempt to proactively check for an Internet connection or an active Wi-Fi connection by passing IP address literals to network reachability APIs. See Connect Without Preflight.
	Using low-level networking APIs. Some apps work directly with sockets and other raw network APIs such as gethostbyname, gethostbyname2, and inet_aton. These APIs are prone to misuse or they only support IPv4â€”for example, resolving hostnames for the AF_INET address family, rather than the AF_UNSPEC address family. See Use High-Level Networking Frameworks.
	Using small address family storage containers. Some apps and networking libraries use address storage containersâ€”such as uint32_t, in_addr, and sockaddr_inâ€”that are 32 bits or smaller. See Use Appropriately Sized Storage Containers.
</code></pre>
<h2 id="ç¡®ä¿ipv6-dns64nat64å…¼å®¹æ€§">ç¡®ä¿IPv6 DNS64/NAT64å…¼å®¹æ€§
</h2><p>éµå¾ªä»¥ä¸‹çš„çŸ¥é“ä»¥ç¡®ä¿IPv6 DNS64/NAT64åœ¨ä½ çš„åº”ç”¨ç¨‹åºçš„å…¼å®¹æ€§ã€‚</p>
<h4 id="ä½¿ç”¨é«˜çº§çš„ç½‘ç»œæ¡†æ¶">ä½¿ç”¨é«˜çº§çš„ç½‘ç»œæ¡†æ¶
</h4><pre><code>åº”ç”¨éœ€è¦å¯ä»¥å»ºç«‹åœ¨`é«˜çº§ç½‘ç»œæ¡†æ¶` æˆ– `ä½çº§POSIX socket APIç½‘ç»œæ¡†æ¶`ã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œé«˜å±‚æ¬¡æ¡†æ¶æ˜¯è¶³å¤Ÿçš„ã€‚å®ƒä»¬æœ‰èƒ½åŠ›ï¼Œæ˜“äºä½¿ç”¨ï¼Œç›¸æ¯”ä½çº§APIæ‹¥æœ‰æ›´å°‘çš„ç¼ºé™·ã€‚
</code></pre>
<p>å›¾ <code>1-5</code> ç½‘ç»œæ¡†æ¶å’ŒAPIå›¾
<img src="/2016/05/ios-requireipv6/require-ipv6-5.png"
	width="1242"
	height="711"
	srcset="/2016/05/ios-requireipv6/require-ipv6-5_hu1780319019810074547.png 480w, /2016/05/ios-requireipv6/require-ipv6-5_hu13227260278074769796.png 1024w"
	loading="lazy"
	
		alt="ç½‘ç»œæ¡†æ¶å’ŒAPIå›¾"
	
	
		class="gallery-image" 
		data-flex-grow="174"
		data-flex-basis="419px"
	
></p>
<ul>
<li>
<p><b>WebKit.</b> This framework provides a set of classes for displaying web content in windows, and implements browser features such as following links, managing a back-forward list, and managing a history of pages recently visited. WebKit simplifies the complicated process of loading webpagesâ€”that is, asynchronously requesting web content from an HTTP server where the response may arrive incrementally, in random order, or partially due to network errors. For more information, see <a class="link" href="https://developer.apple.com/library/mac/documentation/Cocoa/Reference/WebKit/ObjC_classic/index.html#//apple_ref/doc/uid/TP30000745"  target="_blank" rel="noopener"
    >WebKit Framework Reference</a>.</p>
</li>
<li>
<p><b>Cocoa URL loading system.</b> This system is the easiest way to send and receive data over the network without providing an explicit IP address. Data is sent and received using one of several classesâ€”such as <code>NSURLSession</code>, <code>NSURLRequest</code>, and <code>NSURLConnection</code>â€”that work with <code>NSURL</code> objects. <code>NSURL</code> objects let your app manipulate URLs and the resources they reference. Create an NSURL object by calling the <code>initWithString</code>: method and passing it a URL specifier. Call the <a class="link" href="https://developer.apple.com/library/mac/documentation/Cocoa/Reference/Foundation/Classes/NSURL_Class/index.html#//apple_ref/occ/instm/NSURL/checkResourceIsReachableAndReturnError:"  target="_blank" rel="noopener"
    >checkResourceIsReachableAndReturnError</a>: method of the <code>NSURL</code> class to check the reachability of a host. For more information, see <a class="link" href="https://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/URLLoadingSystem/URLLoadingSystem.html#//apple_ref/doc/uid/10000165i"  target="_blank" rel="noopener"
    >URL Session Programming Guide</a>.</p>
</li>
<li>
<p><b>CFNetwork.</b> This Core Services framework provides a library of abstractions for network protocols, which makes it easy to perform a variety of network tasks such as working with BSD sockets, resolving DNS hosts, and working with HTTP/HTTPS. To target a host without an explicit IP address, call the <a class="link" href="https://developer.apple.com/library/mac/documentation/CoreFoundation/Reference/CFHostRef/index.html#//apple_ref/c/func/CFHostCreateWithName"  target="_blank" rel="noopener"
    >CFHostCreateWithName</a> method. To open a pair of TCP sockets to the host, call the <a class="link" href="https://developer.apple.com/library/mac/documentation/CoreFoundation/Reference/CFStreamConstants/index.html#//apple_ref/c/func/CFStreamCreatePairWithSocketToCFHost"  target="_blank" rel="noopener"
    >CFStreamCreatePairWithSocketToCFHost</a> method. For more information, see [CFNetwork Concepts](CFNetwork Concepts) in <a class="link" href="https://developer.apple.com/library/mac/documentation/Networking/Conceptual/CFNetwork/Introduction/Introduction.html#//apple_ref/doc/uid/TP30001132"  target="_blank" rel="noopener"
    >CFNetwork Programming Guide</a>.
If you do require the low-level socket APIs, follow the guidelines in RFC4038: Application Aspects of IPv6 Transition.</p>
</li>
</ul>
</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/ios/">Ios</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>


    
</article>

    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">Related content</h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="">
    <a href="/2020/06/ios-js-regular/">
        
        

        <div class="article-details">
            <h2 class="article-title">å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼å¤§å…¨--å¦‚ï¼šæ•°å­—ï¼Œå­—ç¬¦ç­‰</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/2020/05/ios-dynamic-color/">
        
        

        <div class="article-details">
            <h2 class="article-title">iOS æ·±æµ…æ¨¡å¼ é¢œè‰² å’Œ å›¾ç‰‡</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/2018/07/ios-avaudiosession/">
        
        

        <div class="article-details">
            <h2 class="article-title">iOS-AVAudio</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/2018/05/ios-iphone-device/">
        
        

        <div class="article-details">
            <h2 class="article-title">iPhoneä¸åŒè®¾å¤‡å±å¹•å°ºå¯¸å’Œåˆ†è¾¨ç‡</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/2016/12/ios-spritekit-scenekit/">
        
        

        <div class="article-details">
            <h2 class="article-title">iOS SpriteKit/SceneKit/Metalæµ…æ</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    
        
    <div class="disqus-container">
    <div id="disqus_thread"></div>
<script>
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "blog-iostao-com" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>

<style>
    .disqus-container {
        background-color: var(--card-background);
        border-radius: var(--card-border-radius);
        box-shadow: var(--shadow-l1);
        padding: var(--card-padding);
    }
</style>

<script>
    window.addEventListener('onColorSchemeChange', (e) => {
        if (typeof DISQUS == 'object') {
            DISQUS.reset({
                reload: true
            });
        }
    })
</script>

    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2020 - 
        
        2025 Scott Tao
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Theme <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.27.0">Stack</a></b> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
