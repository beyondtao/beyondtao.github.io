[{"content":"ğŸ§© Terminology Operators are unary, binary, or ternary: ï¼ˆä¸€å…ƒã€äºŒå…ƒã€ä¸‰å…ƒï¼‰\nUnary operators operate on a single target (such as -a). Unary prefix operators appear immediately before their target (such as !b), and unary postfix operators appear immediately after their target (such as c!). Binary operators operate on two targets (such as 2 + 3) and are infix because they appear in between their two targets. Ternary operators operate on three targets. Like C, Swift has only one ternary operator, the ternary conditional operator (a ? b : c). The values that operators affect are operands. In the expression 1 + 2, the + symbol is an infix operator and its two operands are the values 1 and 2.\nAssignment Operator ï¼ˆèµ‹å€¼è¿ç®—ç¬¦ï¼‰ The assignment operator (a = b) initializes or updates the value of a with the value of b:\n1 2 3 let b = 10 var a = 5 a = b Arithmetic Operators (+,-,*,/) Basic Operators An operator is a special symbol or phrase that you use to check, change, or combine values.\nSwift supports the four standard arithmetic operators for all number types:\nAddition (+) Subtraction (-) Multiplication (*) Division (/) Remainder Operator ï¼ˆæ±‚ä½™ï¼‰ The remainder operator (a % b) works out how many multiples of b will fit inside a and returns the value thatâ€™s left over (known as the remainder).\nNote\nThe remainder operator (%) is also known as a modulo operator in other languages. However, its behavior in Swift for negative numbers means that, strictly speaking, itâ€™s a remainder rather than a modulo operation.\nUnary Minus Operator 1 2 3 let three = 3 let minusThree = -three // minusThree equals -3 let plusThree = -minusThree // plusThree equals 3, or \u0026#34;minus minus three\u0026#34; Unary Plus Operator The unary plus operator (+) simply returns the value it operates on, without any change:\n1 2 let minusSix = -6 let alsoMinusSix = +minusSix // alsoMinusSix equals -6 Compound Assignment Operators Like C, Swift provides compound assignment operators that combine assignment (=) with another operation. One example is the addition assignment operator (+=):\nğŸ§© Comparison Operators ï¼ˆæ¯”è¾ƒè¿ç®—ç¬¦ï¼‰ Swift supports the following comparison operators:\nEqual to (a == b) Not equal to (a != b) Greater than (a \u0026gt; b) Less than (a \u0026lt; b) Greater than or equal to (a \u0026gt;= b) Less than or equal to (a \u0026lt;= b) Note\nSwift also provides two identity operators (=== and !==), which you use to test whether two object references both refer to the same object instance.\nshort-circuit comparisonï¼ˆçŸ­è·¯æ¯”è¾ƒï¼‰\n1 2 3 (1, \u0026#34;zebra\u0026#34;) \u0026lt; (2, \u0026#34;apple\u0026#34;) // true because 1 is less than 2; \u0026#34;zebra\u0026#34; and \u0026#34;apple\u0026#34; aren\u0026#39;t compared (3, \u0026#34;apple\u0026#34;) \u0026lt; (3, \u0026#34;bird\u0026#34;) // true because 3 is equal to 3, and \u0026#34;apple\u0026#34; is less than \u0026#34;bird\u0026#34; (4, \u0026#34;dog\u0026#34;) == (4, \u0026#34;dog\u0026#34;) // true because 4 is equal to 4, and \u0026#34;dog\u0026#34; is equal to \u0026#34;dog\u0026#34; Ternary Conditional Operator The ternary conditional operator is a special operator with three parts, which takes the form question ? answer1 : answer2.\n1 let rowHeight = contentHeight + (hasHeader ? 50 : 20) Nil-Coalescing Operator The nil-coalescing operator (a ?? b) unwraps an optional a if it contains a value, or returns a default value b if a is nil.\nThe nil-coalescing operator is shorthand for the code below:\n1 a != nil ? a! : b Note\nIf the value of a is non-nil, the value of b isnâ€™t evaluated. This is known as short-circuit evaluation.\nRange Operators Swift includes several range operators, which are shortcuts for expressing a range of values.\nClosed Range Operator The closed range operator (a\u0026hellip;b) defines a range that runs from a to b, and includes the values a and b. The value of a must not be greater than b.\nHalf-Open Range Operator The half-open range operator (a..\u0026lt;b) defines a range that runs from a to b, but doesnâ€™t include b. Itâ€™s said to be half-open because it contains its first value, but not its final value. As with the closed range operator, the value of a must not be greater than b. If the value of a is equal to b, then the resulting range will be empty.\nHalf-open ranges are particularly useful when you work with zero-based lists such as arrays, where itâ€™s useful to count up to (but not including) the length of the list:\n1 2 3 4 5 let names = [\u0026#34;Anna\u0026#34;, \u0026#34;Alex\u0026#34;, \u0026#34;Brian\u0026#34;, \u0026#34;Jack\u0026#34;] let count = names.count for i in 0..\u0026lt;count { print(\u0026#34;Person \\(i + 1) is called \\(names[i])\u0026#34;) } One-Sided Ranges The closed range operator has an alternative form for ranges that continue as far as possible in one direction â€” for example, a range that includes all the elements of an array from index 2 to the end of the array. In these cases, you can omit the value from one side of the range operator. This kind of range is called a one-sided range because the operator has a value on only one side. For example:\n1 2 3 4 5 6 7 8 9 10 11 12 for name in names[2...] { print(name) } // Brian // Jack for name in names[...2] { print(name) } // Anna // Alex // Brian The half-open range operator also has a one-sided form thatâ€™s written with only its final value. Just like when you include a value on both sides, the final value isnâ€™t part of the range. For example:\n1 2 3 4 5 for name in names[..\u0026lt;2] { print(name) } // Anna // Alex One-sided ranges can be used in other contexts, not just in subscripts. You canâ€™t iterate over a one-sided range that omits a first value, because it isnâ€™t clear where iteration should begin. You can iterate over a one-sided range that omits its final value; however, because the range continues indefinitely, make sure you add an explicit end condition for the loop. You can also check whether a one-sided range contains a particular value, as shown in the code below.\n1 2 3 4 let range = ...5 range.contains(7) // false range.contains(4) // true range.contains(-1) // true Logical Operators Logical operators modify or combine the Boolean logic values true and false. Swift supports the three standard logical operators found in C-based languages:\nLogical NOT (!a) Logical AND (a \u0026amp;\u0026amp; b) Logical OR (a || b) Note\nThe Swift logical operators \u0026amp;\u0026amp; and || are left-associative, meaning that compound expressions with multiple logical operators evaluate the leftmost subexpression first.\n1 2 3 4 5 6 if enteredDoorCode \u0026amp;\u0026amp; passedRetinaScan || hasDoorKey || knowsOverridePassword { print(\u0026#34;Welcome!\u0026#34;) } else { print(\u0026#34;ACCESS DENIED\u0026#34;) } // Prints \u0026#34;Welcome!\u0026#34; Explicit Parentheses () Itâ€™s sometimes useful to include parentheses when theyâ€™re not strictly needed, to make the intention of a complex expression easier to read. In the door access example above, itâ€™s useful to add parentheses\n1 2 3 4 5 6 if (enteredDoorCode \u0026amp;\u0026amp; passedRetinaScan) || hasDoorKey || knowsOverridePassword { print(\u0026#34;Welcome!\u0026#34;) } else { print(\u0026#34;ACCESS DENIED\u0026#34;) } // Prints \u0026#34;Welcome!\u0026#34; The parentheses make it clear that the first two values are considered as part of a separate possible state in the overall logic. The output of the compound expression doesnâ€™t change, but the overall intention is clearer to the reader. Readability is always preferred over brevity; use parentheses where they help to make your intentions clear.\n","date":"2025-11-02T21:02:05+01:00","permalink":"https://blog.iostao.com/2025/11/swift_note_operators/","title":"Swift_Note Operators"},{"content":"ğŸ§© Summary: Swift Concurrency Essentials 1. async Use async to mark a function that runs asynchronously.\n1 2 3 4 5 6 func fetchUserID(from server: String) async -\u0026gt; Int { if server == \u0026#34;primary\u0026#34; { return 97 } return 501 } 2. await You mark a call to an asynchronous function by writing await in front of it.\n1 2 3 4 5 6 7 func fetchUsername(from server: String) async -\u0026gt; String { let userID = await fetchUserID(from: server) if userID == 501 { return \u0026#34;John Appleseed\u0026#34; } return \u0026#34;Guest\u0026#34; } Use async let to call an asynchronous function, letting it run in parallel with other asynchronous code. When you use the value it returns, write await.\n1 2 3 4 5 6 func connectUser(to server: String) async { async let userID = fetchUserID(from: server) async let username = fetchUsername(from: server) let greeting = await \u0026#34;Hello \\(username), user ID \\(userID)\u0026#34; print(greeting) } 3. Tast Use Task to call asynchronous functions from synchronous code, without waiting for them to return.\nTask { await connectUser(to: \u0026ldquo;primary\u0026rdquo;) }\n4. withTaskGroup() let userIDs = await withTaskGroup(of: Int.self) { group in for server in [\u0026ldquo;primary\u0026rdquo;, \u0026ldquo;secondary\u0026rdquo;, \u0026ldquo;development\u0026rdquo;] { group.addTask { return await fetchUserID(from: server) } }\nvar results: [Int] = [] for await result in group { results.append(result) } return results }\n5. Actor Actors are similar to classes, except they ensure that different asynchronous functions can safely interact with an instance of the same actor at the same time.\n1 2 3 4 5 6 7 8 9 10 actor ServerConnection { var server: String = \u0026#34;primary\u0026#34; private var activeUsers: [Int] = [] func connect() async -\u0026gt; Int { let userID = await fetchUserID(from: server) // ... communicate with server ... activeUsers.append(userID) return userID } } When you call a method on an actor or access one of its properties, you mark that code with await to indicate that it might have to wait for other code thatâ€™s already running on the actor to finish.\n1 2 let server = ServerConnection() let userID = await server.connect() Protocols and Extensions mutating\nNotice the use of the mutating keyword in the declaration of SimpleStructure to mark a method that modifies the structure. The declaration of SimpleClass doesnâ€™t need any of its methods marked as mutating because methods on a class can always modify the class.\n1 2 3 4 protocol ExampleProtocol { var simpleDescription: String { get } mutating func adjust() } Classes, enumerations, and structures can all adopt protocols.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 class SimpleClass: ExampleProtocol { var simpleDescription: String = \u0026#34;A very simple class.\u0026#34; var anotherProperty: Int = 69105 func adjust() { simpleDescription += \u0026#34; Now 100% adjusted.\u0026#34; } } var a = SimpleClass() a.adjust() let aDescription = a.simpleDescription struct SimpleStructure: ExampleProtocol { var simpleDescription: String = \u0026#34;A simple structure\u0026#34; mutating func adjust() { simpleDescription += \u0026#34; (adjusted)\u0026#34; } } var b = SimpleStructure() b.adjust() let bDescription = b.simpleDescription Use extension to add functionality to an existing type, such as new methods and computed properties. You can use an extension to add protocol conformance to a type thatâ€™s declared elsewhere, or even to a type that you imported from a library or framework.\n1 2 3 4 5 6 7 8 9 10 extension Int: ExampleProtocol { var simpleDescription: String { return \u0026#34;The number \\(self)\u0026#34; } mutating func adjust() { self += 42 } } print(7.simpleDescription) // Prints \u0026#34;The number 7\u0026#34; You can use a protocol name just like any other named type â€” for example, to create a collection of objects that have different types but that all conform to a single protocol. When you work with values whose type is a boxed protocol type, methods outside the protocol definition arenâ€™t available.\n1 2 3 4 let protocolValue: any ExampleProtocol = a print(protocolValue.simpleDescription) // Prints \u0026#34;A very simple class. Now 100% adjusted.\u0026#34; // print(protocolValue.anotherProperty) // Uncomment to see the error Even though the variable protocolValue has a runtime type of SimpleClass, the compiler treats it as the given type of ExampleProtocol. This means that you canâ€™t accidentally access methods or properties that the class implements in addition to its protocol conformance.\nError Handling Error You represent errors using any type that adopts the Error protocol.\n1 2 3 4 5 enum PrinterError: Error { case outOfPaper case noToner case onFire } Use throw to throw an error and throws to mark a function that can throw an error. If you throw an error in a function, the function returns immediately and the code that called the function handles the error.\n1 2 3 4 5 6 func send(job: Int, toPrinter printerName: String) throws -\u0026gt; String { if printerName == \u0026#34;Never Has Toner\u0026#34; { throw PrinterError.noToner } return \u0026#34;Job sent\u0026#34; } There are several ways to handle errors. One way is to use do-catch. Inside the do block, you mark code that can throw an error by writing try in front of it. Inside the catch block, the error is automatically given the name error unless you give it a different name.\n1 2 3 4 5 6 7 do { let printerResponse = try send(job: 1040, toPrinter: \u0026#34;Bi Sheng\u0026#34;) print(printerResponse) } catch { print(error) } // Prints \u0026#34;Job sent\u0026#34; You can provide multiple catch blocks that handle specific errors. You write a pattern after catch just as you do after case in a switch.\n1 2 3 4 5 6 7 8 9 10 11 do { let printerResponse = try send(job: 1440, toPrinter: \u0026#34;Gutenberg\u0026#34;) print(printerResponse) } catch PrinterError.onFire { print(\u0026#34;I\u0026#39;ll just put this over here, with the rest of the fire.\u0026#34;) } catch let printerError as PrinterError { print(\u0026#34;Printer error: \\(printerError).\u0026#34;) } catch { print(error) } // Prints \u0026#34;Job sent\u0026#34; defer Use defer to write a block of code thatâ€™s executed after all other code in the function, just before the function returns. The code is executed regardless of whether the function throws an error. You can use defer to write setup and cleanup code next to each other, even though they need to be executed at different times.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 var fridgeIsOpen = false let fridgeContent = [\u0026#34;milk\u0026#34;, \u0026#34;eggs\u0026#34;, \u0026#34;leftovers\u0026#34;] func fridgeContains(_ food: String) -\u0026gt; Bool { fridgeIsOpen = true defer { fridgeIsOpen = false } let result = fridgeContent.contains(food) return result } if fridgeContains(\u0026#34;banana\u0026#34;) { print(\u0026#34;Found a banana\u0026#34;) } print(fridgeIsOpen) // Prints \u0026#34;false\u0026#34; Generics ï¼ˆæ³›å‹ï¼‰ Write a name inside angle brackets to make a generic function or type.\n1 2 3 4 5 6 7 8 func makeArray\u0026lt;Item\u0026gt;(repeating item: Item, numberOfTimes: Int) -\u0026gt; [Item] { var result: [Item] = [] for _ in 0..\u0026lt;numberOfTimes { result.append(item) } return result } makeArray(repeating: \u0026#34;knock\u0026#34;, numberOfTimes: 4) You can make generic forms of functions and methods, as well as classes, enumerations, and structures.\n1 2 3 4 5 6 7 // Reimplement the Swift standard library\u0026#39;s optional type enum OptionalValue\u0026lt;Wrapped\u0026gt; { case none case some(Wrapped) } var possibleInteger: OptionalValue\u0026lt;Int\u0026gt; = .none possibleInteger = .some(100) Use where right before the body to specify a list of requirements â€” for example, to require the type to implement a protocol, to require two types to be the same, or to require a class to have a particular superclass.\n1 2 3 4 5 6 7 8 9 10 11 12 13 func anyCommonElements\u0026lt;T: Sequence, U: Sequence\u0026gt;(_ lhs: T, _ rhs: U) -\u0026gt; Bool where T.Element: Equatable, T.Element == U.Element { for lhsItem in lhs { for rhsItem in rhs { if lhsItem == rhsItem { return true } } } return false } anyCommonElements([1, 2, 3], [3]) Optional Binding 1 2 3 4 5 6 7 var name: String? = \u0026#34;Scott\u0026#34; if let unwrappedName = name { print(\u0026#34;Hello, \\(unwrappedName)\u0026#34;) } else { print(\u0026#34;No name found.\u0026#34;) } Providing a Fallback Value 1 2 3 4 let name: String? = nil let greeting = \u0026#34;Hello, \u0026#34; + (name ?? \u0026#34;friend\u0026#34;) + \u0026#34;!\u0026#34; print(greeting) // Prints \u0026#34;Hello, friend!\u0026#34; Force Unwrapping 1 2 3 4 5 6 7 8 9 10 let possibleNumber = \u0026#34;123\u0026#34; let convertedNumber = Int(possibleNumber) let number = convertedNumber! guard let number = convertedNumber else { fatalError(\u0026#34;The number was invalid\u0026#34;) } Debugging with Assertions 1 2 3 4 5 6 7 8 9 10 11 let age = -3 assert(age \u0026gt;= 0, \u0026#34;A person\u0026#39;s age can\u0026#39;t be less than zero.\u0026#34;) // This assertion fails because -3 isn\u0026#39;t \u0026gt;= 0. if age \u0026gt; 10 { print(\u0026#34;You can ride the roller-coaster or the ferris wheel.\u0026#34;) } else if age \u0026gt;= 0 { print(\u0026#34;You can ride the ferris wheel.\u0026#34;) } else { assertionFailure(\u0026#34;A person\u0026#39;s age can\u0026#39;t be less than zero.\u0026#34;) } Enforcing Preconditions 1 2 // In the implementation of a subscript... precondition(index \u0026gt; 0, \u0026#34;Index must be greater than zero.\u0026#34;) ","date":"2025-11-02T10:42:05+01:00","permalink":"https://blog.iostao.com/2025/11/swift_note_basics/","title":"Swift_Note Basics"},{"content":"è½¬è½½\nä½¿ç”¨brew å®‰è£…node é¦–å…ˆå…ˆå¯¹ brew è¿›è¡Œæ£€æŸ¥ brew update brew doctor åˆ›å»ºç›®å½•ï¼Œå¹¶ä¿®æ”¹æƒé™ å› ä¸ºæƒé™é—®é¢˜ï¼Œæˆ‘è¿™é‡Œæ˜¯æ‰‹åŠ¨åˆ›å»ºçš„ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 sudo mkdir /usr/local/Cellar sudo chown -R $(whoami) /usr/local/Cellar sudo mkdir /usr/local/opt sudo chown -R $(whoami) /usr/local/opt/ sudo mkdir /usr/local/opt/icu4c sudo chown -R $(whoami) /usr/local/opt/ sudo mkdir /usr/local/include sudo chown -R $(whoami) /usr/local/include/ sudo mkdir /usr/local/share sudo chown -R $(whoami) /usr/local/share ç„¶åè¿›è¡Œå®‰è£… brew link node brew uninstall node brew install node æˆ‘è¿™é‡Œå¤±è´¥äº†å•Š 1 2 3 4 5 node -v dyld: Library not loaded: /usr/local/opt/icu4c/lib/libicui18n.67.dylib Referenced from: /usr/local/bin/node Reason: image not found zsh: abort node -v 1 2 3 4 5 6 7 8 9 brew uninstall --force node brew uninstall icu4c \u0026amp;\u0026amp; brew install icu4c brew unlink icu4c \u0026amp;\u0026amp; brew link icu4c --force # è¿™é‡Œå¯èƒ½ä¼šæç¤ºè®¾ç½® ~/.zshrcã€‚ çœ‹åº•éƒ¨ icu4c ~/.zshrc è¿™ä¸ªæ¨¡å— echo \u0026#39;export PATH=\u0026#34;/usr/local/opt/icu4c/bin:$PATH\u0026#34;\u0026#39; \u0026gt;\u0026gt; ~/.zshrc # å¦‚æœæ‰§è¡Œäº†ä¸Šé¢é‚£æ¡å‘½ä»¤ï¼Œéœ€è¦æ›´æ–°èµ„æºæ–‡ä»¶ source ~/.zshrc brew install node icu4c ~/.zshrc If you need to have icu4c first in your PATH run:\n1 2 echo \u0026#39;export PATH=\u0026#34;/usr/local/opt/icu4c/bin:$PATH\u0026#34;\u0026#39; \u0026gt;\u0026gt; ~/.zshrc echo \u0026#39;export PATH=\u0026#34;/usr/local/opt/icu4c/sbin:$PATH\u0026#34;\u0026#39; \u0026gt;\u0026gt; ~/.zshrc For compilers to find icu4c you may need to set:\n1 2 export LDFLAGS=\u0026#34;-L/usr/local/opt/icu4c/lib\u0026#34; export CPPFLAGS=\u0026#34;-I/usr/local/opt/icu4c/include\u0026#34; å¸¸ç”¨å‘½ä»¤ npm install \u0026lt;module\u0026gt; //å®‰è£… npm uninstall \u0026lt;module\u0026gt; //å¸è½½ npm search \u0026lt;module\u0026gt; //æœç´¢ npm update \u0026lt;module\u0026gt; //æ›´æ–° npm npm æ˜¯node.jsè‡ªå¸¦çš„åŠŸèƒ½ã€‚\n","date":"2021-01-24T14:43:16Z","permalink":"https://blog.iostao.com/2021/01/mac-brew-install-node_npm/","title":"brew å®‰è£… node åŠ npmç”¨æ³•"},{"content":"ä¸€ã€å®‰è£… Commitizen å·¥å…· éœ€è¦æå‰å®‰è£…nodeã€‚\n1. å®‰è£… commitizen node æ¨¡å— npm install -g commitizen 2. åˆå§‹åŒ– commitizen çš„é€‚é…å™¨ cz-customizable npm install -g cz-customizable 3. å®‰è£…ç”Ÿæˆlogæ—¥å¿—çš„æ¨¡å— npm install -g conventional-changelog-cli æŠ¥é”™å¯ä»¥é‡æ–°æ‰§è¡Œå‘½ä»¤å°è¯•ä¸€ä¸‹\n1 2 3 4 5 6 7 8 9 10 npm ERR! code ECONNRESET npm ERR! network aborted npm ERR! network This is a problem related to network connectivity. npm ERR! network In most cases you are behind a proxy or have bad network settings. npm ERR! network npm ERR! network If you are behind a proxy, please make sure that the npm ERR! network \u0026#39;proxy\u0026#39; config is set properly. See: \u0026#39;npm help config\u0026#39; npm ERR! A complete log of this run can be found in: npm ERR! /Users/tao/.npm/_logs/2021-01-23T10_12_59_442Z-debug.log äºŒã€ä½¿ç”¨ 1. ç”Ÿæˆ package.json # cd åˆ°é¡¹ç›®ç›®å½•ï¼Œæ‰§è¡Œå‘½ä»¤ $ npm init #ç„¶åæ ¹æ®æç¤ºå¡«å†™ç›¸å…³çš„é¡¹ç›®ä¿¡æ¯ #å®Œæˆåä¼šç”Ÿæˆpackage.json 2. åœ¨ package.jsonä¸­æ·»åŠ è„šæœ¬ åœ¨ scriptsä¸­æ·»åŠ ï¼š\n$ \u0026quot;changelog\u0026quot;: \u0026quot;conventional-changelog -p angular -i CHANGELOG.md -s 0\u0026quot; 1 2 3 4 5 #ä¸ä¼šè¦†ç›–ä»¥å‰çš„ Change logï¼Œåªä¼šåœ¨ CHANGELOG.md çš„å¤´éƒ¨åŠ ä¸Šè‡ªä»ä¸Šæ¬¡å‘å¸ƒä»¥æ¥çš„å˜åŠ¨ $ conventional-changelog -p angular -i CHANGELOG.md -s # ç”Ÿæˆæ‰€æœ‰å‘å¸ƒçš„ Change logï¼Œä¼šè¦†ç›–ä»¥å‰çš„ Change log $ conventional-changelog -p angular -i CHANGELOG.md -w -r -s 0 ç¤ºä¾‹å¦‚ä¸‹ï¼š\n1 2 3 4 \u0026#34;scripts\u0026#34;: { \u0026#34;test\u0026#34;: \u0026#34;echo \\\u0026#34;Error: no test specified\\\u0026#34; \u0026amp;\u0026amp; exit 1\u0026#34;, \u0026#34;changelog\u0026#34;: \u0026#34;conventional-changelog -p angular -i CHANGELOG.md -s 0\u0026#34; }, è¿™ä¸ªè„šæœ¬å¯ä»¥åœ¨é€šè¿‡åœ¨ç»ˆç«¯è¾“å…¥ npm run changelog ç”Ÿæˆ CHANGELOG.md æ—¥å¿—æ–‡æ¡£ã€‚\n2. åŠ è½½node_modulesä¾èµ–ç»„ä»¶ (cz) $ commitizen init cz-conventional-changelog â€”save â€”save-exact æ‰§è¡Œå®Œä»¥åï¼Œé¡¹ç›®ä¸­å°±å¯ä»¥ä¸€å¾‹ä½¿ç”¨ git cz ä»£æ›¿ git commitæ¥æäº¤ä»£ç ã€‚\nåŒæ—¶ä¼šæ˜¾ç¤ºtypeé€‰é¡¹æ¥è‡ªåŠ¨ç”Ÿæˆç¬¦åˆæ ¼å¼çš„ commit messageã€‚\nä¸‰ã€ä»£ç æäº¤ git add . git cz\t//ä½¿ç”¨ git cz ä»£æ›¿ä¹‹å‰çš„ git commit ä»£ç æäº¤æµç¨‹ 1.Select the type of change that you\u0026rsquo;re committing é€‰æ‹©æ”¹åŠ¨ç±»å‹\n2.What is the scope of this change (e.g. component or file name)? å¡«å†™æ”¹åŠ¨èŒƒå›´\n3.Write a short, imperative tense description of the change: å†™ä¸€ä¸ªç²¾ç®€çš„æè¿°\n4.Provide a longer description of the change: (press enter to skip) å¯¹äºæ”¹åŠ¨å†™ä¸€æ®µé•¿æè¿°\n5.Are there any breaking changes? (y/n) æ˜¯ç ´åæ€§ä¿®æ”¹å—ï¼Ÿé»˜è®¤n\n6.Does this change affect any openreve issues? (y/n) æ”¹åŠ¨ä¿®å¤äº†å“ªä¸ªé—®é¢˜ï¼Ÿé»˜è®¤n\nç±»å‹è¯´æ˜\nfeat: A new feature fix: A bug fix docs: Documentation only changes style: Changes that do not affect the meaning of the code (white-space, formatting, missing semi- colons, etc) refactor: A code change that neither fixes a bug nor adds a feature perf: A code change that improves performance test: Adding missing tests or correcting existing tests build: Changes that affect the build system or external dependencies (example scopes: gulp, brocc oli, npm) ci: Changes to our CI configuration files and scripts (example scopes: Travis, Circle, Browser Stack, SauceLabs) chore: Other changes that don\u0026rsquo;t modify src or test files revert: Reverts a previous commit å››ã€Jira è®¾ç½®gitlab Networké…ç½®\nè¿›å…¥è¦é…ç½®çš„é¡¹ç›®ï¼Œç‚¹å‡»è®¾ç½®ã€‚ï¼ˆè¿™é‡Œå’Œä¸Šé¢é‚£ä¸ªè®¾ç½®ä¸åŒï¼Œè¿™é‡Œæ˜¯è®¾ç½®é¡¹ç›®é‡Œçš„é…ç½®ï¼‰\nå¾€ä¸‹æ»‘åŠ¨ä¸€ç‚¹å„¿ï¼Œæœ‰ä¸ªä¿å­˜ã€‚ä¿å­˜ã€‚ä¿å­˜ã€‚ä¸è¦å¿˜è®°ä¿å­˜ã€‚\né…ç½® Jira\n","date":"2021-01-23T18:49:03Z","permalink":"https://blog.iostao.com/2021/01/git-commitizen/","title":"Git Commitizen è§„èŒƒåŒ–commitå·¥å…·"},{"content":"è½¬è½½æ¥æº\n1ã€åˆ é™¤æ—§çš„å®‰è£… 1 2 3 sudo rm -rf /usr/local/Homebrew sudo rm -f /usr/local/bin/brew sudo rm -rf /usr/local/var/homebrew 2ã€åˆ›å»ºæ–°çš„å®‰è£…ç›®å½• sudo mkdir /usr/local/Homebrew\n3ã€ä¸‹è½½brew sudo git clone https://mirrors.ustc.edu.cn/brew.git /usr/local/Homebrew åœ°å€å¯æ›´æ¢ä¸ºæ¸…åæºhttps://mirrors.tuna.tsinghua.edu.cn/git/homebrew/brew.gitã€‚\nå¦‚æç¤ºæ²¡æœ‰gitï¼Œå¯é€šè¿‡xcode-select \u0026ndash;installå®‰è£…ã€‚\n4ã€åˆ›å»ºæ‰§è¡Œæ–‡ä»¶é“¾æ¥ sudo mkdir /usr/local/bin sudo ln -s /usr/local/Homebrew/bin/brew /usr/local/bin/brew 5ã€åˆ›å»ºbrew-coreç›®å½• sudo mkdir -p /usr/local/Homebrew/Library/Taps/homebrew/homebrew-core 6ã€ä¸‹è½½brew-core sudo git clone https://mirrors.ustc.edu.cn/homebrew-core.git /usr/local/Homebrew/Library/Taps/homebrew/homebrew-core åœ°å€å¯æ›´æ¢ä¸ºæ¸…åæºhttps://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-core.gitã€‚\n7ã€æƒé™é…ç½® 1 2 3 sudo mkdir -p /usr/local/var/homebrew sudo chown -R $(whoami) /usr/local/var/homebrew sudo chown -R $(whoami) /usr/local/Homebrew 8ã€æ‰§è¡Œæ›´æ–° brew update æç¤ºAlready up-to-dateå³ä¸ºæˆåŠŸã€‚å¦‚æœ‰é—®é¢˜å¯é€šè¿‡brew doctorè‡ªæ£€å‘½ä»¤æ£€æŸ¥ä¸€ä¸‹ã€‚\n9ã€è®¾ç½®ç¯å¢ƒå˜é‡\necho 'export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.ustc.edu.cn/homebrew-bottles' \u0026gt;\u0026gt; ~/.zshrc åœ°å€å¯æ›´æ¢ä¸ºhttps://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-bottlesã€‚ ","date":"2021-01-23T17:22:24Z","permalink":"https://blog.iostao.com/2021/01/mac-brew-install-national/","title":"ä½¿ç”¨å›½å†…æºå®‰è£… Homebrew"},{"content":"è¿™ç¯‡æ–‡ç« æ˜¯å¾ˆæ—©ä»¥å‰è½¬è½½çš„ï¼Œè¿™ä¸¤å¤©åšäº†é‡æ–°æ¥è§¦çš„æ—¶å€™ï¼Œå‘ç°äº†è‡ªå·±ç¢°åˆ°çš„ä¸€äº›é—®é¢˜ï¼Œç„¶ååšäº†ä¸€ä¸‹ä¿®æ”¹ã€‚\næœ¬æ–‡å‰ä¸‰éƒ¨åˆ†éƒ½æ˜¯ä»‹ç»ã€‚ä»ç¬¬å››éƒ¨åˆ†å¼€å§‹æ˜¯å¦‚ä½•å®‰è£…å’Œä½¿ç”¨ã€‚\nä¸€ã€ä»‹ç» Git æ¯æ¬¡æäº¤ä»£ç ï¼Œéƒ½è¦å†™ Commit messageï¼ˆæäº¤è¯´æ˜ï¼‰ï¼Œå¦åˆ™å°±ä¸å…è®¸æäº¤ã€‚\n$ git commit -m \u0026quot;hello world\u0026quot; ä¸Šé¢ä»£ç çš„-må‚æ•°ï¼Œå°±æ˜¯ç”¨æ¥æŒ‡å®š commit mesage çš„ã€‚\nå¦‚æœä¸€è¡Œä¸å¤Ÿï¼Œå¯ä»¥åªæ‰§è¡Œgit commitï¼Œå°±ä¼šè·³å‡ºæ–‡æœ¬ç¼–è¯‘å™¨ï¼Œè®©ä½ å†™å¤šè¡Œã€‚\n$ git commit åŸºæœ¬ä¸Šï¼Œä½ å†™ä»€ä¹ˆéƒ½è¡Œï¼Œå¯å‚è€ƒå¦‚ä¸‹æ–‡ç« ï¼š\nhttp://www.commitlogsfromlastnight.com\nhttp://blog.no-panic.at/2014/10/20/funny-initial-git-commit-messages/\nhttp://whatthecommit.com\nä½†æ˜¯ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œcommit message åº”è¯¥æ¸…æ™°æ˜äº†ï¼Œè¯´æ˜æœ¬æ¬¡æäº¤çš„ç›®çš„ã€‚\nç›®å‰ï¼Œç¤¾åŒºæœ‰å¤šç§ Commit message çš„å†™æ³•è§„èŒƒ(http://whatthecommit.com)ã€‚æœ¬æ–‡ä»‹ç»Angular è§„èŒƒï¼ˆè§ä¸Šå›¾ï¼‰ï¼Œè¿™æ˜¯ç›®å‰ä½¿ç”¨æœ€å¹¿çš„å†™æ³•ï¼Œæ¯”è¾ƒåˆç†å’Œç³»ç»ŸåŒ–ï¼Œå¹¶ä¸”æœ‰é…å¥—çš„å·¥å…·ã€‚\näºŒã€Commit message çš„ä½œç”¨ æ ¼å¼åŒ–çš„Commit messageï¼Œæœ‰å‡ ä¸ªå¥½å¤„ã€‚\n2.1 æä¾›æ›´å¤šçš„å†å²ä¿¡æ¯ï¼Œæ–¹ä¾¿å¿«é€Ÿæµè§ˆã€‚ æ¯”å¦‚ï¼Œä¸‹é¢çš„å‘½ä»¤æ˜¾ç¤ºä¸Šæ¬¡å‘å¸ƒåçš„å˜åŠ¨ï¼Œæ¯ä¸ªcommitå æ®ä¸€è¡Œã€‚ä½ åªçœ‹è¡Œé¦–ï¼Œå°±çŸ¥é“æŸæ¬¡ commit çš„ç›®çš„ã€‚\n$ git log \u0026lt;last tag\u0026gt; HEAD --pretty=format:%s 2.2 å¯ä»¥è¿‡æ»¤æŸäº›commitï¼ˆæ¯”å¦‚æ–‡æ¡£æ”¹åŠ¨ï¼‰ï¼Œä¾¿äºå¿«é€ŸæŸ¥æ‰¾ä¿¡æ¯ã€‚ æ¯”å¦‚ï¼Œä¸‹é¢çš„å‘½ä»¤ä»…ä»…æ˜¾ç¤ºæœ¬æ¬¡å‘å¸ƒæ–°å¢åŠ çš„åŠŸèƒ½ã€‚\n$ git log \u0026lt;last release\u0026gt; HEAD --grep feature 2.3 å¯ä»¥ç›´æ¥ä»commitç”ŸæˆChange logã€‚ Change Log æ˜¯å‘å¸ƒæ–°ç‰ˆæœ¬æ—¶ï¼Œç”¨æ¥è¯´æ˜ä¸ä¸Šä¸€ä¸ªç‰ˆæœ¬å·®å¼‚çš„æ–‡æ¡£ï¼Œè¯¦è§åæ–‡ã€‚\nä¸‰ã€Commit message çš„æ ¼å¼ æ¯æ¬¡æäº¤ï¼ŒCommit message éƒ½åŒ…æ‹¬ä¸‰ä¸ªéƒ¨åˆ†ï¼šHeaderï¼ŒBody å’Œ Footerã€‚\n\u0026lt;type\u0026gt;(\u0026lt;scope\u0026gt;): \u0026lt;subject\u0026gt; // ç©ºä¸€è¡Œ \u0026lt;body\u0026gt; // ç©ºä¸€è¡Œ \u0026lt;footer\u0026gt; å…¶ä¸­ï¼ŒHeader æ˜¯å¿…éœ€çš„ï¼ŒBody å’Œ Footer å¯ä»¥çœç•¥ã€‚\nä¸ç®¡æ˜¯å“ªä¸€ä¸ªéƒ¨åˆ†ï¼Œä»»ä½•ä¸€è¡Œéƒ½ä¸å¾—è¶…è¿‡72ä¸ªå­—ç¬¦ï¼ˆæˆ–100ä¸ªå­—ç¬¦ï¼‰ã€‚è¿™æ˜¯ä¸ºäº†é¿å…è‡ªåŠ¨æ¢è¡Œå½±å“ç¾è§‚ã€‚\n3.1 Header Headeréƒ¨åˆ†åªæœ‰ä¸€è¡Œï¼ŒåŒ…æ‹¬ä¸‰ä¸ªå­—æ®µï¼štypeï¼ˆå¿…éœ€ï¼‰ã€scopeï¼ˆå¯é€‰ï¼‰å’Œsubjectï¼ˆå¿…éœ€ï¼‰ã€‚ ï¼ˆ1ï¼‰type typeç”¨äºè¯´æ˜ commit çš„ç±»åˆ«ï¼Œåªå…è®¸ä½¿ç”¨ä¸‹é¢7ä¸ªæ ‡è¯†ã€‚\nfeatï¼šæ–°åŠŸèƒ½ï¼ˆfeatureï¼‰ fixï¼šä¿®è¡¥bug docsï¼šæ–‡æ¡£ï¼ˆdocumentationï¼‰ styleï¼š æ ¼å¼ï¼ˆä¸å½±å“ä»£ç è¿è¡Œçš„å˜åŠ¨ï¼‰ refactorï¼šé‡æ„ï¼ˆå³ä¸æ˜¯æ–°å¢åŠŸèƒ½ï¼Œä¹Ÿä¸æ˜¯ä¿®æ”¹bugçš„ä»£ç å˜åŠ¨ï¼‰ testï¼šå¢åŠ æµ‹è¯• choreï¼šæ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨ å¦‚æœtypeä¸ºfeatå’Œfixï¼Œåˆ™è¯¥ commit å°†è‚¯å®šå‡ºç°åœ¨ Change log ä¹‹ä¸­ã€‚å…¶ä»–æƒ…å†µï¼ˆdocsã€choreã€styleã€refactorã€testï¼‰ç”±ä½ å†³å®šï¼Œè¦ä¸è¦æ”¾å…¥ Change logï¼Œå»ºè®®æ˜¯ä¸è¦ã€‚\nï¼ˆ2ï¼‰scope scopeç”¨äºè¯´æ˜ commit å½±å“çš„èŒƒå›´ï¼Œæ¯”å¦‚æ•°æ®å±‚ã€æ§åˆ¶å±‚ã€è§†å›¾å±‚ç­‰ç­‰ï¼Œè§†é¡¹ç›®ä¸åŒè€Œä¸åŒã€‚\nï¼ˆ3ï¼‰subject subjectæ˜¯ commit ç›®çš„çš„ç®€çŸ­æè¿°ï¼Œä¸è¶…è¿‡50ä¸ªå­—ç¬¦ã€‚\nä»¥åŠ¨è¯å¼€å¤´ï¼Œä½¿ç”¨ç¬¬ä¸€äººç§°ç°åœ¨æ—¶ï¼Œæ¯”å¦‚changeï¼Œè€Œä¸æ˜¯changedæˆ–changes ç¬¬ä¸€ä¸ªå­—æ¯å°å†™ ç»“å°¾ä¸åŠ å¥å·ï¼ˆ.ï¼‰ 3.2 Body Body éƒ¨åˆ†æ˜¯å¯¹æœ¬æ¬¡ commit çš„è¯¦ç»†æè¿°ï¼Œå¯ä»¥åˆ†æˆå¤šè¡Œã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªèŒƒä¾‹ã€‚\nMore detailed explanatory text, if necessary. Wrap it to about 72 characters or so. Further paragraphs come after blank lines. - Bullet points are okay, too - Use a hanging indent æœ‰ä¸¤ä¸ªæ³¨æ„ç‚¹ã€‚ ï¼ˆ1ï¼‰ä½¿ç”¨ç¬¬ä¸€äººç§°ç°åœ¨æ—¶ï¼Œæ¯”å¦‚ä½¿ç”¨changeè€Œä¸æ˜¯changedæˆ–changesã€‚ ï¼ˆ2ï¼‰åº”è¯¥è¯´æ˜ä»£ç å˜åŠ¨çš„åŠ¨æœºï¼Œä»¥åŠä¸ä»¥å‰è¡Œä¸ºçš„å¯¹æ¯”ã€‚\n3.3 Footer Footer éƒ¨åˆ†åªç”¨äºä¸¤ç§æƒ…å†µã€‚\n3.1.1 ä¸å…¼å®¹å˜åŠ¨ å¦‚æœå½“å‰ä»£ç ä¸ä¸Šä¸€ä¸ªç‰ˆæœ¬ä¸å…¼å®¹ï¼Œåˆ™ Footer éƒ¨åˆ†ä»¥BREAKING CHANGEå¼€å¤´ï¼Œåé¢æ˜¯å¯¹å˜åŠ¨çš„æè¿°ã€ä»¥åŠå˜åŠ¨ç†ç”±å’Œè¿ç§»æ–¹æ³•ã€‚\nBREAKING CHANGE: isolate scope bindings definition has changed. To migrate the code follow the example below: Before: scope: { myAttr: 'attribute', } After: scope: { myAttr: '@', } The removed `inject` wasn't generaly useful for directives so there should be no code using it. 3.1.2 å…³é—­ Issue å¦‚æœå½“å‰ commit é’ˆå¯¹æŸä¸ªissueï¼Œé‚£ä¹ˆå¯ä»¥åœ¨ Footer éƒ¨åˆ†å…³é—­è¿™ä¸ª issue ã€‚\nCloses #234 ä¹Ÿå¯ä»¥ä¸€æ¬¡å…³é—­å¤šä¸ª issue ã€‚\nCloses #123, #245, #992 3.4 Revert è¿˜æœ‰ä¸€ç§ç‰¹æ®Šæƒ…å†µï¼Œå¦‚æœå½“å‰ commit ç”¨äºæ’¤é”€ä»¥å‰çš„ commitï¼Œåˆ™å¿…é¡»ä»¥revert:å¼€å¤´ï¼Œåé¢è·Ÿç€è¢«æ’¤é”€ Commit çš„ Headerã€‚\nrevert: feat(pencil): add 'graphiteWidth' option This reverts commit 667ecc1654a317a13331b17617d973392f415f02. Bodyéƒ¨åˆ†çš„æ ¼å¼æ˜¯å›ºå®šçš„ï¼Œå¿…é¡»å†™æˆThis reverts commit ï¼Œå…¶ä¸­çš„hashæ˜¯è¢«æ’¤é”€ commit çš„ SHA æ ‡è¯†ç¬¦ã€‚\nå¦‚æœå½“å‰ commit ä¸è¢«æ’¤é”€çš„ commitï¼Œåœ¨åŒä¸€ä¸ªå‘å¸ƒï¼ˆreleaseï¼‰é‡Œé¢ï¼Œé‚£ä¹ˆå®ƒä»¬éƒ½ä¸ä¼šå‡ºç°åœ¨ Change log é‡Œé¢ã€‚å¦‚æœä¸¤è€…åœ¨ä¸åŒçš„å‘å¸ƒï¼Œé‚£ä¹ˆå½“å‰ commitï¼Œä¼šå‡ºç°åœ¨ Change log çš„Revertså°æ ‡é¢˜ä¸‹é¢ã€‚\nå››ã€Commitizen å®‰è£… 4.1 å®‰è£… commitizen node æ¨¡å— Commitizenæ˜¯ä¸€ä¸ªæ’°å†™åˆæ ¼ Commit message çš„å·¥å…·ã€‚ å®‰è£…å‘½ä»¤å¦‚ä¸‹ã€‚\n$ npm install -g commitizen 4.2 åˆå§‹åŒ– commitizen çš„é€‚é…å™¨ cz-customizable $ npm install -g cz-customizable 4.3 å®‰è£…ç”Ÿæˆlogæ—¥å¿—çš„æ¨¡å— $ npm install -g conventional-changelog-cli 4.4 åˆå§‹åŒ– cd åˆ°é¡¹ç›®ç›®å½•ï¼Œæ‰§è¡Œå‘½ä»¤ä»¥ä¸‹å‘½ä»¤ï¼Œç„¶åæ ¹æ®æç¤ºå¡«å†™ç›¸å…³çš„é¡¹ç›®ä¿¡æ¯\nå®Œæˆåä¼šåœ¨é¡¹ç›®ç›®å½•ä¸‹ç”Ÿæˆpackage.json\n$ npm init 4.5 commitizen init åœ¨é¡¹ç›®ç›®å½•é‡Œï¼Œè¿è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œä½¿å…¶æ”¯æŒAngularçš„ Commit Message æ ¼å¼ã€‚\n$ commitizen init cz-conventional-changelog-cli â€”save â€”save-exact ä»¥åï¼Œå‡¡æ˜¯ç”¨åˆ°git commitå‘½ä»¤ï¼Œä¸€å¾‹æ”¹ä¸ºä½¿ç”¨git czã€‚è¿™æ—¶ï¼Œå°±ä¼šå‡ºç°é€‰é¡¹ï¼Œç”¨æ¥ç”Ÿæˆç¬¦åˆæ ¼å¼çš„ Commit messageã€‚\nLaoTao@taobotongdeMacBook-Pro:~/Documents/CIM/cim-ios$ git add . LaoTao@taobotongdeMacBook-Pro:~/Documents/CIM/cim-ios$ git cz cz-cli@2.5.0, cz-conventional-changelog@1.1.5 Line 1 will be cropped at 100 characters. All other lines will be wrapped after 100 characters. ? Select the type of change that you're committing: (Use arrow keys) â¯ feat: A new feature fix: A bug fix docs: Documentation only changes style: Changes that do not affect the meaning of the code (white-space, formatting, missing semi-colons, etc) refactor: A code change that neither fixes a bug or adds a feature perf: A code change that improves performance (Move up and down to reveal more choices) äº”ã€validate-commit-msg validate-commit-msg ç”¨äºæ£€æŸ¥ Node é¡¹ç›®çš„ Commit message æ˜¯å¦ç¬¦åˆæ ¼å¼ã€‚\nå®ƒçš„å®‰è£…æ˜¯æ‰‹åŠ¨çš„ã€‚é¦–å…ˆï¼Œæ‹·è´ä¸‹é¢è¿™ä¸ªJSæ–‡ä»¶ï¼Œæ”¾å…¥ä½ çš„ä»£ç åº“ã€‚æ–‡ä»¶åå¯ä»¥å–ä¸ºvalidate-commit-msg.jsã€‚\næ¥ç€ï¼ŒæŠŠè¿™ä¸ªè„šæœ¬åŠ å…¥ Git çš„ hookã€‚ä¸‹é¢æ˜¯åœ¨package.jsoné‡Œé¢ä½¿ç”¨ ghooksï¼ŒæŠŠè¿™ä¸ªè„šæœ¬åŠ ä¸ºcommit-msgæ—¶è¿è¡Œã€‚\n\u0026quot;config\u0026quot;: { \u0026quot;ghooks\u0026quot;: { \u0026quot;commit-msg\u0026quot;: \u0026quot;./validate-commit-msg.js\u0026quot; } } ç„¶åï¼Œæ¯æ¬¡git commitçš„æ—¶å€™ï¼Œè¿™ä¸ªè„šæœ¬å°±ä¼šè‡ªåŠ¨æ£€æŸ¥ Commit message æ˜¯å¦åˆæ ¼ã€‚å¦‚æœä¸åˆæ ¼ï¼Œå°±ä¼šæŠ¥é”™ã€‚\n$ git add -A $ git commit -m \u0026quot;edit markdown\u0026quot; INVALID COMMIT MSG: does not match \u0026quot;\u0026lt;type\u0026gt;(\u0026lt;scope\u0026gt;): \u0026lt;subject\u0026gt;\u0026quot; ! was: edit markdown å…­ã€ç”Ÿæˆ Change log 6.1 ç”Ÿæˆ change logæ—¥å¿— å¦‚æœä½ çš„æ‰€æœ‰ Commit éƒ½ç¬¦åˆ Angular æ ¼å¼ï¼Œé‚£ä¹ˆå‘å¸ƒæ–°ç‰ˆæœ¬æ—¶ï¼Œ Change log å°±å¯ä»¥ç”¨è„šæœ¬è‡ªåŠ¨ç”Ÿæˆã€‚\nä¾‹1ï¼šhttps://github.com/karma-runner/karma/blob/master/CHANGELOG.md\nä¾‹2ï¼šhttps://github.com/btford/grunt-conventional-changelog/blob/master/CHANGELOG.md\nç”Ÿæˆçš„æ–‡æ¡£åŒ…æ‹¬ä»¥ä¸‹ä¸‰ä¸ªéƒ¨åˆ†ã€‚\nNew features Bug fixes Breaking changes. æ¯ä¸ªéƒ¨åˆ†éƒ½ä¼šç½—åˆ—ç›¸å…³çš„ commit ï¼Œå¹¶ä¸”æœ‰æŒ‡å‘è¿™äº› commit çš„é“¾æ¥ã€‚å½“ç„¶ï¼Œç”Ÿæˆçš„æ–‡æ¡£å…è®¸æ‰‹åŠ¨ä¿®æ”¹ï¼Œæ‰€ä»¥å‘å¸ƒå‰ï¼Œä½ è¿˜å¯ä»¥æ·»åŠ å…¶ä»–å†…å®¹ã€‚\nconventional-changelog å°±æ˜¯ç”Ÿæˆ Change log çš„å·¥å…·ï¼Œè¿è¡Œä¸‹é¢çš„å‘½ä»¤å³å¯ã€‚\nï¼ˆè¿™ä¸ªå·¥å…·æˆ‘ä»¬ä¸Šé¢çš„æ­¥éª¤æœ‰å®‰è£…ï¼Œè¿™é‡Œåªæ˜¯å†æç¤ºä¸€ä¸‹ï¼Œå·²ç»å®‰è£…çš„ï¼Œæ‰§è¡Œç¬¬ä¸‰æ­¥å³å¯ï¼‰\n$ npm install -g conventional-changelog-cli $ cd my-project $ conventional-changelog -p angular -i CHANGELOG.md -s 0 ä¸Šé¢å‘½ä»¤ä¸ä¼šè¦†ç›–ä»¥å‰çš„ Change logï¼Œåªä¼šåœ¨CHANGELOG.mdçš„å¤´éƒ¨åŠ ä¸Šè‡ªä»ä¸Šæ¬¡å‘å¸ƒä»¥æ¥çš„å˜åŠ¨ã€‚\nå¦‚æœä½ æƒ³ç”Ÿæˆæ‰€æœ‰å‘å¸ƒçš„ Change logï¼Œè¦æ”¹ä¸ºè¿è¡Œä¸‹é¢çš„å‘½ä»¤ã€‚\n$ conventional-changelog -p angular -i CHANGELOG.md -w -r -s 0 æœ‰çš„æ–‡ç« é‡Œé¢ï¼Œå‘½ä»¤æ²¡æœ‰ -s ï¼Œæ¯æ¬¡æ‰§è¡Œåªæ˜¯åœ¨ç»ˆç«¯æ‰“å°æ‰€æœ‰çš„æ—¥å¿—ï¼Œå¹¶æ²¡æœ‰åœ¨æœ¬åœ°ç”Ÿæˆæ–‡ä»¶ã€‚è¿™é‡Œéœ€è¦æ³¨æ„ä¸€ä¸‹ã€‚\n6.2 é…ç½®changelogç”Ÿæˆå‘½ä»¤ ä¸ºäº†æ–¹ä¾¿ä½¿ç”¨ï¼Œå¯ä»¥å°†ç”Ÿæˆå‘½ä»¤å…¶å†™å…¥package.jsonçš„scriptså­—æ®µã€‚\n1 $ \u0026#34;changelog\u0026#34;: \u0026#34;conventional-changelog -p angular -i CHANGELOG.md -s 0\u0026#34; ç¤ºä¾‹å¦‚ä¸‹ï¼š\n1 2 3 4 \u0026#34;scripts\u0026#34;: { \u0026#34;test\u0026#34;: \u0026#34;echo \\\u0026#34;Error: no test specified\\\u0026#34; \u0026amp;\u0026amp; exit 1\u0026#34;, \u0026#34;changelog\u0026#34;: \u0026#34;conventional-changelog -p angular -i CHANGELOG.md -s 0\u0026#34; }, ä¸ƒã€å…³äºæ—¥å¿—ç”Ÿæˆçš„é—®é¢˜ 1 2 3 4 5 6 æˆ‘è‡ªå·±ç¢°åˆ°çš„é—®é¢˜ï¼Œå¢é‡ç”Ÿæˆæ—¥å¿—æ–‡ä»¶ï¼Œå‘ç°æ¯ä¸€æ¬¡éƒ½ä¼šæŠŠæ‰€æœ‰çš„æ—¥å¿—æ‰“å°å‡ºæ¥äº†ã€‚ ç ”ç©¶äº†å¥½ä¹…æ‰å‘ç°ï¼Œæ¯ä¸€ä¸ªç‰ˆæœ¬éœ€è¦è®¾ç½®ä¸€ä¸ªtagæ‰å¯ä»¥ã€‚ æ¯”å¦‚æˆ‘masteråˆ†æ”¯åˆ‡å‡ºæ¥ä¸€ä¸ª 1.0.0 çš„åˆ†æ”¯ï¼Œä¿®æ”¹å®Œåˆå¹¶åˆ° masteråˆ†æ”¯ä¸Šã€‚ è¿™ä¸ªæ—¶å€™æˆ‘éœ€è¦ git tag v1.0.0 (è¿™ä¸ªtagåå­—ä¸èƒ½å’Œ åˆ†æ”¯ 1.0.0 ç›¸åŒï¼Œä¸ç„¶ç”Ÿæˆæ—¥å¿—çš„æ—¶å€™ä¼šæç¤ºé”™è¯¯ï¼Œ æˆ–è€…æ˜¯tagåå­—ç›¸åŒï¼Œç„¶åæŠŠ1.0.0åˆ†æ”¯åˆ é™¤ï¼‰ã€‚ ç­‰æˆ‘2.0.0 åˆå¹¶çš„æ—¶å€™ï¼Œç”Ÿæˆlogæ—¥å¿—ï¼Œå°±å¯ä»¥çœ‹åˆ°æ—¥å¿— æ–‡ä»¶ä¸­ï¼Œä¼šæ˜¾ç¤ºå‡ºä¸åŒç‰ˆæœ¬çš„ä¸åŒæäº¤ä¿¡æ¯æ—¥å¿—äº†ã€‚ ","date":"2020-12-31T11:46:29Z","permalink":"https://blog.iostao.com/2020/12/gitcommit-message-and-change-log/","title":"Gitæäº¤çš„æ­£ç¡®å§¿åŠ¿ï¼šCommit message å’Œ Change log ç¼–å†™æŒ‡å—"},{"content":"ä¸€ã€æ ¡éªŒæ•°å­—çš„è¡¨è¾¾å¼ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 æ•°å­—ï¼š^[0-9]*$ nä½çš„æ•°å­—ï¼š^\\d{n}$ è‡³å°‘nä½çš„æ•°å­—ï¼š^\\d{n,}$ m-nä½çš„æ•°å­—ï¼š^\\d{m,n}$ é›¶å’Œéé›¶å¼€å¤´çš„æ•°å­—ï¼š^(0|[1-9][0-9]*)$ éé›¶å¼€å¤´çš„æœ€å¤šå¸¦ä¸¤ä½å°æ•°çš„æ•°å­—ï¼š^([1-9][0-9]*)+(.[0-9]{1,2})?$ å¸¦1-2ä½å°æ•°çš„æ­£æ•°æˆ–è´Ÿæ•°ï¼š^(\\-)?\\d+(\\.\\d{1,2})?$ æ­£æ•°ã€è´Ÿæ•°ã€å’Œå°æ•°ï¼š^(\\-|\\+)?\\d+(\\.\\d+)?$ æœ‰ä¸¤ä½å°æ•°çš„æ­£å®æ•°ï¼š^[0-9]+(.[0-9]{2})?$ æœ‰1~3ä½å°æ•°çš„æ­£å®æ•°ï¼š^[0-9]+(.[0-9]{1,3})?$ éé›¶çš„æ­£æ•´æ•°ï¼š^[1-9]\\d*$ æˆ– ^([1-9][0-9]*){1,3}$ æˆ– ^\\+?[1-9][0-9]*$ éé›¶çš„è´Ÿæ•´æ•°ï¼š^\\-[1-9][]0-9\u0026#34;*$ æˆ– ^-[1-9]\\d*$ éè´Ÿæ•´æ•°ï¼š^\\d+$ æˆ– ^[1-9]\\d*|0$ éæ­£æ•´æ•°ï¼š^-[1-9]\\d*|0$ æˆ– ^((-\\d+)|(0+))$ éè´Ÿæµ®ç‚¹æ•°ï¼š^\\d+(\\.\\d+)?$ æˆ– ^[1-9]\\d*\\.\\d*|0\\.\\d*[1-9]\\d*|0?\\.0+|0$ éæ­£æµ®ç‚¹æ•°ï¼š^((-\\d+(\\.\\d+)?)|(0+(\\.0+)?))$ æˆ– ^(-([1-9]\\d*\\.\\d*|0\\.\\d*[1-9]\\d*))|0?\\.0+|0$ æ­£æµ®ç‚¹æ•°ï¼š^[1-9]\\d*\\.\\d*|0\\.\\d*[1-9]\\d*$ æˆ– ^(([0-9]+\\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\\.[0-9]+)|([0-9]*[1-9][0-9]*))$ è´Ÿæµ®ç‚¹æ•°ï¼š^-([1-9]\\d*\\.\\d*|0\\.\\d*[1-9]\\d*)$ æˆ– ^(-(([0-9]+\\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\\.[0-9]+)|([0-9]*[1-9][0-9]*)))$ æµ®ç‚¹æ•°ï¼š^(-?\\d+)(\\.\\d+)?$ æˆ– ^-?([1-9]\\d*\\.\\d*|0\\.\\d*[1-9]\\d*|0?\\.0+|0)$ äºŒã€æ ¡éªŒå­—ç¬¦çš„è¡¨è¾¾å¼ 1 2 3 4 5 6 7 8 9 10 11 12 æ±‰å­—ï¼š^[\\u4e00-\\u9fa5]{0,}$ è‹±æ–‡å’Œæ•°å­—ï¼š^[A-Za-z0-9]+$ æˆ– ^[A-Za-z0-9]{4,40}$ é•¿åº¦ä¸º3-20çš„æ‰€æœ‰å­—ç¬¦ï¼š^.{3,20}$ ç”±26ä¸ªè‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼š^[A-Za-z]+$ ç”±26ä¸ªå¤§å†™è‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼š^[A-Z]+$ ç”±26ä¸ªå°å†™è‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼š^[a-z]+$ ç”±æ•°å­—å’Œ26ä¸ªè‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼š^[A-Za-z0-9]+$ ç”±æ•°å­—ã€26ä¸ªè‹±æ–‡å­—æ¯æˆ–è€…ä¸‹åˆ’çº¿ç»„æˆçš„å­—ç¬¦ä¸²ï¼š^\\w+$ æˆ– ^\\w{3,20}$ ä¸­æ–‡ã€è‹±æ–‡ã€æ•°å­—åŒ…æ‹¬ä¸‹åˆ’çº¿ï¼š^[\\u4E00-\\u9FA5A-Za-z0-9_]+$ ä¸­æ–‡ã€è‹±æ–‡ã€æ•°å­—ä½†ä¸åŒ…æ‹¬ä¸‹åˆ’çº¿ç­‰ç¬¦å·ï¼š^[\\u4E00-\\u9FA5A-Za-z0-9]+$ æˆ– ^[\\u4E00-\\u9FA5A-Za-z0-9]{2,20}$ å¯ä»¥è¾“å…¥å«æœ‰^%\u0026amp;\u0026#39;,;=?$\\\u0026#34;ç­‰å­—ç¬¦ï¼š[^%\u0026amp;\u0026#39;,;=?$\\x22]+ ç¦æ­¢è¾“å…¥å«æœ‰~çš„å­—ç¬¦ï¼š[^~\\x22]+ ä¸‰ã€ç‰¹æ®Šéœ€æ±‚è¡¨è¾¾å¼ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 1 Emailåœ°å€ï¼š^\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$ 2 åŸŸåï¼š[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(/.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+/.? 3 InternetURLï¼š[a-zA-z]+://[^\\s]* æˆ– ^http://([\\w-]+\\.)+[\\w-]+(/[\\w-./?%\u0026amp;=]*)?$ 4 æ‰‹æœºå·ç ï¼š^(13[0-9]|14[0-9]|15[0-9]|166|17[0-9]|18[0-9]|19[8|9])\\d{8}$ 4.1 var re = /^(1[3-9][0-9]{9})$/;//å¦‚ï¼š if (re.test(vmData.PHONE) === false) { alert(\u0026#34;æ‰‹æœºå·æ ¼å¼ä¸æ­£ç¡®\u0026#34;); return; } 5 ç”µè¯å·ç (\u0026#34;XXX-XXXXXXX\u0026#34;ã€\u0026#34;XXXX-XXXXXXXX\u0026#34;ã€\u0026#34;XXX-XXXXXXX\u0026#34;ã€\u0026#34;XXX-XXXXXXXX\u0026#34;ã€\u0026#34;XXXXXXX\u0026#34;å’Œ\u0026#34;XXXXXXXX)ï¼š^(\\(\\d{3,4}-)|\\d{3.4}-)?\\d{7,8}$ 6 å›½å†…ç”µè¯å·ç (0511-4405222ã€021-87888822)ï¼š\\d{3}-\\d{8}|\\d{4}-\\d{7} 7 18ä½èº«ä»½è¯å·ç (æ•°å­—ã€å­—æ¯xç»“å°¾)ï¼š^((\\d{18})|([0-9x]{18})|([0-9X]{18}))$ 8 å¸å·æ˜¯å¦åˆæ³•(å­—æ¯å¼€å¤´ï¼Œå…è®¸5-16å­—èŠ‚ï¼Œå…è®¸å­—æ¯æ•°å­—ä¸‹åˆ’çº¿)ï¼š^[a-zA-Z][a-zA-Z0-9_]{4,15}$ 9 å¯†ç (ä»¥å­—æ¯å¼€å¤´ï¼Œé•¿åº¦åœ¨6~18ä¹‹é—´ï¼Œåªèƒ½åŒ…å«å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿)ï¼š^[a-zA-Z]\\w{5,17}$ 10 å¼ºå¯†ç (å¿…é¡»åŒ…å«å¤§å°å†™å­—æ¯å’Œæ•°å­—çš„ç»„åˆï¼Œä¸èƒ½ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦ï¼Œé•¿åº¦åœ¨8-10ä¹‹é—´)ï¼š^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,10}$ 11 æ—¥æœŸæ ¼å¼ï¼š^\\d{4}-\\d{1,2}-\\d{1,2} 12 ä¸€å¹´çš„12ä¸ªæœˆ(01ï½09å’Œ1ï½12)ï¼š^(0?[1-9]|1[0-2])$ 13 ä¸€ä¸ªæœˆçš„31å¤©(01ï½09å’Œ1ï½31)ï¼š^((0?[1-9])|((1|2)[0-9])|30|31)$ 14 é’±çš„è¾“å…¥æ ¼å¼ï¼š 15 1.æœ‰å››ç§é’±çš„è¡¨ç¤ºå½¢å¼æˆ‘ä»¬å¯ä»¥æ¥å—:\u0026#34;10000.00\u0026#34; å’Œ \u0026#34;10,000.00\u0026#34;, å’Œæ²¡æœ‰ \u0026#34;åˆ†\u0026#34; çš„ \u0026#34;10000\u0026#34; å’Œ \u0026#34;10,000\u0026#34;ï¼š^[1-9][0-9]*$ 16 2.è¿™è¡¨ç¤ºä»»æ„ä¸€ä¸ªä¸ä»¥0å¼€å¤´çš„æ•°å­—,ä½†æ˜¯,è¿™ä¹Ÿæ„å‘³ç€ä¸€ä¸ªå­—ç¬¦\u0026#34;0\u0026#34;ä¸é€šè¿‡,æ‰€ä»¥æˆ‘ä»¬é‡‡ç”¨ä¸‹é¢çš„å½¢å¼ï¼š^(0|[1-9][0-9]*)$ 17 3.ä¸€ä¸ª0æˆ–è€…ä¸€ä¸ªä¸ä»¥0å¼€å¤´çš„æ•°å­—.æˆ‘ä»¬è¿˜å¯ä»¥å…è®¸å¼€å¤´æœ‰ä¸€ä¸ªè´Ÿå·ï¼š^(0|-?[1-9][0-9]*)$ 18 4.è¿™è¡¨ç¤ºä¸€ä¸ª0æˆ–è€…ä¸€ä¸ªå¯èƒ½ä¸ºè´Ÿçš„å¼€å¤´ä¸ä¸º0çš„æ•°å­—.è®©ç”¨æˆ·ä»¥0å¼€å¤´å¥½äº†.æŠŠè´Ÿå·çš„ä¹Ÿå»æ‰,å› ä¸ºé’±æ€»ä¸èƒ½æ˜¯è´Ÿçš„å§.ä¸‹é¢æˆ‘ä»¬è¦åŠ çš„æ˜¯è¯´æ˜å¯èƒ½çš„å°æ•°éƒ¨åˆ†ï¼š^[0-9]+(.[0-9]+)?$ 19 5.å¿…é¡»è¯´æ˜çš„æ˜¯,å°æ•°ç‚¹åé¢è‡³å°‘åº”è¯¥æœ‰1ä½æ•°,æ‰€ä»¥\u0026#34;10.\u0026#34;æ˜¯ä¸é€šè¿‡çš„,ä½†æ˜¯ \u0026#34;10\u0026#34; å’Œ \u0026#34;10.2\u0026#34; æ˜¯é€šè¿‡çš„ï¼š^[0-9]+(.[0-9]{2})?$ 20 6.è¿™æ ·æˆ‘ä»¬è§„å®šå°æ•°ç‚¹åé¢å¿…é¡»æœ‰ä¸¤ä½,å¦‚æœä½ è®¤ä¸ºå¤ªè‹›åˆ»äº†,å¯ä»¥è¿™æ ·ï¼š^[0-9]+(.[0-9]{1,2})?$ 21 7.è¿™æ ·å°±å…è®¸ç”¨æˆ·åªå†™ä¸€ä½å°æ•°.ä¸‹é¢æˆ‘ä»¬è¯¥è€ƒè™‘æ•°å­—ä¸­çš„é€—å·äº†,æˆ‘ä»¬å¯ä»¥è¿™æ ·ï¼š^[0-9]{1,3}(,[0-9]{3})*(.[0-9]{1,2})?$ 22 8.1åˆ°3ä¸ªæ•°å­—,åé¢è·Ÿç€ä»»æ„ä¸ª é€—å·+3ä¸ªæ•°å­—,é€—å·æˆä¸ºå¯é€‰,è€Œä¸æ˜¯å¿…é¡»ï¼š^([0-9]+|[0-9]{1,3}(,[0-9]{3})*)(.[0-9]{1,2})?$ 23 å¤‡æ³¨ï¼šè¿™å°±æ˜¯æœ€ç»ˆç»“æœäº†,åˆ«å¿˜äº†\u0026#34;+\u0026#34;å¯ä»¥ç”¨\u0026#34;*\u0026#34;æ›¿ä»£å¦‚æœä½ è§‰å¾—ç©ºå­—ç¬¦ä¸²ä¹Ÿå¯ä»¥æ¥å—çš„è¯(å¥‡æ€ª,ä¸ºä»€ä¹ˆ?)æœ€å,åˆ«å¿˜äº†åœ¨ç”¨å‡½æ•°æ—¶å»æ‰å»æ‰é‚£ä¸ªåæ–œæ ,ä¸€èˆ¬çš„é”™è¯¯éƒ½åœ¨è¿™é‡Œ 24 xmlæ–‡ä»¶ï¼š^([a-zA-Z]+-?)+[a-zA-Z0-9]+\\\\.[x|X][m|M][l|L]$ 25 ä¸­æ–‡å­—ç¬¦çš„æ­£åˆ™è¡¨è¾¾å¼ï¼š[\\u4e00-\\u9fa5] 26 åŒå­—èŠ‚å­—ç¬¦ï¼š[^\\x00-\\xff] (åŒ…æ‹¬æ±‰å­—åœ¨å†…ï¼Œå¯ä»¥ç”¨æ¥è®¡ç®—å­—ç¬¦ä¸²çš„é•¿åº¦(ä¸€ä¸ªåŒå­—èŠ‚å­—ç¬¦é•¿åº¦è®¡2ï¼ŒASCIIå­—ç¬¦è®¡1))27 ç©ºç™½è¡Œçš„æ­£åˆ™è¡¨è¾¾å¼ï¼š\\n\\s*\\r (å¯ä»¥ç”¨æ¥åˆ é™¤ç©ºç™½è¡Œ) 28 HTMLæ ‡è®°çš„æ­£åˆ™è¡¨è¾¾å¼ï¼š\u0026lt;(\\S*?)[^\u0026gt;]*\u0026gt;.*?\u0026lt;/\\1\u0026gt;|\u0026lt;.*? /\u0026gt; (ç½‘ä¸Šæµä¼ çš„ç‰ˆæœ¬å¤ªç³Ÿç³•ï¼Œä¸Šé¢è¿™ä¸ªä¹Ÿä»…ä»…èƒ½éƒ¨åˆ†ï¼Œå¯¹äºå¤æ‚çš„åµŒå¥—æ ‡è®°ä¾æ—§æ— èƒ½ä¸ºåŠ›)29 é¦–å°¾ç©ºç™½å­—ç¬¦çš„æ­£åˆ™è¡¨è¾¾å¼ï¼š^\\s*|\\s*$æˆ–(^\\s*)|(\\s*$) (å¯ä»¥ç”¨æ¥åˆ é™¤è¡Œé¦–è¡Œå°¾çš„ç©ºç™½å­—ç¬¦(åŒ…æ‹¬ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢é¡µç¬¦ç­‰ç­‰)ï¼Œéå¸¸æœ‰ç”¨çš„è¡¨è¾¾å¼) 30 è…¾è®¯QQå·ï¼š[1-9][0-9]{4,} (è…¾è®¯QQå·ä»10000å¼€å§‹) 31 ä¸­å›½é‚®æ”¿ç¼–ç ï¼š[1-9]\\d{5}(?!\\d) (ä¸­å›½é‚®æ”¿ç¼–ç ä¸º6ä½æ•°å­—) 32 IPåœ°å€ï¼š\\d+\\.\\d+\\.\\d+\\.\\d+ (æå–IPåœ°å€æ—¶æœ‰ç”¨)33 IPåœ°å€ï¼š((?:(?:25[0-5]|2[0-4]\\\\d|[01]?\\\\d?\\\\d)\\\\.){3}(?:25[0-5]|2[0-4]\\\\d|[01]?\\\\d?\\\\d))Â ","date":"2020-06-21T08:06:44Z","permalink":"https://blog.iostao.com/2020/06/ios-js-regular/","title":"å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼å¤§å…¨--å¦‚ï¼šæ•°å­—ï¼Œå­—ç¬¦ç­‰"},{"content":"ä»iOS 13ç³»ç»Ÿå¼€å§‹ï¼Œå¼€å¯äº†Appçš„æ·±è‰²æ¨¡å¼çš„å¤§é—¨ã€‚å› ä¸ºAppStoreå®¡æ ¸æŒ‡å—æå‡ºï¼šä»2020å¹´4æœˆ30æ—¥å¼€å§‹ï¼Œæ‰€æœ‰æäº¤è‡³App Storeçš„iPhone Appéƒ½å¿…é¡»ä½¿ç”¨ iOS 13 SDKæˆ–æ›´é«˜ç‰ˆæœ¬æ¥æ„å»ºã€‚ä»¥åçš„appéƒ½éœ€è¦æ”¯æŒæš—é»‘æ¨¡å¼äº†ã€‚\nä¸€ã€æš—é»‘æ¨¡å¼ 1ã€ UIUserInterfaceStyleï¼ˆé¡µé¢æ¨¡å¼çš„æšä¸¾ï¼‰ 1 2 3 4 5 6 @available(iOS 12.0, *) public enum UIUserInterfaceStyle : Int { case unspecified = 0 case light = 1 case dark = 2 } 2ã€æš—é»‘æ¨¡å¼ç›‘å¬ï¼š 1 2 3 4 5 6 7 ///ç›‘å¬æ¨¡å¼çš„å˜åŒ– override func traitCollectionDidChange(_ previousTraitCollection: UITraitCollection?) { super.traitCollectionDidChange(previousTraitCollection) if traitCollection.hasDifferentColorAppearance(comparedTo: previousTraitCollection) { //æ¨¡å¼å‘ç”Ÿå˜åŒ–ä¼šå›è°ƒè¿™é‡Œ } } 3ã€è·å–å½“å‰æ¨¡å¼ 1 2 3 4 5 6 7 8 9 10 if self.traitCollection.userInterfaceStyle == .dark { // Dark print(\u0026#34;æ˜¯darkæ¨¡å¼ã€ã€‚ã€‚ã€‚\u0026#34;) } else if self.traitCollection.userInterfaceStyle == .light { // Light print(\u0026#34;æ˜¯lightæ¨¡å¼ã€ã€‚ã€‚ã€‚\u0026#34;) } else { //unspecified print(\u0026#34;æ˜¯unspecifiedæ¨¡å¼ã€ã€‚ã€‚ã€‚\u0026#34;) } äºŒã€åˆ›å»ºåŠ¨æ€é¢œè‰² 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 extension UIColor { /// åŠ¨æ€é¢œè‰² class func color(lightColor: UIColor, darkColor: UIColor) -\u0026gt; UIColor { if #available(iOS 13.0, *) { // UITraitCollection return UIColor { (traitCollection) -\u0026gt; UIColor in //æˆ‘è¿™é‡Œåªæœ‰ä¸¤ç§é¢œè‰²ï¼Œæ‰€ä»¥ifï¼Œelseå°±å¯ä»¥ã€‚å¦‚æœéœ€è¦ï¼Œå¯ä»¥çœ‹ä¸‹é¢çš„æ³¨é‡Šæ–¹æ³• if traitCollection.userInterfaceStyle == .dark { return darkColor } else { return lightColor } //switch traitCollection.userInterfaceStyle { //case .light: //\treturn lightColor //case .dark: //\treturn darkColor //case .unspecified: //\treturn lightColor //å¦‚æœæœ‰éœ€æ±‚ï¼Œè¿™é‡Œå¯ä»¥è®¾ç½® //@unknown default: //\treturn lightColor //} } } return lightColor } } ä¸‰ã€Assets.xcassets Color set/ Image set 1ã€ è®¾ç½®åŠ¨æ€å›¾ç‰‡ã€‚é€‰æ‹©å³ä¾§ç¬¬å››ä¸ªæ ‡ç­¾æ ã€‚åœ¨ä¸‹é¢é€‰æ‹© Appearanceï¼Œå¼¹å‡ºçš„å¼¹æ¡†é‡Œï¼Œå¯ä»¥æ ¹æ®éœ€æ±‚é€‰æ‹© Any, Dark æˆ– Any, Light, Dary æ¨¡å¼ã€‚\n2ã€è®¾ç½®åŠ¨æ€é¢œè‰²ï¼Œç‚¹å‡»ä¸‹æ–¹çš„åŠ å·ï¼Œç„¶åé€‰æ‹© Color Setã€‚ç„¶åæŒ‰ç…§è®¾ç½®åŠ¨æ€å›¾ç‰‡çš„æ–¹å¼ï¼Œè®¾ç½®åŠ¨æ€é¢œè‰²å³å¯ 3ã€ä»£ç çš„ä½¿ç”¨ è¿™é‡Œåªè®°å½•é¢œè‰²ï¼Œå›¾ç‰‡çš„æ–¹å¼è¿˜æ˜¯ä¸å˜çš„ã€‚\n1 2 3 4 5 6 7 8 //Color Setæ˜¯ios \u0026gt;= 11æ‰èƒ½ä½¿ç”¨çš„ï¼Œå¦‚æœappä»ç„¶æ”¯æŒ iOS 11ä»¥ä¸‹çš„ï¼Œéœ€è¦åˆ¤æ–­ã€‚ //å¦‚æœæ”¯æŒç‰ˆæœ¬ \u0026gt;= 11ï¼Œä¸éœ€è¦åˆ¤æ–­ if #available(iOS 11.0, *) {\tself.view.backgroundColor = UIColor(named: \u0026#34;lgl_test\u0026#34;) } else { ///è®¾ç½®ä½äºiOS11ç³»ç»Ÿä¸‹å±•ç¤ºçš„é¢œè‰² self.view.backgroundColor = UIColor.red } ","date":"2020-05-28T20:26:58Z","permalink":"https://blog.iostao.com/2020/05/ios-dynamic-color/","title":"iOS æ·±æµ…æ¨¡å¼ é¢œè‰² å’Œ å›¾ç‰‡"},{"content":"æˆ‘ä»¬å¼€å‘ä¼šé‡åˆ°ç±»ä¼¼äºè·å–èœå•è¿™ç§æƒ…å†µï¼Œæ¶æ„å¤§ä½“ç±»ä¼¼å¦‚ä¸‹ï¼š\näººäº‹ç®¡ç† å‘˜å·¥èµ„å† å‘˜å·¥å¥–æƒ© ç»Ÿè®¡ç®¡ç† ç»Ÿè®¡åˆ—è¡¨ ç³»ç»Ÿç®¡ç† æˆ‘çš„è®¾ç½® æƒé™ç®¡ç† è§’è‰²åˆ—è¡¨ æˆ‘è¿™é‡Œç”¨çš„æ˜¯åŒå±‚ç»“æ„ï¼Œæˆ‘ä»¬æœç´¢çš„æ—¶å€™ç”¨çš„æ˜¯é€’å½’æŸ¥è¯¢ï¼Œæ‰€ä»¥ç†è®ºä¸Šå¯ä»¥æ— é™çº§æ·»åŠ ï¼ˆä¸è€ƒè™‘æ•°æ®åº“çš„æ„Ÿå—çš„è¯ï¼‰ã€‚\næ•°æ®è¡¨å¦‚ä¸‹ï¼š\n-- Table structure for tbl_auth_menu\n1 2 3 4 5 6 7 8 9 10 DROP TABLE IF EXISTS `tbl_auth_menu`; CREATE TABLE `tbl_auth_menu` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `pid` int(11) NOT NULL COMMENT \u0026#39;çˆ¶çº§èœå•id\u0026#39;, `name` char(20) NOT NULL COMMENT \u0026#39;èœå•åå•\u0026#39;, `sort` tinyint(4) DEFAULT \u0026#39;0\u0026#39; COMMENT \u0026#39;æ’åºå€¼\u0026#39;, `route` varchar(60) DEFAULT \u0026#39;\u0026#39; COMMENT \u0026#39;è·³è½¬é“¾æ¥\u0026#39;, PRIMARY KEY (`id`), KEY `pid` (`pid`) ) ENGINE=InnoDB AUTO_INCREMENT=26 DEFAULT CHARSET=utf8mb4 COMMENT=\u0026#39;æƒé™ç®¡ç†_èœå•è¡¨\u0026#39;; -- Records of tbl_auth_menu\n1 2 3 4 5 6 7 8 9 10 11 BEGIN; INSERT INTO `tbl_auth_menu` VALUES (14, -1, \u0026#39;äººäº‹ç®¡ç†\u0026#39;, 1, \u0026#39;\u0026#39;); INSERT INTO `tbl_auth_menu` VALUES (15, -1, \u0026#39;ç»Ÿè®¡ç®¡ç†\u0026#39;, 2, \u0026#39;\u0026#39;); INSERT INTO `tbl_auth_menu` VALUES (16, -1, \u0026#39;ç³»ç»Ÿç®¡ç†\u0026#39;, 3, \u0026#39;\u0026#39;); INSERT INTO `tbl_auth_menu` VALUES (17, 14, \u0026#39;å‘˜å·¥èµ„æ–™\u0026#39;, 1, \u0026#39;/user/info\u0026#39;); INSERT INTO `tbl_auth_menu` VALUES (18, 14, \u0026#39;å‘˜å·¥å¥–æƒ©\u0026#39;, 2, \u0026#39;/user/award\u0026#39;); INSERT INTO `tbl_auth_menu` VALUES (19, 15, \u0026#39;ç»Ÿè®¡åˆ—è¡¨\u0026#39;, 1, \u0026#39;/statis/list\u0026#39;); INSERT INTO `tbl_auth_menu` VALUES (20, 16, \u0026#39;æˆ‘çš„è®¾ç½®\u0026#39;, 1, \u0026#39;/sys/setting\u0026#39;); INSERT INTO `tbl_auth_menu` VALUES (21, 16, \u0026#39;æƒé™ç®¡ç†\u0026#39;, 2, \u0026#39;/sys/auth\u0026#39;); INSERT INTO `tbl_auth_menu` VALUES (22, 16, \u0026#39;è§’è‰²åˆ—è¡¨\u0026#39;, 3, \u0026#39;/sys/role\u0026#39;); COMMIT; æˆ‘è¿™é‡Œç¬¬ä¸€çº§ç›®å½•çš„ çˆ¶èœå• id (pid)ä½¿ç”¨çš„æ˜¯ -1, å› ä¸º id é»˜è®¤æ˜¯ä» 0å¼€å§‹çš„ï¼Œä½¿ç”¨0çš„è¯ï¼Œè¿™ä¸ªèœå•æœ‰å¯èƒ½ä¸æ˜¯ç¬¬ä¸€çº§ç›®å½•ï¼Œè€Œæ˜¯ pid = 0 çš„äºŒçº§ç›®å½•äº†\nçˆ¶èœå• id = 0 å­èœå• pid = 0 (pid=0ï¼Œå®ƒå°±æ˜¯äºŒçº§ç›®å½•äº†ï¼‰ ä»£ç  æ–‡ä»¶ menu.go (ä½¿ç”¨ beego orm) 1 2 3 4 5 6 7 8 9 10 11 12 13 14 type Menu struct { Id int `json:\u0026#34;id\u0026#34;` Pid int `json:\u0026#34;pid\u0026#34;` Name string `json:\u0026#34;name\u0026#34;` Sort int `json:\u0026#34;sort\u0026#34;` Route string `json:\u0026#34;route\u0026#34;` //è¿™é‡Œæ˜¯å­èœå•ï¼Œç»“æ„æ˜¯ menuæ•°ç»„ï¼Œå› ä¸ºæ˜¯menuç±»å‹ï¼Œæ‰€ä»¥æ•°æ®åº“ä¸åšå¤„ç† //ç”¨ orm:\u0026#34;-\u0026#34;æ³¨è§£ Children []*Menu `json:\u0026#34;children\u0026#34; orm:\u0026#34;-\u0026#34;`\t} func (m *Menu) TableName() string { return \u0026#34;auth_menu\u0026#34; } åœ¨æ•°æ®åº“å±‚ï¼Œæ³¨å†Œæ¨¡å‹ 1 2 3 4 5 6 7 8 9 //æ³¨å†Œ æ•°æ®åº“çš„æ—¶å€™ //æˆ‘è¿™é‡Œæ•°æ®åº“éƒ½ä½¿ç”¨äº† tbl_ å‰ç¼€ã€‚ //æ‰€ä»¥ä¸Šé¢çš„æ•°æ®åº“, return auth_menu è¡¨å, ä½†æ˜¯å®é™…ä¸Šä½¿ç”¨çš„æ—¶å€™æ˜¯ tbl_auth_menu è¡¨, è¿™é‡Œä¸€å®šè¦æ³¨æ„ï¼Œ //å†™ä»£ç çš„æ—¶å€™ï¼Œæç¤ºé”™è¯¯ï¼Œæ•°æ®åº“è¡¨ ä¸å­˜åœ¨è¿™ä¸ªçš„æ—¶å€™ï¼Œè®°å¾—æ¥è¿™é‡Œçœ‹çœ‹ func init() { orm.RegisterModelWithPrefix(\u0026#34;tbl_\u0026#34;, new(models.Menu), ) } é€’å½’æŸ¥è¯¢ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 /** é€’å½’è·å–æ ‘å½¢èœå• */ //func (m *Menu) GetMenu(pid int) []*TreeList { func GetMenu(pid int) []*Menu { o := orm.NewOrm() var menuList []*Menu //æ ¹æ® pid æŸ¥è¯¢æ•°æ®åº“ _, _ = o.QueryTable(\u0026#34;tbl_auth_menu\u0026#34;).Filter(\u0026#34;pid\u0026#34;, pid).OrderBy(\u0026#34;sort\u0026#34;).All(\u0026amp;menuList) //æŸ¥è¯¢åˆ°ç»“æœåï¼Œéå†è¯¥å±‚èœå• //æŸ¥è¯¢éƒ½æœ‰å“ªäº›èœå•æ˜¯ä½¿ç”¨è‡ªå·±çš„idä½œä¸ºpidçš„ï¼Œ //ä¹Ÿå°±æ˜¯æŸ¥è¯¢è¯¥èœå•çš„å­èœå•ï¼ŒæŸ¥è¯¢åˆ°åèµ‹å€¼å°±å¯ä»¥äº† for _, v := range menuList { child := GetMenu(v.Id) v.Children = child } return menuList } apiæ–¹æ³• 1 2 3 4 5 6 7 8 9 // è·å–æ‰€æœ‰éƒ¨é—¨ func (c *DepartmentController) GetAll() { //æˆ‘æ–¹æ³•å†™åœ¨äº† models åŒ…é‡Œï¼Œæ ¹æ®å…·ä½“æƒ…å†µï¼Œå¼•å…¥åŒ…ï¼Œ //æˆ–è€…æ˜¯åŒçº§åŒ…ä¸‹ï¼Œä¸å†™åŒ…å // -1 ä¸º ç¬¬ä¸€çº§éƒ¨é—¨ çš„ parentIdï¼Œ departments := models.DepartmentGetAll(-1) c.Data[\u0026#34;json\u0026#34;] = util.NewRespMsg(0, \u0026#34;è·å–éƒ¨é—¨æˆåŠŸ\u0026#34;, departments) c.ServeJSON() } ","date":"2020-05-18T11:51:10Z","permalink":"https://blog.iostao.com/2020/05/go-mysql-recursion/","title":"Golangå®æˆ˜ç³»åˆ—ï¼šmysqlæ•°æ®åº“æŸ¥è¯¢ -- å®ç°æ— é™çº§èœå•ï¼ˆbeego orm)"},{"content":"è½¬è½½è‡ª è¶…çº§å¤§æŸ±å­ï¼ˆç®€ä¹¦ï¼‰\ngoæç®€æ•™ç¨‹ é˜…è¯»ç›®å½•\nGo æ–‡ä»¶æ“ä½œ osåº“ï¼šæ–‡ä»¶\\æ–‡ä»¶å¤¹åˆ›å»º,è¯»å–,ç§»åŠ¨,å¤åˆ¶ ioåº“ : æ–‡ä»¶å†…å®¹çš„å†™å…¥,ä¿®æ”¹,æ‹¼æ¥ åŸºæœ¬æ–‡ä»¶æ“ä½œ æ–‡ä»¶å†…å®¹çš„è¯»å– 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 package main import ( \u0026#34;io/ioutil\u0026#34; \u0026#34;log\u0026#34; ) func main() { // è¯»å–æ–‡ä»¶å†…å®¹ file, _ := os.OpenFile(\u0026#34;./demo_unicode.html\u0026#34;, 2, 0666) fileByte1, _ = ioutil.ReadAll(file); // è¯»å–æ–‡ä»¶å†…å®¹ï¼Œæ›´ç®€æ˜“çš„æ–¹æ³• fileByte2, _ := ioutil.ReadFile(\u0026#34;./demo_unicode.html\u0026#34;) // byteè½¬string fileString := string(fileByte2) log.Println(fileString) } æ–‡ä»¶çš„å¸¸è§„æ“ä½œï¼Œå¤åˆ¶ä»¥ä¸‹ä»£ç è¿›main.go, æ‰§è¡Œåçœ‹çœ‹æ•ˆæœ, å†é€è¡Œé˜…è¯»ä»£ç  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 package main import ( \u0026#34;io\u0026#34; \u0026#34;os\u0026#34; ) func main() { // è®¾å®šå·¥ä½œè·¯å¾„, ä¸€èˆ¬åœ¨é¡¹ç›®åˆšå¼€å§‹è®¾å®šä¸€æ¬¡å³å¯, ä¸è¦åœ¨å¼‚æ­¥è¿‡ç¨‹ä¸­ä¿®æ”¹å·¥ä½œè·¯å¾„ // é»˜è®¤æ˜¯ç¨‹åºæ‰§è¡Œçš„è·¯å¾„ os.Chdir(\u0026#34;./\u0026#34;) // åˆ›å»ºæ–‡ä»¶å¤¹ os.MkdirAll(\u0026#34;./aa/bb/c1\u0026#34;, 0777)\t//os.ModePerm å°±æ˜¯0777 os.MkdirAll(\u0026#34;./aa/bb/c2\u0026#34;, 0777) // åˆ›å»ºæ–‡ä»¶ os.Create(\u0026#34;./aa/bb/c1/file.go\u0026#34;) // ç§»åŠ¨æ–‡ä»¶ os.Rename(\u0026#34;./aa/bb/c1/file.go\u0026#34;, \u0026#34;./aa/bb/c2/file.go\u0026#34;) // æ‰“å¼€æ–‡ä»¶,å¾—åˆ°ä¸€ä¸ª *File å¯¹è±¡, ç”¨äºåç»­çš„å†™å…¥ file, _ := os.OpenFile(\u0026#34;./aa/bb/c2/file.go\u0026#34;, 2, 0666) // å†™å…¥æ–‡ä»¶å†…å®¹ io.WriteString(file, ` package main func main(){ log.Println(\u0026#34;æˆ‘æ˜¯ç”±ç¨‹åºå†™å…¥çš„ä»£ç \u0026#34;) } `) // ä¹Ÿå¯ä»¥ç›´æ¥è°ƒç”¨fileé‡Œçš„å‡½æ•°å†™å…¥å†…å®¹ file.WriteString(\u0026#34;add string\u0026#34;) // æ‹·è´æ–‡ä»¶, æ‹·è´å…¶å®å°±æ˜¯åˆ›å»ºä¸€ä¸ªæ–‡ä»¶, ç„¶åå†™å…¥æ–‡ä»¶å†…å®¹ src1, _ := os.Create(\u0026#34;./aa/bb/c1/file-copy1.go\u0026#34;) io.Copy(file, src1) // æŠŠæ–‡ä»¶file, å†™å…¥src1æ–‡ä»¶ // åˆ é™¤æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ os.Create(\u0026#34;./aa/bb/c1/file-delete.go\u0026#34;) // åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ç”¨äºåˆ é™¤ os.RemoveAll(\u0026#34;./aa/bb/c1/file-delete.go\u0026#34;) } æ–‡ä»¶è¦†ç›–åˆ¤æ–­ os.IsNotExist å½“æ–‡ä»¶å·²å­˜åœ¨æ—¶, ä¸ç®¡æ˜¯os.Rename(), os.Create(), è¿˜æ˜¯io.WriteString() éƒ½ä¼šå¯¹å·²å­˜åœ¨çš„æ–‡ä»¶è¿›è¡Œè¦†ç›–\\ä¿®æ”¹,\nå¦‚æœéœ€è¦å®‰å…¨çš„æ‰§è¡Œ, å¯ä»¥ä½¿ç”¨ os.Stat() é…åˆ os.IsNotExist() åšåˆ¤æ–­\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 package main import ( \u0026#34;io\u0026#34; \u0026#34;os\u0026#34; ) func main() { os.MkdirAll(\u0026#34;aa\u0026#34;, 0777) // åˆ›å»ºäº†æ–‡ä»¶ testA, å¹¶ä¸”å†™å…¥äº†å†…å®¹ testA, _ := os.Create(\u0026#34;aa/testA\u0026#34;) io.WriteString(testA, \u0026#34;the teatA\u0026#34;) // å¦‚æœéœ€è¦å®‰å…¨åˆ¤æ–­, å¯ä»¥ä½¿ç”¨ os.Stat é…åˆ os.IsNotExist if _, err := os.Stat(\u0026#34;aa/testA\u0026#34;); os.IsNotExist(err) { // å½“æ–‡ä»¶ä¸å­˜åœ¨, æ‰æ‰§è¡Œåˆ›å»º os.Create(\u0026#34;aa/testA\u0026#34;) } os.Chmod(\u0026#34;aa/testA\u0026#34;, 0777) } éå†æ–‡ä»¶å¤¹ éå†æ–‡ä»¶å¤¹å¯ä»¥ä½¿ç”¨ ioutilåº“ çš„ioutil.ReadDir, ä¼šå¾—åˆ°ä¸€ä¸ªæ•°ç»„, æ•°ç»„å…ƒç´ æœ‰æ–‡ä»¶çš„å±æ€§,\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 package main import ( \u0026#34;io/ioutil\u0026#34; \u0026#34;log\u0026#34; ) func main() { fs, _ := ioutil.ReadDir(\u0026#34;aa\u0026#34;) for _, v := range fs { // éå†å¾—åˆ°æ–‡ä»¶å log.Println(v.Name()) log.Println(v.IsDir()) } } æƒé™ å¯ä»¥ä½¿ç”¨ os.Chmod() ä¿®æ”¹æ–‡ä»¶æƒé™\n1 2 // æ‰€æœ‰äººå¯è¯»å†™æƒé™ os.Chmod(\u0026#34;aa/testA\u0026#34;, 0666) 1 2 // åªè¯»æƒé™ os.Chmod(\u0026#34;aa/testA\u0026#34;, 0400) Linuxæƒé™å‚è€ƒ 1 2 3 4 5 6 7 -rw------- (600) åªæœ‰æ‹¥æœ‰è€…æœ‰è¯»å†™æƒé™ã€‚ -rw-r--r-- (644) åªæœ‰æ‹¥æœ‰è€…æœ‰è¯»å†™æƒé™ï¼›è€Œå±ç»„ç”¨æˆ·å’Œå…¶ä»–ç”¨æˆ·åªæœ‰è¯»æƒé™ã€‚ -rwx------ (700) åªæœ‰æ‹¥æœ‰è€…æœ‰è¯»ã€å†™ã€æ‰§è¡Œæƒé™ã€‚ -rwxr-xr-x (755) æ‹¥æœ‰è€…æœ‰è¯»ã€å†™ã€æ‰§è¡Œæƒé™ï¼›è€Œå±ç»„ç”¨æˆ·å’Œå…¶ä»–ç”¨æˆ·åªæœ‰è¯»ã€æ‰§è¡Œæƒé™ã€‚ -rwx--x--x (711) æ‹¥æœ‰è€…æœ‰è¯»ã€å†™ã€æ‰§è¡Œæƒé™ï¼›è€Œå±ç»„ç”¨æˆ·å’Œå…¶ä»–ç”¨æˆ·åªæœ‰æ‰§è¡Œæƒé™ã€‚ -rw-rw-rw- (666) æ‰€æœ‰ç”¨æˆ·éƒ½æœ‰æ–‡ä»¶è¯»ã€å†™æƒé™ã€‚ -rwxrwxrwx (777) æ‰€æœ‰ç”¨æˆ·éƒ½æœ‰è¯»ã€å†™ã€æ‰§è¡Œæƒé™ã€‚ ","date":"2020-03-22T19:23:51Z","permalink":"https://blog.iostao.com/2020/03/go-os-operation/","title":"Golang æ–‡ä»¶æ“ä½œ"},{"content":" stringè½¬æˆintï¼š int, err := strconv.Atoi(string) stringè½¬æˆint64ï¼š int64, err := strconv.ParseInt(string, 10, 64) intè½¬æˆstringï¼š string := strconv.Itoa(int) int64è½¬æˆstringï¼š string := strconv.FormatInt(int64,10) ","date":"2020-03-16T09:51:36Z","permalink":"https://blog.iostao.com/2020/03/go-type-format/","title":"golang ä¸­stringå’Œintç±»å‹ç›¸äº’è½¬æ¢"},{"content":"å‡†å¤‡ åœ¨CentOS çš„æŸä¸ªç›®å½•ä¸‹ï¼Œåˆ›å»ºä¸‹é¢çš„ç›®å½•å½¢å¼ï¼ˆä¹Ÿå¯ä»¥æœ¬åœ°åˆ›å»ºï¼Œç”¨ftpä¸Šä¼ ï¼‰ /data/fileserver/\ndata fileserver Dockerfile nginx.conf data/ Dockerfile è¿™é‡Œå…ˆå†™ Dockerfile æ–‡ä»¶ï¼Œæ³¨æ„æ–‡ä»¶åä¿æŒä¸€è‡´\n1 2 3 4 5 6 7 8 9 FROM hub.c.163.com/public/nginx:1.2.1 #ä»é•œåƒä¸­å¿ƒä¸‹è½½é•œåƒï¼Œå¦‚æœæœ¬åœ°å·²ç»å­˜åœ¨ï¼Œåˆ™ä½¿ç”¨æœ¬åœ°çš„ã€‚è¿™é‡Œä½¿ç”¨çš„163é•œåƒä¸­å¿ƒ MAINTAINER tao ## ä½œè€…ï¼Œå¯ä»¥ä¸å†™ #COPY nginx.conf /etc/nginx/nginx.conf #è¿™é‡Œæ˜¯å°† Dockerfile åŒçº§ç›®å½•çš„ nginx.conf æ‹·è´åˆ° /etc/nginx/nginx.conf # ä½†æ˜¯è¿™é‡Œå§ï¼ŒåæœŸ nginx.conf å¯èƒ½ä¼šä¿®æ”¹ï¼Œæ‰€ä»¥æˆ‘æ³¨é‡Šæ‰äº† # æˆ‘ç”¨çš„æ˜¯ -v æ˜ å°„ï¼ŒåæœŸä¿®æ”¹çš„æ—¶å€™ï¼Œé‡å¯ä¸€ä¸‹é•œåƒå°±å¯ä»¥äº† nginx.conf nginx.conf å®Œæ•´æ–‡ä»¶\nè¿™é‡Œä¸ºäº†æ–¹ä¾¿ ï¼Œé…ç½®æ–‡ä»¶ä¸­ç›´æ¥ä½¿ç”¨çš„æ˜¯ user root; æœ€å¥½æ˜¯æ–°åˆ›å»ºä¸€ä¸ªç”¨æˆ·ã€‚è®¾ç½®å¥½æƒé™ã€‚ä½¿ç”¨å¦ä¸€ä¸ªç”¨æˆ·ï¼Œå®‰å…¨æ€§æ›´é«˜ä¸€äº›ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 server { listen 8080; server_name localhost; charset utf-8; #access_log logs/host.access.log main; location / { #æ˜¾ç¤ºçš„æ ¹ç›®å½• æµ‹è¯•æ–‡å­— root /usr/share/nginx/html; autoindex on; #å¼€å¯ç´¢å¼•åŠŸèƒ½ autoindex_exact_size off; # å…³é—­è®¡ç®—æ–‡ä»¶ç¡®åˆ‡å¤§å°ï¼ˆå•ä½bytesï¼‰ï¼Œåªæ˜¾ç¤ºå¤§æ¦‚å¤§å°ï¼ˆå•ä½kbã€mbã€gbï¼‰ autoindex_localtime on; # æ˜¾ç¤ºæœ¬æœºæ—¶é—´è€Œé GMT æ—¶é—´ } } é•œåƒ+å®¹å™¨ cd åˆ° fileserverç›®å½•ä¸‹ï¼Œæ‰§è¡Œå‘½ä»¤ï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„é•œåƒ $ docker build -t fileserver .\nç”Ÿæˆå¹¶è¿è¡Œå®¹å™¨\ndocker run -itd --restart=always -p 8090:8080 --name fileserver -v /data/fileserver/data:/usr/share/nginx/html/ -v /data/fileserver/nginx.conf:/etc/nginx/nginx.conf fileserver è¿™é‡Œnginxé…ç½®çš„æ˜¯8080ç«¯å£ï¼Œä¹Ÿå°±æ˜¯ -p 8090:8080 åé¢çš„è¿™ä¸ª8080ï¼Œè¿™ä¸ªæ˜¯å®¹å™¨å†…æœåŠ¡çš„ç«¯å£ï¼Œå¯¹å¤–æ²¡æœ‰å½±å“ã€‚8090æ˜¯æˆ‘ä»¬å¤–é¢æ˜ å°„çš„ç«¯å£ï¼Œè¿œç¨‹è®¿é—®å°±æ˜¯ç”¨è¿™ä¸ª8090çš„ç«¯å£\n","date":"2020-03-05T09:54:25Z","permalink":"https://blog.iostao.com/2020/03/linux-start-03/","title":"CentOS ä½¿ç”¨ Docker æœåŠ¡æ­å»º Nginx æ–‡ä»¶æœåŠ¡å™¨"},{"content":"æ­å»ºmysql + FTPæœåŠ¡ ä¸€ã€å®‰è£… mysql ä»å®˜æ–¹ä¸‹è½½mysql 5.7é•œåƒ $ docker pull mysql:5.7 æŸ¥çœ‹ä¸‹è½½çš„é•œåƒ\n$ docker image dockerå®‰è£… Mysqlï¼Œå¹¶æ˜ å°„æœ¬åœ°æ–‡ä»¶ç›®å½•/data/mysql/data $ docker run -itd --restart=always -p 3306:3306 --name mysql -v /data/mysql/data:/var/lib/mysql -v /data/mysql/etc:/etc/mysql -e MYSQL_ROOT_PASSWORD=123456 mysql:5.7 options Mean -i ä»¥äº¤äº’æ¨¡å¼è¿è¡Œå®¹å™¨ï¼Œé€šå¸¸ä¸ -t åŒæ—¶ä½¿ç”¨ -t ä¸ºå®¹å™¨é‡æ–°åˆ†é…ä¸€ä¸ªä¼ªè¾“å…¥ç»ˆç«¯ï¼Œé€šå¸¸ä¸ -i åŒæ—¶ä½¿ç”¨ d | åå°è¿è¡Œå®¹å™¨ï¼Œå¹¶è¿”å›å®¹å™¨ID \u0026ndash;restart | always é‡å¯dockeråï¼Œä¼šç«‹å³å¯åŠ¨æœåŠ¡ -p | ç«¯å£æ˜ å°„ 3306:3306 å‰é¢çš„ç«¯å£ï¼Œä»£è¡¨æœ¬æœºï¼ˆä¹Ÿå°±æ˜¯centOSçš„ç«¯å£ï¼‰ï¼Œåé¢çš„ç«¯å£ï¼Œæ˜¯dockerå®¹å™¨å†…éƒ¨çš„ç«¯å£ï¼Œå’Œå¤–éƒ¨ç«¯å£ä¸å†²çªã€‚æ¯”å¦‚mysql -p 3306:3306, slave -p 3307:3306ã€‚centOSçš„ç«¯å£ï¼Œåˆ†åˆ«æ˜¯3306, 3307ã€‚mysqlå®¹å™¨å†…éƒ¨æ˜¯3306ï¼Œ slaveå®¹å™¨å†…éƒ¨ä¹Ÿæ˜¯3306 -v | è·¯å¾„æ˜ å°„ï¼Œå°†å®¹å™¨ä¸­çš„æ•°æ®æ˜ å°„åˆ°ç¡¬ç›˜ç£ç›˜ä¸Š \u0026ndash;name | åˆ«åï¼Œæ–¹ä¾¿æ“ä½œ mysql:5.7 | æœ€åè¿™ä¸ªæ˜¯é•œåƒå+é•œåƒç‰ˆæœ¬ï¼Œdocker imagesæŸ¥çœ‹å¯¹æ¯”ä¸€ä¸‹å°±å¯ä»¥äº† å½“ç„¶ä¹Ÿå¯ä»¥ä»ç½‘æ˜“äº‘é•œåƒ æˆ–è€…å…¶ä»–é•œåƒä»“åº“ä¸‹è½½é•œåƒã€‚éœ€è¦ç™»å½•ï¼Œç„¶åè¿›å…¥æ§åˆ¶å°ï¼Œé•œåƒä»“åº“\næŸ¥çœ‹è¿è¡Œçš„å®¹å™¨\n$ docker ps è¿›å…¥å®¹å™¨ï¼Œæµ‹è¯•\n# è¿›å…¥mysqlå®¹å™¨ # è¿™ä¸ªmysqlæ˜¯ä¸Šé¢åˆ›å»ºå®¹å™¨çš„æ—¶å€™ï¼Œ--nameèµ·çš„åˆ«åã€‚ä¹Ÿå¯ä»¥ç”¨å®¹å™¨id $ docker exec -it mysql bash $ mysql -u root -p # è¾“å…¥å¯†ç ï¼Œå³å¯æŸ¥çœ‹æœ¬åœ°æ˜¯å¦ç™»å½•æˆåŠŸ è¿œç¨‹è¿æ¥ï¼Œè¦æ³¨æ„mysqlè´¦å·æ˜¯å¦å¼€å¯äº†è¿œç¨‹ç™»å½•ï¼Œæ²¡æœ‰çš„è¯ï¼Œéœ€è¦è®¾ç½®ä¸€ä¸‹\näºŒã€FTPæœåŠ¡ dockerä¸‹è½½ vsftpdé•œåƒ docker pull docker.io/fauria/vsftpd å®‰è£… docker run -d -p 20:20 -p 21:21 -p 21100-21110:21100-21110 -v /data:/home/vsftpd/ç”¨æˆ·å -e FTP_USER=ç”¨æˆ·å -e FTP_PASS=å¯†ç  -e PASV_ADDRESS=æœåŠ¡å™¨ip -e PASV_MIN_PORT=21100 -e PASV_MAX_PORT=21110 --name vsftpd --restart=always docker.io/fauria/vsftpd 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 -p æ˜ å°„ç«¯å£ 21100-21110 //è¢«åŠ¨æ¨¡å¼éšæœºç«¯å£ -v æ˜ å°„ç›®å½•ï¼Œæˆ‘è¿™é‡Œæ˜¯éœ€è¦æŠŠæœ¬åœ°ç›®å½•æ˜ å°„åˆ°è¿™ä¸ªç”¨æˆ·ä¸‹ã€‚ æ‰€ä»¥éœ€è¦æŠŠç”¨æˆ·ååŠ ä¸Š è¯¥ç”¨æˆ·åœ¨FTPä¸­çš„ç›®å½•æ˜¯ /home/vsftpd/ç”¨æˆ·å æ‰€ä»¥ æœ¬åœ°ç›®å½•: /home/vsftpd/ç”¨æˆ·å è¿™é‡Œéœ€è¦æŠŠæœåŠ¡å™¨çš„ç«¯å£æ‰“å¼€ï¼Œç™»å½•è…¾è®¯äº‘/é˜¿é‡Œäº‘åå° -\u0026gt; æ§åˆ¶å° -\u0026gt; å®‰å…¨ç»„ -\u0026gt; ä¿®æ”¹è§„åˆ™ -\u0026gt; æ·»åŠ è§„åˆ™ æ¥æº //åè®®ç«¯å£ å¤‡æ³¨ 0.0.0.0/0 tcp:20 20 ç«¯å£ 0.0.0.0/0 tcp:21 21 ç«¯å£ 0.0.0.0/0 tcp:22 22 sshç«¯å£ 0.0.0.0/0 tcp:21100-21110 21100-21110 è¿™æ˜¯ä¸€ä¸ªç«¯å£èŒƒå›´ è¿œç¨‹FTPè¿æ¥æµ‹è¯•å°±å¯ä»¥äº†ï¼ŒFTPå®¢æˆ·ç«¯å·¥å…· FileZillaä¸‹è½½\næœ‰è¿æ¥ä¸ä¸Šçš„ï¼Œç‚¹ç«¯å£æ‰«æï¼Œè¿›è¡Œä¸€ä¸‹ç«¯å£æ‰«æï¼Œçœ‹çœ‹æœåŠ¡ç«¯å£æ˜¯å¦å…³é—­ï¼Œå¦‚æœå…³é—­çŠ¶æ€ï¼Œå»æ§åˆ¶å°æ·»åŠ ä¸€ä¸‹è§„åˆ™ï¼Œå°†ç«¯å£æ‰“å¼€ã€‚\n","date":"2020-02-25T13:12:10Z","permalink":"https://blog.iostao.com/2020/02/linux-start-02/","title":"CentOS æœåŠ¡å™¨ + mysql + vsftpdæœåŠ¡"},{"content":"dockerç½‘ç»œå‘½ä»¤ æŸ¥çœ‹ç½‘ç»œå‘½ä»¤å¸®åŠ© docker network help \u0026ndash; å„ç§ç½‘ç»œå‘½ä»¤Command \u0026ndash; connect Connect a container to a network å°†ä¸€ä¸ªå®¹å™¨è¿æ¥åˆ°ä¸€ä¸ªç½‘ç»œ create Create a network åˆ›å»ºä¸€ä¸ªç½‘ç»œ disconnect Disconnect a container from a network ä»ç½‘ç»œæ–­å¼€ä¸€ä¸ªå®¹å™¨ inspect Display detailed information on one or more networks åœ¨ä¸€ä¸ªæˆ–å¤šä¸ªç½‘ç»œä¸Šæ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯ ls List networks ç½‘ç»œåˆ—è¡¨ prune Remove all unused networks åˆ é™¤æ‰€æœ‰æœªä½¿ç”¨çš„ç½‘ç»œ rm Remove one or more networks åˆ é™¤ä¸€ä¸ªæˆ–å¤šä¸ªç½‘ç»œ dockeræŸ¥çœ‹å‘½ä»¤ ###æŸ¥çœ‹å®¹å™¨è¯¦ç»†ä¿¡æ¯ docker inspect [å®¹å™¨id]\næŸ¥çœ‹å®¹å™¨ç«¯å£ä¿¡æ¯ docker port [å®¹å™¨id] dockerç½‘ç»œæ¨¡å¼ ä»1.7.0ç‰ˆæœ¬å¼€å§‹ï¼ŒDockeræ­£å¼æŠŠç½‘ç»œè·Ÿå­˜å‚¨è¿™ä¸¤ä¸ªéƒ¨åˆ†çš„åŠŸèƒ½å®ç°éƒ½ä»¥æ’ä»¶åŒ–çš„å½¢å¼å‰¥ç¦»å‡ºæ¥ï¼Œå…è®¸ç”¨æˆ·é€šè¿‡æŒ‡ä»¤æ¥é€‰æ‹©ä¸åŒçš„åç«¯å®ç°ã€‚è¿™ä¹Ÿå°±æ˜¯Dockerå¸Œæœ›æ„å»ºå›´ç»•ç€å®¹å™¨çš„å¼ºå¤§ç”Ÿæ€ç³»ç»Ÿçš„ä¸€äº›ç§¯æå°è¯•ã€‚å‰¥ç¦»å‡ºæ¥çš„ç‹¬ç«‹ç½‘ç»œé¡¹ç›®å«åšlibnetwork, libnetworkä¸­çš„ç½‘ç»œæ¨¡å‹ï¼ˆContainer Networking Model, CNMï¼‰ååˆ†ç®€æ´ï¼Œå¯ä»¥è®©ä¸Šå±‚çš„å¤§é‡åº”ç”¨å®¹æ˜“æœ€å¤§ç¨‹åº¦ä¸Šä¸å»å…³å¿ƒåº•å±‚å®ç°ã€‚\ndockerçš„å¸¸ç”¨çš„ç½‘ç»œæ¨¡å¼ ###bridgeæ¨¡å¼ ç®€å•æ¥è¯´ï¼šå°±æ˜¯ç©¿é©¬ç”²ï¼Œæ‰“ç€å®¿ä¸»æœºçš„æ——å·ï¼Œåšè‡ªå·±çš„äº‹æƒ…ã€‚Dockerçš„é»˜è®¤æ¨¡å¼ï¼Œå®ƒä¼šåœ¨dockerå®¹å™¨å¯åŠ¨æ—¶å€™ï¼Œè‡ªåŠ¨é…ç½®å¥½è‡ªå·±çš„ç½‘ç»œä¿¡æ¯ï¼ŒåŒä¸€å®¿ä¸»æœºçš„æ‰€æœ‰å®¹å™¨éƒ½åœ¨ä¸€ä¸ªç½‘ç»œä¸‹ï¼Œå½¼æ­¤é—´å¯ä»¥é€šä¿¡ã€‚ç±»ä¼¼äºæˆ‘ä»¬vmwareè™šæ‹Ÿæœºçš„æ¡¥æ¥æ¨¡å¼ã€‚åˆ©ç”¨å®¿ä¸»æœºçš„ç½‘å¡è¿›è¡Œé€šä¿¡ï¼Œå› ä¸ºæ¶‰åŠåˆ°ç½‘ç»œè½¬æ¢ï¼Œæ‰€ä»¥ä¼šé€ æˆèµ„æºæ¶ˆè€—ï¼Œç½‘ç»œæ•ˆç‡ä¼šä½ã€‚\nç«¯å£æ˜ å°„\nå®¿ä¸»æœº å…¬ç½‘ip:198.x.x.x ---\u0026gt; å®¹å™¨ip: 172.17.0.x docker network create --driver [ç½‘ç»œç±»å‹][ç½‘ç»œåç§°] #å‚æ•° create åˆ›å»ºä¸€ä¸ªç½‘ç»œ --driver æŒ‡å®šç½‘ç»œç±»å‹ #å‘½ä»¤æ¼”ç¤º docker network create --driver bridge bridge-test hostæ¨¡å¼ï¼šç®€å•æ¥è¯´ï¼Œå°±æ˜¯é¸ å é¹Šå·¢ï¼Œç”¨ç€å®¿ä¸»æœºçš„ä¸œè¥¿ï¼Œå¹²è‡ªå·±çš„äº‹æƒ…ã€‚å®¹å™¨ä½¿ç”¨å®¿ä¸»æœºçš„ipåœ°å€è¿›è¡Œé€šä¿¡ã€‚ç‰¹ç‚¹ï¼šå®¹å™¨å’Œå®¿ä¸»æœºå…±äº«ç½‘ç»œ\nå®¹å™¨ä½¿ç”¨å®¿ä¸»æœºçš„ipåœ°å€è¿›è¡Œå¯¹å¤–æä¾›æœåŠ¡ï¼Œæœ¬èº«æ²¡æœ‰ipåœ°å€ã€‚\ncontaineræ¨¡å¼ï¼šæ–°åˆ›å»ºçš„å®¹å™¨é—´ä½¿ç”¨ï¼Œä½¿ç”¨å·²åˆ›å»ºçš„å®¹å™¨ç½‘ç»œï¼Œç±»ä¼¼ä¸€ä¸ªå±€åŸŸç½‘ã€‚ç‰¹ç‚¹ï¼šå®¹å™¨å’Œå®¹å™¨å…±äº«ç½‘ç»œ\nnoneæ¨¡å¼ï¼šè¿™ç§æ¨¡å¼æœ€çº¯ç²¹ï¼Œä¸ä¼šå¸®ä½ åšä»»ä½•ç½‘ç»œé…ç½®ï¼Œå¯ä»¥æœ€å¤§é™åº¦çš„å®šåˆ¶åŒ–ã€‚ä¸æä¾›ç½‘ç»œæœåŠ¡ï¼Œå®¹å™¨å¯åŠ¨åæ— ç½‘ç»œé“¾æ¥ã€‚\noverlayæ¨¡å¼ï¼šå®¹å™¨å½¼æ­¤ä¸åœ¨åŒä¸€ä¸ªç½‘ç»œï¼Œè€Œä¸”èƒ½äº’ç›¸é€šä¿¡ã€‚\nè‡ªå®šä¹‰ç½‘æ®µä¸ç½‘å…³ #è‡ªå®šä¹‰ç½‘æ®µä¸ç½‘å…³ #æŸ¥çœ‹å…³ç¾½ç½‘æ®µå’Œç½‘å…³çš„ç›¸å…³å‘½ä»¤ docker network create --help --gateway strings IPv4 or IPv6 Gateway for the master subnet ä¸»å­ç½‘çš„IPv4æˆ–IPv6ç½‘å…³ --subnet strings\tSubnet in CIDR format that represents a network segment è¡¨ç¤ºç½‘ç»œæ®µçš„CIDRæ ¼å¼çš„å­ç½‘ #æŸ¥çœ‹åˆšåˆšåˆ›å»ºçš„ç½‘ç»œä¿¡æ¯ docker network inspect bridge-test docker network create --driver bridge --gateway 172.99.0.1 --subnet 172.99.0.0/16 bridge-test","date":"2019-07-19T14:37:55Z","permalink":"https://blog.iostao.com/2019/07/docker-net-shell/","title":"dockerç½‘ç»œå‘½ä»¤ä¸åŸºæœ¬æŸ¥çœ‹å‘½ä»¤"},{"content":"è½¬è½½è‡ªCa0Gu0\nLinux ç™»é™†æœåŠ¡å™¨æ•²å‘½ä»¤å¤ªå¤š,æŸæ—¶å€™ç¡®å®ä¸ä¾¿ï¼Œä½†æ˜¯å¦‚æœä½¿ç”¨è„šæœ¬å°±ä¼šç®€ä¾¿å¾ˆå¤š\nè„šæœ¬ä¸‹è½½ so.zip\nä¸€ã€è¯´æ˜ æ”¯æŒå¯†ç å’Œå¯†é’¥ä¸¤ç§æ ¼å¼ ç”¨æˆ·åå’Œå¯†ç éƒ½æ˜¯å†™æ–‡ä»¶çš„ äºŒã€é…ç½® å¯†ç æ–‡ä»¶é…ç½®:\nåºå·:IP:ç«¯å£:ç”¨æˆ·:å¯†ç :è¯´æ˜ 1:192.168.88.128:22:root:toor:è™šæ‹ŸæœºwebæœåŠ¡å™¨\nå¯†é’¥æ–‡ä»¶æ”¾åœ¨keysæ–‡ä»¶å¤¹ä¸‹,å¯†ç ä½ç½®å†™æˆå¯†é’¥æ–‡ä»¶å,æ–‡ä»¶åå¿…é¡»ä»¥.pemç»“å°¾\nå¦‚ä¸‹æ‰€ç¤ºï¼š\n1:104.194.71.144:26999:root:WaFHwZm1AM3L5:æ¬ç“¦å·¥ 2:47.94.208.55:8080:root:aliyun.pem:é˜¿é‡Œäº‘ 3:104.194.71.144:3306:ca0gu0:toor:è™šæ‹Ÿæœºmysqlæ•°æ®åº“æœåŠ¡å™¨ 4:103:192.168.88.4:22:root:sellercube:æœ¬åœ°å¼€å‘æœåŠ¡å™¨ ","date":"2019-04-05T11:55:55Z","permalink":"https://blog.iostao.com/2019/04/linux-shell-ssh/","title":"Linux Shell sshç™»å½•è„šæœ¬"},{"content":"CentOS æœåŠ¡å™¨ + Docker 1ã€å¯ä»¥é€šè¿‡é˜¿é‡Œäº‘ã€è…¾è®¯äº‘è´­ä¹°ä¸€ä¸ªæœåŠ¡å™¨\n2ã€è‡ªå·±æ­å»ºä¸€ä¸ªæœ¬åœ°æœåŠ¡å™¨\nï¼ˆæˆ‘ä»¬è¿™é‡Œä»¥äº‘æœåŠ¡å™¨ä¸ºä¾‹ï¼‰\nä¸€ã€ç™»å½•æœåŠ¡å™¨ ssh root@æœåŠ¡å™¨ip -p 22 å› ä¸ºæ¯æ¬¡ç™»å½•éƒ½éœ€è¦è¾“å…¥ä¸€è¡Œå¸¦æœ‰ipçš„å‘½ä»¤ï¼Œæ¯”è¾ƒéº»çƒ¦ã€‚æ‰€ä»¥è¿™é‡Œæˆ‘ç”¨çš„è„šæœ¬ç™»å½•ï¼Œæ¯æ¬¡ç™»å½•çš„æ—¶å€™å¾ˆæ–¹ä¾¿ï¼Œä¹Ÿæ–¹ä¾¿ç®¡ç†å¤šä¸ªæœåŠ¡å™¨ã€‚\nLinux Shell sshç™»å½•è„šæœ¬ äºŒã€Cent OSæ“ä½œ è¿™é‡Œå…ˆè®°å½•ä¸€æ¡å‘½ä»¤ \u0026ndash; å¼€å¯ï¼Œé‡å¯ï¼Œåœæ­¢å‘½ä»¤ (è¿™é‡Œä»¥ftpæœåŠ¡å‘½ä»¤ä¸ºä¾‹ï¼‰\nsudo systemctl start vsftpd sudo systemctl restart vsftpd sudo systemctl stop vsftpd æŠŠyumåŒ…æ›´æ–°åˆ°æœ€æ–°\n$sudo yum update å®‰è£…å„ç§æœåŠ¡ æœ¬äººè¿™é‡Œä½¿ç”¨çš„æ˜¯dockerå®¹å™¨æœåŠ¡ï¼Œmysqlï¼Œredisï¼ŒvsftpdæœåŠ¡ï¼Œä»¥åŠé¡¹ç›®éƒ¨ç½²éƒ½æ˜¯ä½¿ç”¨çš„dockerã€‚æ‰€ä»¥è¿™é‡Œå…ˆå®‰è£… docker\ndockeræœ€ä½æ”¯æŒçš„å†…æ ¸å¥½åƒæ˜¯3.0\næŸ¥çœ‹ç‰ˆæœ¬ä»¥åŠå†…æ ¸\n$ uname -a # ä¸‹é¢æ˜¯è¾“å…¥å‘½ä»¤åï¼Œè¿”å›çš„ä¿¡æ¯ Linux VM_0_7_centos 3.10.0-1062.9.1.el7.x86_64 #1 SMP Fri Dec 6 15:49:49 UTC 2019 x86_64 x86_64 x86_64 GNU/Linux å®‰è£…Dockerå®¹å™¨æœåŠ¡ å®‰è£…éœ€è¦çš„è½¯ä»¶åŒ…ï¼Œ yum-util æä¾›yum-config-manageråŠŸèƒ½ï¼Œå¦å¤–ä¸¤ä¸ªæ˜¯devicemapperé©±åŠ¨ä¾èµ–çš„\nyum install -y yum-utils device-mapper-persistent-data lvm2 å®‰è£… docker\nyum install docker -y å¯åŠ¨Docker\nå¯åŠ¨Docker,è®¾ç½®å¼€æœºå¯åŠ¨, sudo systemctl start docker sudo systemctl enable docker #åœæ­¢Docker sudo systemctl stop docker éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸ\nsudo docker info é…ç½® docker åŠ é€Ÿå™¨\ncurl -sSL https://get.daocloud.io/daotools/set_mirror.sh | sh -s http://f1361db2.m.daocloud.io Docker å¸¸ç”¨å‘½ä»¤ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 #æŸ¥æ‰¾Docker Hubä¸Šçš„é•œåƒ $ docker search imageName/ID #è·å–Docker Hubä¸Šçš„é•œåƒ $ docker pull ImageName/ID #æ˜¾ç¤ºæœ¬åœ°ä¸»æœºä¸Šçš„é•œåƒåˆ—è¡¨ $ docker images #è¿è¡Œæœ¬åœ°ä¸»æœºä¸Šçš„é•œåƒ $ docker run ImageName/ID #åˆ—å‡ºæ­£åœ¨è¿è¡Œçš„å®¹å™¨ $ docker ps #æŸ¥çœ‹æ­£åœ¨è¿è¡Œå®¹å™¨çš„ç½‘ç»œç«¯å£æ˜ å°„æƒ…å†µ $ docker port ContainerID #æŸ¥çœ‹æ­£åœ¨è¿è¡Œå®¹å™¨çš„å†…éƒ¨æ­£åœ¨è¿›ç¨‹è¿è¡Œ $ docker top ContainerID #æŸ¥çœ‹æ­£åœ¨è¿è¡Œå®¹å™¨çš„å†…éƒ¨åº•å±‚ä¿¡æ¯ $ docker inspect ContainerID #åœæ­¢æ­£åœ¨è¿è¡Œå®¹å™¨ $ docker stop ContainerID/ #é‡å¯å·²ç»åœæ­¢çš„å®¹å™¨ $ docker start ContainerID #åˆ é™¤ä¸éœ€è¦çš„å®¹å™¨ï¼ˆå¿…é¡»åœ¨å®¹å™¨å·²ç»åœæ­¢çš„æƒ…å†µä¸‹ï¼‰ $ docker rm ContainerimageID #ç§»é™¤æœ¬åœ°é•œåƒï¼Œç§»é™¤å‰éœ€è¦æŠŠè¯¥é•œåƒä¸‹æ‰€æœ‰çš„å®¹å™¨åˆ é™¤ $ docker rmi ImageName/ID #ç™»å½•docker $ docker login #è¿è¡Œubuntu:16.04é•œåƒå¹¶åˆ›å»ºå®¹å™¨å’Œå¯åŠ¨bashç»ˆç«¯ $ docker run -t -i ubuntu:16.04 /bin/bash #é‡å‘½åå®¹å™¨å $ docker rename wonderful_kepler Ubuntu16.04 #æ„å»ºé•œåƒ $ docker commit -m=\u0026#34;has update\u0026#34; -a=\u0026#34;SpiffyEight77\u0026#34; ff5d623e2d61 spiffyeight77/ubuntu:16.04 #æäº¤é•œåƒåˆ°docker hub éœ€è¦ç™»å½• $ docker push spiffyeight77/ubuntu éƒ¨åˆ†å‚æ•°è¯´æ˜\n1 2 3 4 5 6 7 8 9 10 11 12 -d: å®ˆæŠ¤æ¨¡å¼ åå°è¿è¡Œ -p: æ˜¯å®¹å™¨å†…éƒ¨ç«¯å£ç»‘å®šåˆ°æŒ‡å®šçš„ä¸»æœºç«¯å£ -P: æ˜¯å®¹å™¨å†…éƒ¨ç«¯å£éšæœºæ˜ å°„åˆ°ä¸»æœºçš„é«˜ç«¯å£ -f : è®© docker logs åƒä½¿ç”¨ tail -f ä¸€æ ·æ¥è¾“å‡ºå®¹å™¨å†…éƒ¨çš„æ ‡å‡†è¾“å‡º -l : æŸ¥è¯¢æœ€åä¸€æ¬¡åˆ›å»ºçš„å®¹å™¨ -t : é€‰é¡¹è®©Dockeråˆ†é…ä¸€ä¸ªä¼ªç»ˆç«¯ï¼ˆpseudo-ttyï¼‰å¹¶ç»‘å®šåˆ°å®¹å™¨çš„æ ‡å‡†è¾“å…¥ä¸Š -i : åˆ™è®©å®¹å™¨çš„æ ‡å‡†è¾“å…¥ä¿æŒæ‰“å¼€ -m:æäº¤çš„æè¿°ä¿¡æ¯ -a: æŒ‡å®šé•œåƒä½œè€… --rm: åœæ­¢å®¹å™¨åç§»é™¤å®¹å™¨ ff5d623e2d61: å®¹å™¨ID spiffyeight77/ubuntu:16.04: æŒ‡å®šè¦åˆ›å»ºçš„ç›®æ ‡é•œåƒå ç¼–å†™ Dockerfile\n1 2 3 4 5 6 7 8 9 10 11 ä¸ä¼šå†™Dockerfileçš„è¯è¯·è‡ªè¡ŒGoogle FROM alpine:latest #ä½¿ç”¨äº†é•œåƒå¤§å°ä½“ç§¯åªæœ‰5MBçš„alpineé•œåƒ WORKDIR / #è®¾ç½®å·¥ä½œè·¯å¾„ ADD main / #æŠŠä¸Šæ–‡ç¼–è¯‘å¥½çš„mainæ–‡ä»¶æ·»åŠ åˆ°é•œåƒé‡Œ EXPOSE 3000 #æš´éœ²å®¹å™¨å†…éƒ¨ç«¯å£ ENTRYPOINT [\u0026#34;./main\u0026#34;] #å…¥å£ ","date":"2019-02-20T12:22:27Z","permalink":"https://blog.iostao.com/2019/02/linux-start-01/","title":"CentOS ç¬¬ä¸€æ­¥"},{"content":"è½¬è½½è‡ªç®€ä¹¦\n1ã€AUAudioSession æ¦‚è¿° è‹¹æœå®˜æ–¹å›¾ å¯ä»¥çœ‹åˆ°AVAudioSessionå°±æ˜¯ç”¨æ¥ç®¡ç†å¤šä¸ªAPPå¯¹éŸ³é¢‘ç¡¬ä»¶è®¾å¤‡ï¼ˆéº¦å…‹é£ï¼Œæ‰¬å£°å™¨ï¼‰çš„èµ„æºä½¿ç”¨ã€‚\nä¸¾ä¾‹ä¸€ä¸‹AVAudioSessionå¯ä»¥åšè¿™äº›äº‹æƒ…\nè®¾ç½®è‡ªå·±çš„APPæ˜¯å¦å’Œå…¶ä»–APPéŸ³é¢‘åŒæ—¶å­˜åœ¨ï¼Œè¿˜æ˜¯ä¸­æ–­å…¶ä»–APPå£°éŸ³ åœ¨æ‰‹æœºè°ƒåˆ°é™éŸ³æ¨¡å¼ä¸‹ï¼Œè‡ªå·±çš„APPéŸ³é¢‘æ˜¯å¦å¯ä»¥æ’­æ”¾å‡ºå£°éŸ³ ç”µè¯æˆ–è€…å…¶ä»–APPç»ˆç«¯è‡ªå·±APPçš„éŸ³é¢‘çš„äº‹ä»¶å¤„ç† æŒ‡å®šéŸ³é¢‘è¾“å…¥å’Œè¾“å‡ºçš„è®¾å¤‡ï¼ˆæ¯”å¦‚æ˜¯å¬ç­’è¾“å‡ºå£°éŸ³ï¼Œè¿˜æ˜¯æ‰¬å£°å™¨è¾“å‡ºå£°éŸ³ï¼‰ æ˜¯å¦æ”¯æŒå½•éŸ³ï¼Œå½•éŸ³åŒæ—¶æ˜¯å¦æ”¯æŒéŸ³é¢‘æ’­æ”¾ 2ã€AVAudioSession Category AVAudioSessionçš„æ¥å£æ¯”è¾ƒç®€å•ã€‚APPå¯åŠ¨çš„æ—¶å€™ä¼šè‡ªåŠ¨å¸®æ¿€æ´»AVAudioSessionï¼Œå½“ç„¶æˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨æ¿€æ´»ï¼Œä»£ç å¦‚ä¸‹ï¼š\n//å¯¼å…¥å¤´æ–‡ä»¶ #import \u0026lt;AVFoundation/AVFoundation.h\u0026gt; //AVAudioSessionæ˜¯ä¸€ä¸ªå•ä¾‹ç±» AVAudioSession *session = [AVAudioSession sharedInstance]; //AVAudioSessionCategorySoloAmbientæ˜¯ç³»ç»Ÿé»˜è®¤çš„category [session setCategory:AVAudioSessionCategorySoloAmbient error:nil]; //æ¿€æ´»AVAudioSession [session setActive:YES error:nil]; å¯ä»¥çœ‹åˆ°è®¾ç½®sessionè¿™é‡Œæœ‰ä¸¤ä¸ªå‚æ•°ï¼Œcategoryå’Œoptions\nCatogory iOSä¸‹ç›®å‰æœ‰ä¸ƒç§ï¼Œæ¯ç§Categoryéƒ½å¯¹åº”æ˜¯å¦æ”¯æŒä¸‹é¢å››ç§èƒ½åŠ›\nInterrupts non-mixable apps audio: æ˜¯å¦æ‰“æ–­ä¸æ”¯æŒæ··éŸ³æ’­æ”¾çš„APP Silenced by the Silent switch: æ˜¯å¦ä¼šå“åº”æ‰‹æœºé™éŸ³é”®å¼€å…³ Supports audio input: æ˜¯å¦æ”¯æŒéŸ³é¢‘å½•å…¥ Supports audio output: æ˜¯å¦æ”¯æŒéŸ³é¢‘æ’­æ”¾ ä¸‹é¢ç”¨å›¾è¡¨æ¥ç›´è§‚çš„çœ‹ä¸‹æ¯ç§categoryå…·ä½“çš„èƒ½åŠ›é›†\nCategory æ˜¯å¦å…è®¸éŸ³é¢‘æ’­æ”¾/å½•éŸ³ æ˜¯å¦æ‰“æ–­å…¶ä»–ä¸æ”¯æŒæ··éŸ³APP æ˜¯å¦ä¼šè¢«é™éŸ³é”®æˆ–é”å±é”®é™éŸ³ AVAudioSessionCategoryAmbient åªæ”¯æŒæ’­æ”¾ å¦ æ˜¯ AVAudioSessionCategoryAudioProcessing ä¸æ”¯æŒæ’­æ”¾ï¼Œä¸æ”¯æŒå½•åˆ¶ æ˜¯ å¦ AVAudioSessionCategoryMultiRoute æ”¯æŒæ’­æ”¾ï¼Œæ”¯æŒå½•åˆ¶ æ˜¯ å¦ AVAudioSessionCategoryPlayAndRecord æ”¯æŒæ’­æ”¾ï¼Œæ”¯æŒå½•åˆ¶ é»˜è®¤YESï¼Œå¯ä»¥é‡å†™ä¸ºNO å¦ AVAudioSessionCategoryPlayback åªæ”¯æŒæ’­æ”¾ é»˜è®¤YES,å¯ä»¥é‡å†™ä¸ºNO å¦ AVAudioSessionCategoryRecord åªæ”¯æŒå½•åˆ¶ æ˜¯ å¦ï¼ˆé”å±ä¸‹ä»å¯å½•åˆ¶ï¼‰ AVAudioSessionCategorySoloAmbient åªæ”¯æŒæ’­æ”¾ æ˜¯ æ˜¯ AVAudioSessionCategoryAmbientï¼Œåªæ”¯æŒéŸ³é¢‘æ’­æ”¾ã€‚è¿™ä¸ª Categoryï¼ŒéŸ³é¢‘ä¼šè¢«é™éŸ³é”®å’Œé”å±é”®é™éŸ³ã€‚å¹¶ä¸”ä¸ä¼šæ‰“æ–­å…¶ä»–åº”ç”¨çš„éŸ³é¢‘æ’­æ”¾ã€‚\nAVAudioSessionCategorySoloAmbientï¼Œè¿™ä¸ªæ˜¯ç³»ç»Ÿé»˜è®¤ä½¿ç”¨çš„ Categoryï¼Œåªæ”¯æŒéŸ³é¢‘æ’­æ”¾ã€‚éŸ³é¢‘ä¼šè¢«é™éŸ³é”®å’Œé”å±é”®é™éŸ³ã€‚å’ŒAVAudioSessionCategoryAmbientä¸åŒçš„æ˜¯ï¼Œè¿™ä¸ªä¼šæ‰“æ–­å…¶ä»–åº”ç”¨çš„éŸ³é¢‘æ’­æ”¾\nAVAudioSessionCategoryPlaybackï¼Œåªæ”¯æŒéŸ³é¢‘æ’­æ”¾ã€‚ä½ çš„éŸ³é¢‘ä¸ä¼šè¢«é™éŸ³é”®å’Œé”å±é”®é™éŸ³ã€‚é€‚ç”¨äºéŸ³é¢‘æ˜¯ä¸»è¦åŠŸèƒ½çš„APPï¼Œåƒç½‘æ˜“äº‘è¿™äº›éŸ³ä¹appï¼Œé”å±åä¾ç„¶å¯ä»¥æ’­æ”¾ã€‚\néœ€è¦æ³¨æ„ä¸€ä¸‹ï¼Œé€‰æ‹©æ”¯æŒåœ¨é™éŸ³é”®åˆ‡åˆ°é™éŸ³çŠ¶æ€ä»¥åŠé”å±é”®åˆ‡åˆ°é”å±çŠ¶æ€ä¸‹ä»ç„¶å¯ä»¥æ’­æ”¾éŸ³é¢‘ Category æ—¶ï¼Œå¿…é¡»åœ¨åº”ç”¨ä¸­å¼€å¯æ”¯æŒåå°éŸ³é¢‘åŠŸèƒ½ï¼Œè¯¦è§ UIBackgroundModesã€‚\nAVAudioSessionCategoryRecordï¼Œåªæ”¯æŒéŸ³é¢‘å½•åˆ¶ã€‚ä¸æ”¯æŒæ’­æ”¾ã€‚\nAVAudioSessionCategoryPlayAndRecordï¼Œæ”¯æŒéŸ³é¢‘æ’­æ”¾å’Œå½•åˆ¶ã€‚éŸ³é¢‘çš„è¾“å…¥å’Œè¾“å‡ºä¸éœ€è¦åŒæ­¥è¿›è¡Œï¼Œä¹Ÿå¯ä»¥åŒæ­¥è¿›è¡Œã€‚éœ€è¦éŸ³é¢‘é€šè¯ç±»åº”ç”¨ï¼Œå¯ä»¥ä½¿ç”¨è¿™ä¸ª Categoryã€‚\nAVAudioSessionCategoryAudioProcessingï¼Œåªæ”¯æŒæœ¬åœ°éŸ³é¢‘ç¼–è§£ç å¤„ç†ã€‚ä¸æ”¯æŒæ’­æ”¾å’Œå½•åˆ¶ã€‚\nAVAudioSessionCategoryMultiRouteï¼Œæ”¯æŒéŸ³é¢‘æ’­æ”¾å’Œå½•åˆ¶ã€‚å…è®¸å¤šæ¡éŸ³é¢‘æµçš„åŒæ­¥è¾“å…¥å’Œè¾“å‡ºã€‚ï¼ˆæ¯”å¦‚USBè¿æ¥å¤–éƒ¨æ‰¬å£°å™¨è¾“å‡ºéŸ³é¢‘ï¼Œè“ç‰™è€³æœºåŒæ—¶æ’­æ”¾å¦ä¸€è·¯éŸ³é¢‘è¿™ç§ç‰¹æ®Šéœ€æ±‚ï¼‰\næˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡AVAudioSessionçš„å±æ€§æ¥è¯»å–å½“å‰è®¾å¤‡æ”¯æŒçš„Category ``` @property(readonly) NSArray\u0026lt;NSString *\u0026gt; *availableCategories;\n``` è¿™æ ·å¯ä»¥ä¿è¯è®¾å¤‡å…¼å®¹æ€§\nè®¾ç½®Categoryçš„ä»£ç å®ä¾‹å¦‚ä¸‹ï¼š\n``` NSError *setCategoryError = nil; BOOL success = [[AVAudioSession sharedInstance] setCategory:AVAudioSessionCategoryAmbient error:\u0026amp;setCategoryError]; if (!success) { //è¿™é‡Œå¯ä»¥è¯»å–setCategoryError.localizedDescriptionæŸ¥çœ‹é”™è¯¯åŸå›  } ``` 3ã€AVAudioSession Mode\u0026amp;\u0026amp;Options åˆšåˆšä»‹ç»çš„Categoryå®šä¹‰äº†ä¸ƒç§ä¸»åœºæ™¯ï¼Œå®é™…å¼€å‘éœ€æ±‚ä¸­æœ‰æ—¶å€™éœ€è¦å¯¹Categoryè¿›è¡Œå¾®è°ƒæ•´ï¼Œæˆ‘ä»¬å‘ç°è¿™ä¸ªæ¥å£è¿˜æœ‰ä¸¤ä¸ªå‚æ•°Modeå’ŒOptionsã€‚\n``` /* set session category and mode with options */ - (BOOL)setCategory:(NSString *)category mode:(NSString *)mode options:(AVAudioSessionCategoryOptions)options error:(NSError **)outError API_AVAILABLE(ios(10.0), watchos(3.0), tvos(10.0)); ``` AVAudioSession Mode æˆ‘ä»¬é€šè¿‡è¯»å–ä¸‹é¢è¿™æ¡å±æ€§è·å–å½“å‰è®¾å¤‡æ”¯æŒçš„Mode\n1 @property(readonly) NSArray\u0026lt;NSString *\u0026gt; *availableModes; iOSä¸‹æœ‰å…¶ä¸­mode æ¥å®šåˆ¶æˆ‘ä»¬çš„Categoryè¡Œä¸ºï¼š\næ¨¡å¼ å…¼å®¹çš„Category åœºæ™¯ AVAudioSessionModeDefault All é»˜è®¤æ¨¡å¼ AVAudioSessionModeVoiceChat AVAudioSessionCategoryPlayAndRecord VoIP AVAudioSessionModeGameChat AVAudioSessionCategoryPlayAndRecord æ¸¸æˆå½•åˆ¶ï¼ŒGKVoiceChatè‡ªåŠ¨è®¾ç½® AVAudioSessionModeVideoRecording AVAudioSessionCategoryPlayAndRecord AVAudioSessionCategoryRecord å½•åˆ¶è§†é¢‘ AVAudioSessionModeMoviePlayback AVAudioSessionCategoryPlayback è§†é¢‘æ’­æ”¾ AVAudioSessionModeMeasurement AVAudioSessionCategoryPlayAndRecord AVAudioSessionCategoryRecord AVAudioSessionCategoryPlayback æœ€å°ç³»ç»Ÿ AVAudioSessionModeVideoChat AVAudioSessionCategoryPlayAndRecord è§†é¢‘é€šè¯ ä¸‹é¢é€ä¸€ä»‹ç»ä¸‹æ¯ä¸ªMode\nAVAudioSessionModeDefaultï¼Œé»˜è®¤æ¨¡å¼,ä¸æ‰€æœ‰çš„ Category å…¼å®¹\nAVAudioSessionModeVoiceChatï¼Œé€‚ç”¨äºVoIP ç±»å‹çš„åº”ç”¨ã€‚åªèƒ½æ˜¯ AVAudioSessionCategoryPlayAndRecord Categoryä¸‹ã€‚åœ¨è¿™ä¸ªæ¨¡å¼ç³»ç»Ÿä¼šè‡ªåŠ¨é…ç½®AVAudioSessionCategoryOptionAllowBluetooth è¿™ä¸ªé€‰é¡¹ã€‚ç³»ç»Ÿä¼šè‡ªåŠ¨é€‰æ‹©æœ€ä½³çš„å†…ç½®éº¦å…‹é£ç»„åˆæ”¯æŒè¯­éŸ³èŠå¤©ã€‚\nAVAudioSessionModeVideoChatï¼Œç”¨äºè§†é¢‘èŠå¤©ç±»å‹åº”ç”¨ï¼Œåªèƒ½æ˜¯ AVAudioSessionCategoryPlayAndRecord Categoryä¸‹ã€‚é€‚åœ¨è¿™ä¸ªæ¨¡å¼ç³»ç»Ÿä¼šè‡ªåŠ¨é…ç½® AVAudioSessionCategoryOptionAllowBluetooth å’Œ AVAudioSessionCategoryOptionDefaultToSpeaker é€‰é¡¹ã€‚ç³»ç»Ÿä¼šè‡ªåŠ¨é€‰æ‹©æœ€ä½³çš„å†…ç½®éº¦å…‹é£ç»„åˆæ”¯æŒè§†é¢‘èŠå¤©ã€‚\nAVAudioSessionModeGameChatï¼Œé€‚ç”¨äºæ¸¸æˆç±»åº”ç”¨ã€‚ä½¿ç”¨ GKVoiceChat å¯¹è±¡çš„åº”ç”¨ä¼šè‡ªåŠ¨è®¾ç½®è¿™ä¸ªæ¨¡å¼å’Œ AVAudioSessionCategoryPlayAndRecord Categoryã€‚å®é™…å‚æ•°å’ŒAVAudioSessionModeVideoChatä¸€è‡´\nAVAudioSessionModeVideoRecordingï¼Œé€‚ç”¨äºä½¿ç”¨æ‘„åƒå¤´é‡‡é›†è§†é¢‘çš„åº”ç”¨ã€‚åªèƒ½æ˜¯ AVAudioSessionCategoryPlayAndRecord å’Œ AVAudioSessionCategoryRecord è¿™ä¸¤ä¸ª Categoryä¸‹ã€‚è¿™ä¸ªæ¨¡å¼æ­é… AVCaptureSession API ç»“åˆæ¥ç”¨å¯ä»¥æ›´å¥½åœ°æ§åˆ¶éŸ³è§†é¢‘çš„è¾“å…¥è¾“å‡ºè·¯å¾„ã€‚(ä¾‹å¦‚ï¼Œè®¾ç½® automaticallyConfiguresApplicationAudioSession å±æ€§ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨é€‰æ‹©æœ€ä½³è¾“å‡ºè·¯å¾„ã€‚\nAVAudioSessionModeMeasurementï¼Œæœ€å°åŒ–ç³»ç»Ÿã€‚åªç”¨äº AVAudioSessionCategoryPlayAndRecordã€AVAudioSessionCategoryRecordã€AVAudioSessionCategoryPlayback è¿™å‡ ç§ Categoryã€‚\nAVAudioSessionModeMoviePlaybackï¼Œé€‚ç”¨äºæ’­æ”¾è§†é¢‘çš„åº”ç”¨ã€‚åªç”¨äº AVAudioSessionCategoryPlayback è¿™ä¸ªCategoryã€‚\nAVAudioSession Options æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨optionså»å¾®è°ƒCategoryè¡Œä¸ºï¼Œå¦‚ä¸‹è¡¨\nOption OptionåŠŸèƒ½è¯´æ˜ å…¼å®¹çš„ Category AVAudioSessionCategoryOptionMixWithOthers æ”¯æŒå’Œå…¶ä»–APPéŸ³é¢‘ mix AVAudioSessionCategoryPlayAndRecord AVAudioSessionCategoryPlayback AVAudioSessionCategoryMultiRoute AVAudioSessionCategoryOptionDuckOthers ç³»ç»Ÿæ™ºèƒ½è°ƒä½å…¶ä»–APPéŸ³é¢‘éŸ³é‡ AVAudioSessionCategoryPlayAndRecord AVAudioSessionCategoryPlayback AVAudioSessionCategoryMultiRoute AVAudioSessionCategoryOptionAllowBluetooth æ”¯æŒè“ç‰™éŸ³é¢‘è¾“å…¥ AVAudioSessionCategoryRecord AVAudioSessionCategoryPlayAndRecord AVAudioSessionCategoryOptionDefaultToSpeaker è®¾ç½®é»˜è®¤è¾“å‡ºéŸ³é¢‘åˆ°æ‰¬å£°å™¨ AVAudioSessionCategoryPlayAndRecord è°ƒä¼˜æˆ‘ä»¬çš„Category é€šè¿‡Categoryå’Œåˆé€‚çš„Modeå’ŒOptionsçš„æ­é…æˆ‘ä»¬å¯ä»¥è°ƒä¼˜å‡ºæˆ‘ä»¬çš„æ•ˆæœï¼Œä¸‹é¢ä¸¾ä¸¤ä¸ªåº”ç”¨åœºæ™¯:\nç”¨è¿‡é«˜å¾·åœ°å›¾çš„éƒ½çŸ¥é“ï¼Œåœ¨åå°æ’­æ”¾QQéŸ³ä¹çš„æ—¶å€™ï¼Œå¦‚æœå¯¼èˆªè¯­éŸ³å‡ºæ¥ï¼ŒQQéŸ³ä¹ä¸ä¼šåœæ­¢ï¼Œè€Œæ˜¯è¢«æ™ºèƒ½å‹ä½å’Œæ··éŸ³ï¼Œç­‰å¯¼èˆªè¯­éŸ³æ’­æŠ¥å®Œåï¼ŒQQéŸ³ä¹æ­£å¸¸æ’­æ”¾ï¼Œè¿™é‡Œæˆ‘ä»¬éœ€è¦åå°æ’­æ”¾éŸ³ä¹ï¼Œæ‰€ä»¥Categoryä½¿ç”¨AVAudioSessionCategoryPlaybackï¼Œéœ€è¦æ··éŸ³å’Œæ™ºèƒ½å‹ä½å…¶ä»–APPéŸ³é‡ï¼Œæ‰€ä»¥Optionsé€‰ç”¨ AVAudioSessionCategoryOptionMixWithOtherså’ŒAVAudioSessionCategoryOptionDuckOthers\nä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š\n1 2 3 4 5 BOOL isSuccess = [[AVAudioSession sharedInstance] setCategory: AVAudioSessionCategoryPlayback withOptions: AVAudioSessionCategoryOptionMixWithOthers | AVAudioSessionCategoryOptionDuckOthers error:\u0026amp;setCategoryError]; åˆæˆ–è€…æˆ‘å¸Œæœ›AVAudioSessionCategoryPlayAndRecordè¿™ä¸ªCategoryé»˜è®¤çš„éŸ³é¢‘ç”±æ‰¬å£°å™¨æ’­æ”¾ï¼Œé‚£ä¹ˆå¯ä»¥è°ƒç”¨è¿™ä¸ªæ¥å£å»è°ƒæ•´Category\n1 2 3 4 - (BOOL)setCategory:(NSString *)category withOptions:(AVAudioSessionCategoryOptions)options error:(NSError **)outError é€šè¿‡é€‰æ‹©åˆé€‚å’ŒCategoryï¼Œmodeå’Œoptionsï¼Œå°±å¯ä»¥è°ƒä¼˜éŸ³é¢‘çš„è¾“å…¥è¾“å‡ºï¼Œæ¥æ»¡è¶³æ—¥å¸¸å¼€å‘éœ€æ±‚ï¼ˆéœ€è¦æ³¨æ„çš„æ˜¯Categoryï¼Œmodeï¼Œoptionæ˜¯æ­é…ä½¿ç”¨çš„ï¼Œè€Œä¸æ˜¯ç®€å•ç»„åˆï¼Œä¹Ÿå°±æ˜¯è¯´æŸç§Categoryæ”¯æŒæŸäº›modeå’Œoptionï¼Œä»ä¸Šé¢çš„è¡¨ä¸­ä¹Ÿå¯ä»¥çœ‹å‡ºè¿™ä¸€ç‚¹ï¼‰\n4. éŸ³é¢‘ä¸­æ–­å¤„ç† å…¶ä»–APPæˆ–è€…ç”µè¯ä¼šä¸­æ–­æˆ‘ä»¬çš„APPéŸ³é¢‘ï¼Œæ‰€ä»¥ç›¸åº”çš„æˆ‘ä»¬è¦åšå‡ºå¤„ç†ã€‚ æˆ‘ä»¬å¯ä»¥é€šè¿‡ç›‘å¬AVAudioSessionInterruptionNotificationè¿™ä¸ªkeyè·å–éŸ³é¢‘ä¸­æ–­äº‹ä»¶\nå›è°ƒå›æ¥Userinfoæœ‰é”®å€¼ï¼š\nAVAudioSessionInterruptionTypeKeyï¼š AVAudioSessionInterruptionTypeBegan: è¡¨ç¤ºä¸­æ–­å¼€å§‹ AVAudioSessionInterruptionTypeEnded: è¡¨ç¤ºä¸­æ–­ç»“æŸ ä¸­æ–­å¼€å§‹ï¼šæˆ‘ä»¬éœ€è¦åšçš„æ˜¯ä¿å­˜å¥½æ’­æ”¾çŠ¶æ€ï¼Œä¸Šä¸‹æ–‡ï¼Œæ›´æ–°ç”¨æˆ·ç•Œé¢ç­‰ ä¸­æ–­ç»“æŸï¼šæˆ‘ä»¬è¦åšçš„æ˜¯æ¢å¤å¥½çŠ¶æ€å’Œä¸Šä¸‹æ–‡ï¼Œæ›´æ–°ç”¨æˆ·ç•Œé¢ï¼Œæ ¹æ®éœ€æ±‚å‡†å¤‡å¥½ä¹‹åé€‰æ‹©æ˜¯å¦æ¿€æ´»æˆ‘ä»¬sessionã€‚\né€‰æ‹©ä¸åŒçš„éŸ³é¢‘æ’­æ”¾æŠ€æœ¯ï¼Œå¤„ç†ä¸­æ–­æ–¹å¼ä¹Ÿæœ‰å·®åˆ«ï¼Œå…·ä½“å¦‚ä¸‹:\nSystem Sound Servicesï¼šä½¿ç”¨ System Sound Services æ’­å‘éŸ³é¢‘ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å¤„ç†ï¼Œä¸å—APPæ§åˆ¶ï¼Œå½“ä¸­æ–­å‘ç”Ÿæ—¶ï¼ŒéŸ³é¢‘æ’­æ”¾ä¼šé™éŸ³ï¼Œå½“ä¸­æ–­ç»“æŸåï¼ŒéŸ³é¢‘æ’­æ”¾ä¼šæ¢å¤ã€‚\nAV Foundation frameworkï¼šAVAudioPlayer ç±»å’Œ AVAudioRecorder ç±»æä¾›äº†ä¸­æ–­å¼€å§‹å’Œç»“æŸçš„ Delegate å›è°ƒæ–¹æ³•æ¥å¤„ç†ä¸­æ–­ã€‚ä¸­æ–­å‘ç”Ÿï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åœæ­¢æ’­æ”¾ï¼Œéœ€è¦åšçš„æ˜¯è®°å½•æ’­æ”¾æ—¶é—´ç­‰çŠ¶æ€ï¼Œæ›´æ–°ç”¨æˆ·ç•Œé¢ï¼Œç­‰ä¸­æ–­ç»“æŸåï¼Œå†æ¬¡è°ƒç”¨æ’­æ”¾æ–¹æ³•ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æ¿€æ´»sessionã€‚\nAudio Queue Services, I/O audio unitï¼šä½¿ç”¨aduio unitè¿™äº›æŠ€æœ¯éœ€è¦å¤„ç†ä¸­æ–­ï¼Œéœ€è¦åšçš„æ˜¯è®°å½•æ’­æ”¾æˆ–è€…å½•åˆ¶çš„ä½ç½®ï¼Œä¸­æ–­ç»“æŸåè‡ªå·±æ¢å¤audio sessionã€‚\nOpenALï¼šä½¿ç”¨ OpenAL æ’­æ”¾æ—¶ï¼ŒåŒæ ·éœ€è¦è‡ªå·±ç›‘å¬ä¸­æ–­ã€‚ç®¡ç† OpenALä¸Šä¸‹æ–‡ï¼Œç”¨æˆ·ä¸­æ–­ç»“æŸåæ¢å¤audio sessionã€‚\néœ€è¦æ³¨æ„çš„æ˜¯ï¼š1. æœ‰ä¸­æ–­å¼€å§‹äº‹ä»¶ï¼Œä¸ä¸€å®šå¯¹åº”æœ‰ä¸­æ–­ç»“æŸäº‹ä»¶ï¼Œæ‰€ä»¥éœ€è¦åœ¨ç”¨æˆ·è¿›å…¥å‰å°ï¼Œç‚¹å‡»UIæ“ä½œçš„æ—¶å€™ï¼Œéœ€è¦ä¿å­˜å¥½æ’­æ”¾çŠ¶æ€å’Œå¯¹Audio Sessionç®¡ç†ï¼Œä»¥ä¾¿ä¸å½±å“APPçš„éŸ³é¢‘åŠŸèƒ½ã€‚2.éŸ³é¢‘èµ„æºç«äº‰ä¸Šï¼Œä¸€å®šæ˜¯ç”µè¯ä¼˜å…ˆã€‚3. AVAudioSessionåŒæ ·å¯ä»¥ç›‘å¬å¤–è®¾éŸ³é¢‘çŠ¶æ€ï¼Œæ¯”å¦‚è€³æœºæ‹”å…¥æ‹”å‡ºã€‚è¿™é‡Œä¸åšç´¯è¿°\n5. AVAudioSessionæ€»ç»“ AVAudioSessionçš„ä½œç”¨å°±æ˜¯ç®¡ç†éŸ³é¢‘è¿™ä¸€å”¯ä¸€ç¡¬ä»¶èµ„æºçš„åˆ†é…ï¼Œé€šè¿‡è°ƒä¼˜åˆé€‚çš„AVAudioSessionæ¥é€‚é…æˆ‘ä»¬çš„APPå¯¹äºéŸ³é¢‘çš„åŠŸèƒ½éœ€æ±‚ã€‚åˆ‡æ¢éŸ³é¢‘åœºæ™¯æ—¶å€™ï¼Œéœ€è¦ç›¸åº”çš„åˆ‡æ¢AVAudioSessionã€‚\n","date":"2018-07-27T11:10:43Z","permalink":"https://blog.iostao.com/2018/07/ios-avaudiosession/","title":"iOS-AVAudio"},{"content":"ã€SpriteKitã€‘ åœ¨iOS7ä¸­å†…ç½®äº†æ–°çš„SpriteKitæ¡†æ¶ï¼Œè¯¥æ¡†æ¶ä¸»è¦ç”¨æ¥å¼€å‘2Dæ¸¸æˆã€‚æ˜¯å¼€å‘iOSå’ŒOS X ä¸‹çš„2Dæ¸¸æˆå¼•æ“ï¼Œå¯ä»¥ä½¿ç”¨OCæˆ–è€…Swiftæ¥è¿›è¡Œå¼€å‘ã€‚ç›®å‰å·²ç»æ”¯æŒçš„å†…å®¹åŒ…æ‹¬ï¼šç²¾çµã€å¾ˆé…·çš„ç‰¹æ•ˆï¼ˆä¾‹å¦‚è§†é¢‘ã€æ»¤é•œå’Œé®ç½©ï¼‰ï¼Œå¹¶ä¸”è¿˜é›†æˆäº†ç‰©ç†åº“ç­‰è®¸å¤šä¸œè¥¿ã€‚é¦–å…ˆæŒ‡å‡ºåœ¨iOSä¸­å¼€å‘2Dæ¸¸æˆSpriteKitå¹¶ä¸æ˜¯å”¯ä¸€çš„é€‰æ‹©ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹SpriteKitçš„ç‰¹ç‚¹å’Œä¼˜ç¼ºç‚¹ï¼š\n1.ç‰¹ç‚¹ï¼š ï¼ˆ1ï¼‰æä¾›äº†æ¸¸æˆå¼•æ“å¿…å¤‡çš„å›¾å½¢æ¸²æŸ“å’ŒåŠ¨ç”»APIï¼Œå¯ä»¥é€šè¿‡è¿™äº›APIè®©ç²¾çµåŠ¨èµ·æ¥ï¼› ï¼ˆ2ï¼‰ä½¿ç”¨ä¼ ç»Ÿçš„æ¸²æŸ“å’ŒåŠ¨ç”»ï¼Œå…è®¸åœ¨æ¸²æŸ“æ¯ä¸€å¸§ä¹‹å‰å¤„ç†è¯¥å¸§ï¼› ï¼ˆ3ï¼‰æä¾›äº†å£°éŸ³æ’­æ”¾ï¼› ï¼ˆ4ï¼‰æä¾›çš„ç‰©ç†å¼•æ“ï¼› ï¼ˆ5ï¼‰ä¸Xcodeé›†æˆï¼Œå¯ä»¥æ›´å®¹æ˜“çš„åˆ›å»ºåŸºäºSprite Kitçš„æ¸¸æˆå·¥ç¨‹ï¼Œè°ƒè¯•ä¹Ÿå¾ˆæ–¹ä¾¿ï¼› ï¼ˆ6ï¼‰å¯ä»¥ä½¿ç”¨Swiftè¯­è¨€ï¼›\n2.ä¼˜ç‚¹ï¼š ï¼ˆ1ï¼‰å®ƒæ˜¯å†…ç½®åˆ°iOSä¸­çš„ï¼Œå› æ­¤å¹¶ä¸éœ€è¦ä¸‹è½½é¢å¤–çš„åº“æˆ–è€…å…¶ä»–çš„å¤–éƒ¨ä¾èµ–ï¼Œå¹¶ä¸”å®ƒæ˜¯ç”±è‹¹æœå¼€å‘çš„ï¼Œæ‰€ä»¥å¯¹ä»–çš„æ”¯æŒå’Œæ›´æ–°æˆ‘ä»¬å¯ä»¥æ”¾å¿ƒï¼› ï¼ˆ2ï¼‰å®ƒå†…ç½®çš„å·¥å…·æ”¯æŒçº¹ç†å’Œç²’å­ï¼› ï¼ˆ3ï¼‰å®ƒå¯ä»¥è®©ä½ åšä¸€äº›å…¶ä»–æ¡†æ¶éš¾ä»¥åšåˆ°çš„äº‹æƒ…ï¼Œä¾‹å¦‚æŠŠè§†é¢‘å½“åšç²¾çµä¸€æ ·å¤„ç†ï¼Œæˆ–è€…ä½¿ç”¨å¾ˆé…·çš„å›¾å½¢æ•ˆæœå’Œé®ç½©ã€‚ 3.ç¼ºç‚¹ï¼š ï¼ˆ1ï¼‰å¦‚æœä½¿ç”¨äº†SpriteKitï¼Œé‚£ä¹ˆä½ å°†è¢«iOSç”Ÿæ€åœˆç»‘æ¶ï¼Œå¯¼è‡´å¾ˆéš¾æŠŠæ¸¸æˆç§»æ¤åˆ°Androidç­‰å…¶ä»–å¹³å°ï¼› ï¼ˆ2ï¼‰SpriteKitç°åœ¨è¿˜å¤„äºåˆå§‹é˜¶æ®µï¼Œæä¾›çš„å†…å®¹è¿˜ä¸å¤Ÿä¸°å¯Œï¼Œä¾‹å¦‚Cocos2Dï¼Œæš‚ä¸æ”¯æŒè‡ªå®šä¹‰çš„OpenGLä»£ç ï¼›\nã€SceneKitã€‘ SceneKit(SK)æ˜¯WWDC12æ¨å‡ºçš„OS Xå¹³å°çš„cocos 3Dæ¸²æŸ“å¼•æ“æ¡†æ¶ã€‚æ”¯æŒç²’å­æ•ˆæœï¼Œç‰©ç†æ¨¡æ‹Ÿï¼Œè„šæœ¬äº‹ä»¶ï¼Œå¤šç¨‹æ¸²æŸ“ï¼Œæ”¯æŒiOSå¹³å°ã€‚SceneKitæ•´åˆäº†Core Imageï¼ŒCore Animationä¹‹ç±»çš„å›¾å½¢æ¡†æ¶ï¼Œç°åœ¨è¿˜æ•´åˆè¿›äº†SpriteKitã€‚ SceneKitæ˜¯åŸºäºOpenGLæ„å»ºçš„ã€‚\nã€Metalã€‘ åœ¨iOS8ä¸­ï¼Œè‹¹æœå‘å¸ƒäº†ä¸€ä¸ªæ–°çš„æ¥å£å«åšMetalï¼Œå®ƒæ˜¯ä¸€ä¸ªæ”¯æŒGPUåŠ é€Ÿçš„3Dç»˜å›¾APIã€‚Metalå’ŒOpenGL ESç±»ä¼¼ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªåº•å±‚APIï¼Œè´Ÿè´£å’Œ3Dç»˜å›¾ç¡¬ä»¶äº¤äº’ã€‚å¯æƒœçš„æ˜¯ï¼ŒMetalä¸æ˜¯è·¨å¹³å°çš„ã€‚\n","date":"2016-12-18T22:08:49Z","permalink":"https://blog.iostao.com/2016/12/ios-spritekit-scenekit/","title":"iOS SpriteKit/SceneKit/Metalæµ…æ"},{"content":"\nå†…å­˜å’Œæ´»åŠ¨ç®¡ç†é€‰é¡¹( memory and activity management options)æ˜¯ä»Šå¹´è‹¹æœåœ¨OSå‘å¸ƒçš„æ–°æŠ€æœ¯(åŒ…æ‹¬ OSX 10.12, iOS 10.0, tvOS 10.0, watchOS 3.0).è¿™ä¸ªåŒ…æ‹¬ç”¨.initiallyInactiveåœ¨éæ´»åŠ¨çš„çŠ¶æ€å¯åŠ¨ä¸€ä¸ªé˜Ÿåˆ—,æˆ–è€…ä¸ºä½ çš„çº¿ç¨‹è®¾ç½®ä¸€ä¸ªè‡ªåŠ¨é‡Šæ”¾å±æ€§(.autoreleaseInherit, .autoreleaseNever, .autoreleaseWorkItem)\nswift 3ä¸­å¯¹Cå±‚çº§çš„GCDçš„APIè¿›è¡Œäº†å½»å¤´å½»å°¾çš„æ”¹å˜ã€‚æœ¬æ–‡å°†ä»å®é™…ä½¿ç”¨åœºæ™¯æ¥äº†è§£ä¸€ä¸‹æ–°çš„apiä½¿ç”¨ã€‚\ndispatch_async ä¸€ä¸ªå¸¸è§çš„åœºæ™¯å°±æ˜¯åœ¨ä¸€ä¸ªå…¨å±€é˜Ÿåˆ—è¿›è¡Œä¸€äº›æ“ä½œååˆ‡æ¢åˆ°ä¸»çº¿ç¨‹é…ç½®UIã€‚ç°åœ¨æ˜¯è¿™ä¹ˆå†™ï¼š\nDispatchQueue.global().async { // code DispatchQueue.main.async { // ä¸»çº¿ç¨‹ä¸­ } } global()æ˜¯ä¸€ä¸ªæœ‰ç€é»˜è®¤å‚æ•°çš„é™æ€å‡½æ•°ï¼š\nclass DispatchQueue : DispatchObject { public class var main: DispatchQueue public class func global(qos: DispatchQoS.QoSClass = default) -\u0026gt; DispatchQueue } sync\nå¦‚æœæƒ³åŒæ­¥æ‰§è¡Œæ“ä½œï¼Œå’Œasyncç±»ä¼¼ï¼Œè°ƒç”¨syncå°±å¯ä»¥äº†ï¼š\nDispatchQueue.global().sync { // åŒæ­¥æ‰§è¡Œ } ä¼˜å…ˆçº§ï¼šDispatchQoS æˆ‘ä»¬çŸ¥é“ï¼ŒGCD çš„é»˜è®¤é˜Ÿåˆ—ä¼˜å…ˆçº§æœ‰å››ä¸ªï¼š\nDISPATCH_QUEUE_PRIORITY_HIGH DISPATCH_QUEUE_PRIORITY_DEFAULT DISPATCH_QUEUE_PRIORITY_LOW DISPATCH_QUEUE_PRIORITY_BACKGROUND ç°åœ¨åˆ™æ”¹ä¸ºäº†QoSClassæšä¸¾\npublic enum QoSClass { case background case utility case `default` case userInitiated case userInteractive case unspecified public init?(rawValue: qos_class_t) public var rawValue: qos_class_t { get } } è¿™äº›å‘½åæ¯”åŸå…ˆçš„æ›´åŠ å‹å¥½ï¼Œèƒ½æ›´å¥½è¡¨è¾¾è¿™ä¸ªæ“ä½œçš„æ„å›¾ã€‚\nå’ŒåŸæœ‰çš„å¯¹åº”å…³ç³»æ˜¯ï¼š\nDISPATCH_QUEUE_PRIORITY_HIGH: .userInitiated DISPATCH_QUEUE_PRIORITY_DEFAULT: .default DISPATCH_QUEUE_PRIORITY_LOW: .utility DISPATCH_QUEUE_PRIORITY_BACKGROUND: .background åˆ›å»ºé˜Ÿåˆ— DispatchQueueçš„é»˜è®¤åˆå§‹åŒ–æ–¹æ³•åˆ›å»ºçš„å°±æ˜¯ä¸€ä¸ªåŒæ­¥é˜Ÿåˆ—ï¼Œå¦‚æœè¦åˆ›å»ºå¹¶å‘çš„é˜Ÿåˆ—ï¼Œåœ¨attributesä¸­å£°æ˜concurrentã€‚\n// åŒæ­¥é˜Ÿåˆ—\nlet serialQueue = DispatchQueue(label: \u0026quot;queuename\u0026quot;) // å¹¶å‘é˜Ÿåˆ—\nlet concurrentQueue = DispatchQueue(label: \u0026quot;queuename\u0026quot;, attributes: .concurrent) æ¨è¿Ÿæ—¶é—´åæ‰§è¡Œ\nåŸå…ˆçš„dispatch_time_tç°åœ¨ç”±DispatchTimeå¯¹è±¡è¡¨ç¤ºã€‚å¯ä»¥ç”¨é™æ€æ–¹æ³•nowè·å¾—å½“å‰æ—¶é—´ï¼Œç„¶åå†é€šè¿‡åŠ ä¸Šä¸€ä¸ªDispatchTimeIntervalæšä¸¾æ¥è·å¾—ä¸€ä¸ªéœ€è¦å»¶è¿Ÿçš„æ—¶é—´ã€‚\nlet delay = DispatchTime.now() + DispatchTimeInterval.seconds(60)DispatchQueue.main.asyncAfter(deadline: delay) { // å»¶è¿Ÿæ‰§è¡Œ} è¿™é‡Œä¹Ÿå¯ä»¥ç›´æ¥åŠ ä¸Šä¸€ä¸ªç§’æ•°ã€‚\nlet three = DispatchTime.now() + 3.0 å› ä¸ºDispatchTimeä¸­è‡ªå®šä¹‰äº†+å·ã€‚\npublic func +(time: DispatchTime, seconds: Double) -\u0026gt; DispatchTime DispatchGroup\nå¦‚æœæƒ³åœ¨dispatch_queueä¸­æ‰€æœ‰çš„ä»»åŠ¡æ‰§è¡Œå®Œæˆåå†åšæŸç§æ“ä½œå¯ä»¥ä½¿ç”¨DispatchGroupã€‚åŸå…ˆçš„dispatch_group_tç”±ç°åœ¨çš„DispatchGroupå¯¹è±¡ä»£æ›¿ã€‚\nlet group = DispatchGroup() let queueBook = DispatchQueue(label: \u0026quot;book\u0026quot;) queueBook.async(group: group) { // ä¸‹è½½å›¾ä¹¦ } let queueVideo = DispatchQueue(label: \u0026quot;video\u0026quot;) queueVideo.async(group: group) { // ä¸‹è½½è§†é¢‘ } group.notify(queue: DispatchQueue.main) { // ä¸‹è½½å®Œæˆ } DispatchGroupä¼šåœ¨ç»„é‡Œçš„æ“ä½œéƒ½å®Œæˆåæ‰§è¡Œnotifyã€‚\nå¦‚æœæœ‰å¤šä¸ªå¹¶å‘é˜Ÿåˆ—åœ¨ä¸€ä¸ªç»„é‡Œï¼Œæˆ‘ä»¬æƒ³åœ¨è¿™äº›æ“ä½œæ‰§è¡Œå®Œäº†å†ç»§ç»­ï¼Œè°ƒç”¨wait\ngroup.wait() DispatchWorkItem\nä½¿ç”¨DispatchWorkItemä»£æ›¿åŸæ¥çš„dispatch_block_tã€‚ åœ¨DispatchQueueæ‰§è¡Œæ“ä½œé™¤äº†ç›´æ¥ä¼ äº†ä¸€ä¸ª() -\u0026gt; Voidç±»å‹çš„é—­åŒ…å¤–ï¼Œè¿˜å¯ä»¥ä¼ å…¥ä¸€ä¸ªDispatchWorkItemã€‚\npublic func sync(execute workItem: DispatchWorkItem) public func async(execute workItem: DispatchWorkItem) DispatchWorkItemçš„åˆå§‹åŒ–æ–¹æ³•å¯ä»¥é…ç½®Qoså’ŒDispatchWorkItemFlagsï¼Œä½†æ˜¯è¿™ä¸¤ä¸ªå‚æ•°éƒ½æœ‰é»˜è®¤å‚æ•°ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥åªä¼ å…¥ä¸€ä¸ªé—­åŒ…ã€‚\npublic init(qos: DispatchQoS = default, flags: DispatchWorkItemFlags = default, block: @escaping @convention(block) () -\u0026gt; ()) let workItem = DispatchWorkItem { // TODO: } DispatchWorkItemFlagsæšä¸¾ä¸­assignCurrentContextè¡¨ç¤ºQoSæ ¹æ®åˆ›å»ºæ—¶çš„contextå†³å®šã€‚\nå€¼å¾—ä¸€æçš„æ˜¯DispatchWorkItemä¹Ÿæœ‰waitæ–¹æ³•ï¼Œä½¿ç”¨æ–¹å¼å’Œgroupä¸€æ ·ã€‚è°ƒç”¨ä¼šç­‰å¾…è¿™ä¸ªworkItemæ‰§è¡Œå®Œã€‚\nlet myQueue = DispatchQueue(label: \u0026quot;my.queue\u0026quot;, attributes: .concurrent) let workItem = DispatchWorkItem { sleep(1) print(\u0026quot;done\u0026quot;) } myQueue.async(execute: workItem) print(\u0026quot;before waiting\u0026quot;) workItem.wait() print(\u0026quot;after waiting\u0026quot;) barrier\nå‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªå¹¶å‘çš„é˜Ÿåˆ—ç”¨æ¥è¯»å†™ä¸€ä¸ªæ•°æ®å¯¹è±¡ã€‚å¦‚æœè¿™ä¸ªé˜Ÿåˆ—é‡Œçš„æ“ä½œæ˜¯è¯»çš„ï¼Œé‚£ä¹ˆå¯ä»¥å¤šä¸ªåŒæ—¶è¿›è¡Œã€‚å¦‚æœæœ‰å†™çš„æ“ä½œï¼Œåˆ™å¿…é¡»ä¿è¯åœ¨æ‰§è¡Œå†™å…¥æ“ä½œæ—¶ï¼Œä¸ä¼šæœ‰è¯»å–æ“ä½œåœ¨æ‰§è¡Œï¼Œå¿…é¡»ç­‰å¾…å†™å…¥å®Œæˆåæ‰èƒ½è¯»å–ï¼Œå¦åˆ™å°±å¯èƒ½ä¼šå‡ºç°è¯»åˆ°çš„æ•°æ®ä¸å¯¹ã€‚åœ¨ä¹‹å‰æˆ‘ä»¬ç”¨dipatch_barrierå®ç°ã€‚ ç°åœ¨å±æ€§æ”¾åœ¨äº†DispatchWorkItemFlagsé‡Œã€‚\nlet wirte = DispatchWorkItem(flags: .barrier) { // write data}let dataQueue = DispatchQueue(label: \u0026quot;data\u0026quot;, attributes: .concurrent) dataQueue.async(execute: wirte) ä¿¡å·é‡\nä¸ºäº†çº¿ç¨‹å®‰å…¨çš„ç»Ÿè®¡æ•°é‡ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨ä¿¡å·é‡ä½œè®¡æ•°ã€‚åŸæ¥çš„dispatch_semaphore_tç°åœ¨ç”¨DispatchSemaphoreå¯¹è±¡è¡¨ç¤ºã€‚ åˆå§‹åŒ–æ–¹æ³•åªæœ‰ä¸€ä¸ªï¼Œä¼ å…¥ä¸€ä¸ªIntç±»å‹çš„æ•°ã€‚\nlet semaphore = DispatchSemaphore(value: 5) // ä¿¡å·é‡å‡ä¸€ semaphore.wait() //ä¿¡å·é‡åŠ ä¸€ semaphore.signal() dispatch_onceåœ¨swift 3ä¸­å·²ç»è¢«åºŸå¼ƒäº†ã€‚\nç®€å•çš„å»ºè®®å°±æ˜¯ä¸€äº›åˆå§‹åŒ–åœºæ™¯å°±ç”¨æ‡’åŠ è½½å§ã€‚\n// Examples of dispatch_once replacements with global or static constants and variables. // In all three, the initialiser is called only once. // Static properties (useful for singletons). class Object { static let sharedInstance = Object() } // Global constant. let constant = Object() // Global variable. var variable: Object = { let variable = Object() variable.doSomething() return variable }()","date":"2016-10-30T15:45:13Z","permalink":"https://blog.iostao.com/2016/10/swift3-gcd-dispatch-async/","title":"Swift3ä¸­dispatch_onceåºŸå¼ƒçš„è§£å†³åŠæ³•"},{"content":"git pushä»£ç çš„æ—¶å€™ï¼Œå¯èƒ½ä¼šé‡åˆ°ä¸‹é¢çš„æç¤ºï¼š\n$ git push warning: push.default is unset; its implicit value is changing in Git 2.0 from 'matching' to 'simple'. To squelch this message and maintain the current behavior after the default changes, use: git config --global push.default matching To squelch this message and adopt the new behavior now, use:\ngit config --global push.default simple When push.default is set to 'matching', git will push local branches to the remote branches that already exist with the same name. Since Git 2.0, Git defaults to the more conservative 'simple' behavior, which only pushes the current branch to the corresponding remote branch that 'git pull' uses to update the current branch. See 'git help config' and search for 'push.default' for further information. (the 'simple' mode was introduced in Git 1.7.11. Use the similar mode 'current' instead of 'simple' if you sometimes use older versions of Git) äº‹å®ä¸Šè¿™å¹¶ä¸ä¼šå½±å“ä½ pushçš„ç»“æœï¼Œæœ€ç»ˆpushè¿˜ä¼šæˆåŠŸï¼Œå› ä¸ºè¿™åªæ˜¯ä¸€ä¸ªâ€warningâ€œã€‚ä¼šåœ¨åé¢çœ‹åˆ°pushæˆåŠŸçš„ç»“æœã€‚\nCounting objects: 10, done. Delta compression using up to 4 threads. Compressing objects: 100% (10/10), done. Writing objects: 100% (10/10), 1.10 KiB | 0 bytes/s, done. Total 10 (delta 9), reused 0 (delta 0) ä½ å¯ä»¥æŒ‰ç…§ä»–è¯´çš„é‚£æ ·è¿è¡Œï¼š $ git config \u0026ndash;global push.default matching\næˆ–è€…\n$ git config --global push.default simple å‘½ä»¤ï¼Œä»¥åå†pushå°±ä¸ä¼šæœ‰è­¦å‘Šäº†ã€‚\nä¸‹é¢è¯´ä¸€ä¸‹ push.default matching å’Œ push.default simple çš„åŒºåˆ«ï¼š\npush.defaultè®¾ç½®machingçš„æ„æ€æ˜¯ï¼šgit push ä¼šæŠŠä½ æœ¬åœ°æ‰€æœ‰åˆ†æ”¯pushåˆ°åç§°ç›¸å¯¹åº”çš„è¿œç¨‹ä¸»æœºä¸Šã€‚è¿™æ„å‘³ç€å¯èƒ½ä½ ä¼šåœ¨ä¸ç»æ„é—´pushä¸€äº›ä½ åŸæœ¬æ²¡æ‰“ç®—pushçš„åˆ†æ”¯ã€‚\npush.defaultè®¾ç½®æˆsimpleçš„æ„æ€æ˜¯ï¼šgit pushä»…ä»…æŠŠå½“å‰æ‰€åœ¨åˆ†æ”¯pushåˆ°ä»å½“åˆgit pull pullä¸‹æ¥çš„é‚£ä¸ªå¯¹åº”åˆ†æ”¯ä¸Šï¼Œå¦å¤–ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¹Ÿä¼šåŒæ—¶æ£€æŸ¥å„ä¸ªåˆ†æ”¯çš„åç§°æ˜¯å¦ç›¸å¯¹åº”ã€‚\n","date":"2016-08-04T22:01:33Z","permalink":"https://blog.iostao.com/2016/08/git-warning-default/","title":"Git Warning push.default is unset"},{"content":"å¦‚æœä½ åœ¨ä¸€å°æœºå™¨ä½¿ç”¨ä¸¤ä¸ªgithubè´¦å·ï¼Œæˆ–è€…æ˜¯ä½¿ç”¨githubçš„åŒæ—¶ï¼Œè¿˜æœ‰bitbucketç­‰ä»£ç ç®¡ç†ä»“åº“ã€‚ ä¾‹å¦‚githubï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™ä¸ªç§˜é’¥æ˜¯åœ¨ä½ è´¦æˆ·çš„.sshç›®å½•ç”Ÿæˆid_rsaæ–‡ä»¶ï¼Œå¯¹åº”ä¸€ä¸ªid_rsa.pubå…¬é’¥æ–‡ä»¶ï¼Œä½†æ˜¯ï¼Œæˆ‘å¯èƒ½ä¼šæœ‰ä¸¤ä¸ªgithubå¸å·ï¼Œä¸€ä¸ªä¸ªäººï¼Œä¸€ä¸ªåŠå…¬ç”¨ï¼ˆæˆ–è€…æ˜¯å¤šä¸ªä»“åº“ç®¡ç†ï¼‰ï¼Œè¿™æ—¶ï¼Œæˆ‘å°±éœ€è¦ç”Ÿæˆå¤šä¸ªå¯†é’¥ã€‚\n$ ls ~/.ssh/ config github_rsa github_rsa.pub\npersonalid personalid.pub\nä»¥ä¸Šæ˜¯æˆ‘çš„å¯†é’¥åˆ—è¡¨ï¼Œé‚£ä¹ˆæˆ‘çš„githubå¦‚ä½•ä½¿ç”¨å¤šä¸ªå¯†é’¥å‘¢ã€‚\néœ€è¦ç¼–è¾‘ä¸€ä¸‹é…ç½®æ–‡ä»¶~/.ssh/configï¼š å¦‚æœæ²¡æœ‰è¿™ä¸ªæ–‡ä»¶ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ª(åˆ‡æ¢åˆ° ~/.ssh\tç›®å½•ä¸‹)\n$ touch config ç¼–è¾‘ configæ–‡ä»¶\n1 2 3 4 5 6 7 8 9 Host github.com Hostname github.com User username IdentityFile ~/.ssh/github_rsa Host bitbucket.org Hostname bitbucket.org User username IdentityFile ~/.ssh/personalid åªæ˜¯ç”¨ä¸€ä¸ªå…¬é’¥ ä¹Ÿå¯ä»¥å‡ ä¸ªè´¦å·éƒ½ä¸Šä¼ åŒä¸€ä¸ªå…¬é’¥ï¼Œé…ç½®çš„æ—¶å€™ï¼Œä½¿ç”¨åŒä¸€ä¸ªå…¬é’¥æ–‡ä»¶å°±å¯ä»¥äº†ã€‚ä¸ºäº†å®‰å…¨æ€§è€ƒè™‘ï¼Œä¸å»ºè®®è¿™ä¹ˆåš\n1 2 3 4 5 6 7 8 9 Host github.com Hostname github.com User username IdentityFile ~/.ssh/github_rsa Host bitbucket.org Hostname bitbucket.org User username IdentityFile ~/.ssh/github_rsa è§£é‡Šæ­¤é…ç½®æ–‡ä»¶ï¼š\nHost: \u0026quot;github.com\u0026quot;æ˜¯ä¸€ä¸ªã€åˆ«åã€ï¼Œå¯ä»¥éšæ„å‘½åï¼Œä¹Ÿå¯ä»¥ç›´æ¥å†™github Hostname:\tä»“å‚¨åœ°å€ï¼šä¾‹å¦‚git@github.comï¼Œè¿™é‡Œè¦çš„å°±æ˜¯ github.com IdentityFile: æ‰€ä½¿ç”¨çš„å…¬é’¥æ–‡ä»¶ é…ç½®å®Œæ¯•ï¼Œç”¨ä¸‹é¢çš„å‘½ä»¤æµ‹è¯•ä¸€ä¸‹ï¼š\n$ ssh -T git@bitbucket.com logged in as beyond521t. You can use git or hg to connect to Bitbucket. Shell access is disabled. å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼Œè¿›è¡ŒdebugæŸ¥çœ‹ï¼š\n$ ssh -vv git@bitbucket.com ","date":"2016-07-18T15:43:04Z","permalink":"https://blog.iostao.com/2016/07/git-sshkey-multi/","title":"ç®¡ç†å¤šä¸ªSSH Key"},{"content":"æœ¬æ–‡ä¸»è¦ä»‹ç»å¦‚ä½•ä½¿ç”¨ç»ˆç«¯ï¼Œç”Ÿæˆssh keyã€‚ SSHåªæ˜¯ä¸€ç§åè®®ï¼Œç”¨äºè®¡ç®—æœºä¹‹é—´çš„åŠ å¯†ç™»å½•ï¼Œå­˜åœ¨å¤šç§å®ç°ï¼Œæ—¢æœ‰å•†ä¸šå®ç°ï¼Œä¹Ÿæœ‰å¼€æºå®ç°ã€‚æœ¬æ–‡é’ˆå¯¹çš„å®ç°æ˜¯OpenSSHï¼Œå®ƒæ˜¯è‡ªç”±è½¯ä»¶ï¼Œåº”ç”¨éå¸¸å¹¿æ³›ã€‚\nç”ŸæˆSSH KEYï¼š $ ssh-keygen -t rsa -C \u0026quot;your_email@example.com\u0026quot; , ç„¶åä¼šè¦æ±‚ä½ è¾“å…¥å…¬é’¥çš„åå­—ï¼š Enter file in which to save the key (/Users/LaoTao/.ssh/id_rsa): ssh_rsa æ¥ä¸‹æ¥è¦æ±‚è¾“å…¥å¯†ç ï¼Œä»¥åŠç¡®è®¤å¯†ç ï¼š Enter passphrase (empty for no passphrase): Enter same passphrase again: ä»¥ä¸‹æ˜¯æ•´ä¸ªç»ˆç«¯å‘½ä»¤æµç¨‹ï¼š $ ssh-keygen -t rsa -C \u0026quot;your_email@example.com\u0026quot; Generating public/private rsa key pair. Enter file in which to save the key (/Users/LaoTao/.ssh/id_rsa): ssh_rsa Enter passphrase (empty for no passphrase): Enter same passphrase again: Your identification has been saved in ssh_rsa. Your public key has been saved in ssh_rsa.pub. The key fingerprint is: SHA256:m4+0RNpNoAgjjpmtIrQhmwvQHsGnOIoikVkJ/tVqHXM your_email@example.com The key's randomart image is: +---[RSA 2048]----+ |. | |.o . . | |..B .. +.E | |o@.*..o.+. | |%+=..o..S . | |*Bo.. + = | |%.. . * . | |*. o + | |. o . | +----[SHA256]-----+\tå¯ä»¥ä½¿ç”¨catå‘½ä»¤æŸ¥çœ‹å…¬é’¥ï¼š $ cat ~/.ssh/ssh_rsa.pub ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCuX2Zbre+4kPLkolvWXXtmvehFoO/LYVe+/EDA3j4NLX+6GZYXqAG6IEDAKzDKUzaUoxfuWZFk8ZyHhjfViD3FC90Yh9xuIXGYua4xyy6/7CC/HK2mS3Ha0SGW/QKMJ+QrLyeCpUeNiGDbH12DvUJpgp1vwTIIi0Pkykz6SP2mWkgpAKsBYExg+PkY2aLzopw2GpW0JApqQ9Jz/yMZQ5T7yh/k7iYZNWQ/ch9UxmM58gEQjw1qHiC7QZU9JvJsbh+qusNcIjcKLjMrwhw6q21jeGtn+7It4hKo9YL76OR/QRi1OWUJzqOaTY4ssUBEU15f3OGxVT03emJ556hFyVLn your_email@example.com æ‹·è´å‘½ä»¤ï¼š Windows:\nclip \u0026lt; ~/.ssh/id_rsa.pub Mac:\npbcopy \u0026lt; ~/.ssh/id_rsa.pub GNU/Linux (requires xclip):\nxclip -sel clip \u0026lt; ~/.ssh/id_rsa.pub ç„¶åå°†å¤åˆ¶çš„ssh_rsa.pub å…¬é’¥ç²˜è´´åˆ°gitæœåŠ¡å™¨çš„SSHé…ç½®ä¸­ã€‚ä¾‹å¦‚github:\n","date":"2016-07-17T13:42:55Z","permalink":"https://blog.iostao.com/2016/07/git-sshkey/","title":"ç”ŸæˆSSH Key"},{"content":"æ‰§è¡Œ git pull çš„æ—¶å€™ï¼Œæç¤º(When I do the \u0026ldquo;git pull\u0026rdquo;)\nssh_exchange_identification: read: Connection reset by peer fatal: Could not read from remote repository. Please make sure you have the correct access rights and the repository exists. ç»è¿‡å„ç§ç ”ç©¶ï¼Œå‘ç°äº†ä¸€ä¸ªæ¯”è¾ƒå‘çš„é—®é¢˜ï¼ˆè‡³å°‘ç›®å‰æˆ‘é‡åˆ°çš„å°±æ˜¯ï¼‰ï¼Œé—®é¢˜å°±æ˜¯æœåŠ¡ç«¯æœ‰é—®é¢˜ï¼Œå…·ä½“æ˜¯ä»€ä¹ˆï¼Œä¸æ¸…æ¥šï¼Œå› ä¸ºæˆ‘ä¸è´Ÿè´£è¿™å—å†…å®¹ã€‚åªè¯´ä¸€ä¸‹ï¼Œä¸´æ—¶è§£å†³å§ï¼Œå› ä¸ºéœ€è¦ï¼Œæ‰€ä»¥ä¸èƒ½å¤Ÿç­‰å¾…æœåŠ¡ç«¯è§£å†³ä¹‹åå†å»æäº¤ã€‚ (I found this is because the)\nè¿™ç§é—®é¢˜æ˜¯å› ä¸ºä½¿ç”¨SSHæäº¤å¯¼è‡´çš„ï¼Œä½†æ˜¯å‘ç°ä½¿ç”¨HTTPSè¿™ç§æäº¤æ²¡æœ‰é—®é¢˜ã€‚git cloneä»£ç çš„æ—¶å€™ï¼Œå¤§å®¶è‚¯å®šä¼šçœ‹åˆ°ï¼Œç»™äº†ä¸¤ä¸ªé€‰é¡¹ï¼Œä¸€ä¸ªæ˜¯SSHçš„åœ°å€ï¼Œ ä¸€ä¸ªæ˜¯HTTPSçš„åœ°å€ã€‚\n//è¾“å…¥å‘½ä»¤\n$ git remote -v //è¾“å‡º SSHçš„originé…ç½® origin\tgit@git.******.com:ict/project.git (fetch) origin\tgit@git.******.com:ict/project.git (push) //æ·»åŠ ä¸€ä¸ªHTTPs origin //è¿™é‡Œä½¿ç”¨çš„æ˜¯ HTTPSåœ°å€ git remote add origin2 https://git.******.com/ict/project.git //è¾“å…¥å‘½ä»¤\n$ git remote -v //è¾“å‡º originé…ç½® origin\tgit@git.******.com:ict/project.git (fetch) origin\tgit@git.******.com:ict/project.git (push) origin2\thttps://git.******.com/ict/project.git (fetch) origin2\thttps://git.******.com/ict/project.git (push) //ç„¶åè¿›è¡Œä¸€ä¸‹æ“ä½œå®æ—¶ //è¿™é‡Œä½¿ç”¨HTTPS çš„è¯ï¼Œä½¿ç”¨ é…ç½®çš„ origin2 è¿›è¡Œé…ç½®\n$ git pull origin2 develop //å‘ç°æ‰§è¡ŒæˆåŠŸ remote: Counting objects: 22, done. remote: Compressing objects: 100% (22/22), done. remote: Total 22 (delta 12), reused 0 (delta 0) Unpacking objects: 100% (22/22), done. ","date":"2016-07-11T11:43:06Z","permalink":"https://blog.iostao.com/2016/07/git-ssh-exchange-identification/","title":"ssh exchange identification"},{"content":"LTPickerView - Swift è¿æ¥åœ°å€ GitHub LTPickerView-Swift å…³äº VERSION 1.0.1\nSwift 2.2\nTIME 2016-07-09 11:41:07\nCreate By è€é™¶\næ•ˆæœå›¾ ä¸€ç»´æ•°ç»„ äºŒç»´æ•°ç»„ æ—¶é—´é€‰æ‹©å™¨ è¦æ±‚ å› ä¸ºä½¿ç”¨äº†å…ƒç»„ç­‰è¿”å›ç»“æœï¼Œæ‰€ä»¥ä¸å…è®¸åœ¨Objective-Cä¸­æ··ç¼–ä½¿ç”¨ ä½¿ç”¨ è¿”å›æ•°æ®ç±»å‹ resultValue æ˜¯ä¸€ä¸ªå…ƒç»„ç±»å‹\n/** è¿”å›æ•°æ®çš„ç»“æœç±»å‹ */ typealias pickerResultType = (first: AnyObject, second: AnyObject, third: AnyObject, fourth: AnyObject, fifth: AnyObject) UIPickerView ä¸€ã€ä¸€ç»´æ•°ç»„\nlet array = [\u0026quot;1\u0026quot;, \u0026quot;2\u0026quot;, \u0026quot;3\u0026quot;, \u0026quot;4\u0026quot;, \u0026quot;5\u0026quot;] let pickerView = LTPickerView.pickerView(array, title: \u0026quot;ä¸€ç»´æ•°ç»„\u0026quot;) pickerView.setSelectedRow(2)\t//é€‰ä¸­æŸä¸€è¡Œ pickerView.show()\t//æ˜¾ç¤ºç•Œé¢ //ç‚¹å‡» ç¡®å®š/å–æ¶ˆ çš„å›è°ƒæ–¹æ³• pickerView.resultClosure({ (pickerView, resultValue) in print(\u0026quot;\\(resultValue)\u0026quot;) }) { (pickerView) in } äºŒã€å¤šç»´æ•°ç»„\nlet array = [[\u0026quot;1\u0026quot;, \u0026quot;2\u0026quot;, \u0026quot;3\u0026quot;, \u0026quot;4\u0026quot;], [\u0026quot;1\u0026quot;, \u0026quot;2\u0026quot;, \u0026quot;3\u0026quot;, \u0026quot;4\u0026quot;], [\u0026quot;1\u0026quot;, \u0026quot;2\u0026quot;, \u0026quot;3\u0026quot;, \u0026quot;4\u0026quot;], [\u0026quot;1\u0026quot;, \u0026quot;2\u0026quot;, \u0026quot;3\u0026quot;, \u0026quot;4\u0026quot;]] let pickerView = LTPickerView.pickerView(array, title: \u0026quot;å¤šç»´æ•°ç»„\u0026quot;) //é€‰ä¸­è¡Œæ•°ï¼Œè¿™é‡Œå¿…é¡»ä½¿ç”¨(0, 0, 0, 0, 0) è¿™ç§å…ƒç»„æ ¼å¼ï¼Œ5ä¸ªå…ƒç´  pickerView.setSelectedRows((0, 1, 2, 3, 0)) pickerView.show() //ç‚¹å‡» ç¡®å®š/å–æ¶ˆ çš„å›è°ƒæ–¹æ³• pickerView.resultClosure({ (pickerView, resultValue) in }) { (pickerView) in } UIDatePicker let pickerView = LTPickerView.datePickerView(NSDate(), datePickerMode: UIDatePickerMode.Date, title: \u0026quot;æ—¶é—´é€‰æ‹©å™¨\u0026quot;) pickerView.show() pickerView.resultClosure({ (pickerView, resultValue) in //resultValue.first æ˜¯è¾“å‡ºçš„`String`ç±»å‹ //resultValue.second æ˜¯è¾“å‡ºçš„`NSDate`ç±»å‹ print(\u0026quot;\\(resultValue.first), \\(resultValue.second)\u0026quot;) }) { (pickerView) in } ç‰ˆæœ¬æ›´æ–° ####V1.0.0\n2016-07-09 11:41:40\nFirst Version\n####V1.0.1 2016-07-09 11:41:45\nå¢åŠ æ—¶é—´é€‰æ‹©å™¨ï¼Œé»˜è®¤é€‰ä¸­æ—¶é—´åŠŸèƒ½ ä¿®å¤å·²çŸ¥bug\n","date":"2016-07-08T23:08:08Z","permalink":"https://blog.iostao.com/2016/07/swift-ltpickerview/","title":"LTPickerView.swift"},{"content":"swift åˆ¤æ–­Stringé‡Œé¢åŒ…å«çš„ä¸­ã€è‹±æ–‡ã€æ•°å­—ã€ç¬¦å·ã€‚å¹¶é™„æ±‰å­—Unicodeå­—ç¬¦ç¼–ç è¡¨ã€‚ Unicodeå­—ç¬¦ç¼–ç è¡¨\u0026ndash;ä¸‹è½½\nlet text = \u0026ldquo;æ–‡å­—å†…å®¹text123ğŸ˜„\u0026rdquo; for commitChar in text.unicodeScalars { //å­—ç¬¦ä¸²åªæœ‰ä¸€ä¸ªå­—ç¬¦ï¼Œè¿™ä¸ªå¾ªç¯åªä¼šæ‰§è¡Œ1æ¬¡ print(Int(commitChar.value))\nif ((commitChar.value\u0026gt;=0x4e00)\u0026amp;\u0026amp;(commitChar.value\u0026lt;=0x9FA5)) { //å­—ç¬¦ä¸ºä¸­æ–‡ print(\u0026quot;å­—ç¬¦ä¸ºä¸­æ–‡\u0026quot;) } else if((commitChar.value\u0026gt;64)\u0026amp;\u0026amp;(commitChar.value\u0026lt;91)){ print(\u0026quot;å­—ç¬¦ä¸ºå¤§å†™è‹±æ–‡å­—æ¯\u0026quot;) }else if((commitChar.value\u0026gt;96)\u0026amp;\u0026amp;(commitChar.value\u0026lt;123)){ print(\u0026quot;å­—ç¬¦ä¸ºå°å†™è‹±æ–‡å­—æ¯\u0026quot;) }else if((commitChar.value\u0026gt;47)\u0026amp;\u0026amp;(commitChar.value\u0026lt;58)){ print(\u0026quot;å­—ç¬¦ä¸ºæ•°å­—\u0026quot;) }else{ print(\u0026quot;å…¶ä»–å­—ç¬¦\u0026quot;) } } ","date":"2016-06-22T15:01:36Z","permalink":"https://blog.iostao.com/2016/06/swift-unicodescalars/","title":"åˆ¤æ–­ä¸­ã€è‹±æ–‡ã€æ•°å­—ã€ç¬¦å·"},{"content":"5æœˆ30å·å‚åŠ çš„APSå®¡æ ¸ï¼Œç„¶åå¤§æ¦‚ç¬¬ä¸‰å¤©æŸ¥äº†ä¸€ä¸‹æˆç»©ï¼Œå¾ˆé«˜å…´é€šè¿‡äº†ã€‚å‘¨æœ«è¶ç€æœ‰æ—¶é—´ï¼Œåœ¨è¿™é‡Œç®€å•å†™ä¸€ä¸‹å…³äºAPSçš„ä¸€äº›å¿ƒå¾—å§ã€‚\næˆ‘æ˜¯å…ƒæ—¦çš„æ—¶å€™ï¼Œå¯„å‡ºå»çš„å®¡æ ¸ææ–™ï¼Œåˆ°å®¡æ ¸ä¸€å…±å·®ä¸å¤šæ˜¯åŠå¹´æ•´ã€‚æœŸé—´å› ä¸ºå·¥ä½œçš„åŸå› ï¼Œä¹Ÿå°±æ˜¯ä¸‹ç­æˆ–è€…å‘¨æœ«çš„æ—¶å€™ï¼Œç®€å•çš„æ•´ç†äº†ä¸€ä¸‹å„ç§‘çš„èµ„æ–™ï¼Œæ•´ç†èµ„æ–™ï¼Œå†™ç¿»è¯‘ã€‚ä½†æ˜¯æ•ˆç‡å¹¶ä¸é«˜ã€‚ä¸Šä¸ªæœˆæ¥åˆ°å®¡æ ¸ç”µè¯ä¹‹åï¼Œå°±æœ‰ç‚¹æ…Œäº†ï¼Œå› ä¸ºåªæœ‰æ•´ç†äº†èµ„æ–™ï¼Œå¹¶æ²¡æœ‰è®°ä½ã€‚æ‰€ä»¥å°±å¼€å§‹å‡†å¤‡è®¤çœŸå­¦ä¹ äº†ã€‚å‘¨æœ«çš„æ—¶å€™ï¼Œå…ˆå»çš„ä¸­å›½ä¼ åª’å¤§å­¦æ•™å­¦æ¥¼å­¦ä¹ ï¼Œåæ¥å»çš„åŒ—äº¬ç¬¬äºŒå¤–å›½è¯­å­¦é™¢ï¼Œå‘ç°äºŒå¤–å­¦ä¹ è¿˜æ˜¯ä¸é”™çš„ï¼Œå»é¤å…ä¹Ÿè¿‘ä¸€äº›ã€‚\næœŸé—´å„ç§å­¦ä¹ ï¼Œç„¶åå®¡æ ¸çš„å‰ä¸€ä¸ªå‘¨æœ«ï¼Œæˆ‘æœ‹å‹è¯´å¸®æˆ‘æ¨¡æ‹Ÿé¢è¯•ä¸€ä¸‹ï¼Œç»“æœæˆ‘å‘ç°è™½ç„¶ä¸œè¥¿æˆ‘éƒ½è®°ä½äº†ï¼Œä½†æ˜¯å¼ å£è¯´ä¸å‡ºæ¥ï¼Œå› ä¸ºå¹³æ—¶çœ‹ä¸œè¥¿éƒ½æ˜¯å°å£°çš„è¯´å¹¶è®°å¿†ï¼Œå¯¼è‡´æ­£å¸¸è¯´çš„æ—¶å€™ï¼Œè¯´ä¸å‡ºæ¥ï¼Œç„¶åæœ€åä¸‰å¤©æ—¶é—´å°±é‡ç‚¹ç»ƒä¹ å£è¯­ã€‚å¼ å¼€å£ï¼Œè‡ªé—®è‡ªç­”ã€‚\næˆ‘æ˜¯å‘¨äºŒå®¡æ ¸ï¼Œå‘¨ä¸€é‚£å¤©è¯·äº†ä¸€å¤©å‡ï¼Œåœ¨å®¶ç»ƒä¹ äº†ä¸€å¤©ã€‚æˆ‘ä½çš„åœ°æ–¹åˆ°äº®é©¬æ¡¥é‚£è¾¹æœ‰ç‚¹å„¿è¿œï¼Œæ‰€ä»¥ä¸‹åˆå»é‚£è¾¹é™„è¿‘é…’åº—ï¼Œæå‰å…¥ä½ï¼Œè¿™æ ·ç¬¬äºŒå¤©å¯ä»¥çœå¾ˆå¤šæ—¶é—´ã€‚\nåˆ°äº†é‚£è¾¹æŠ¥é“ä¹‹åï¼Œå‰å°ä¼šè®©ä½ å»ç­‰å€™å®¤ç­‰å¾…ï¼Œå¥½å¤šäººåœ¨é‡Œé¢ï¼Œå¦‚æœè‡ªä¿¡çš„è¯ï¼Œå¯ä»¥å’Œæ—è¾¹çš„å’Œå°ä¼™ä¼´èŠèŠå¤©ã€‚æˆ‘æ˜¯æ¯”è¾ƒç´§å¼ ï¼Œå°±è‡ªå·±ååœ¨é‚£é‡Œï¼Œç„¶åç­‰äº†å‡ ä¸ªäººä¹‹åï¼Œå°±çœ‹åˆ°ä¸€ä¸ªå¤´å‘æœ‰äº›çº¢è‰²ï¼Œç„¶ååƒç†ŠçŒ«çš„é‚£ä½è¿‡æ¥å«äººï¼Œå¿µçš„æˆ‘çš„åå­—ï¼Œç„¶åæˆ‘èµ°è¿‡å»çš„æ—¶å€™ï¼Œå°±å¬åˆ°å¥½å¤šäººè¯´çº¢ç­å•Šã€‚\nä¸»å®¡æ ¸å®˜æ˜¯çº¢ç­ï¼Œè‡ªæˆ‘æ„Ÿè§‰äººè¿˜æ˜¯ä¸é”™çš„ã€‚è¿‡å»çš„æ—¶å€™æŠŠåŒ…æ”¾åˆ°äº†æŸœå­é‡Œï¼Œç„¶åå£è¢‹é‡Œä¹Ÿä¸è¦æ”¾ä»€ä¹ˆä¸œè¥¿ï¼Œå½“æ—¶æˆ‘å£è¢‹é‡Œæ”¾äº†å¼ æˆ¿å¡ã€‚å¥¹çœ‹åˆ°æˆ‘å£è¢‹æœ‰ä¸œè¥¿ï¼Œå°±é—®æˆ‘æ˜¯ä»€ä¹ˆï¼Œæˆ‘åˆšå¼€å§‹æ²¡å¬å‡ºæ¥ï¼Œå¥¹å°±è„¾æ°”æš´èºçš„åˆé—®äº†ä¸¤æ¬¡ï¼Œç„¶åæˆ‘ååº”è¿‡æ¥ï¼Œæå‡ºæ¥ç»™å¥¹çœ‹äº†ä¸€ä¸‹ï¼Œå¥¹å°±è®©æˆ‘å»ç¬”è¯•çš„é‚£ä¸ªå°æˆ¿é—´é‡Œäº†ã€‚\nå°æˆ¿é—´é‡Œæœ‰ç¬”ï¼Œè¯å…¸è¿™äº›ï¼Œå½“ç„¶ä¸è¦æƒ³ç€ä¸­è‹±ã€ä¸­å¾·è¯å…¸äº†ã€‚è€Œä¸”æ—¶é—´æœ‰é™ï¼Œå°½é‡æå‰èƒŒç†Ÿè¯æ±‡ï¼Œç¿»è¯å…¸æŒºæµªè´¹æ—¶é—´çš„ã€‚\næˆ‘çš„ç¬”è¯•é¢˜æ˜¯ä¸¤é“å¤§é¢˜ï¼Œä¸æ¸…æ¥šå…¶ä»–äººçš„é¢˜æ˜¯ä»€ä¹ˆæ ·çš„é¢˜å‹ï¼Œå› ä¸ºä¿å¯†é—®é¢˜ï¼Œä¸èƒ½åœ¨è¿™é‡Œå†™å‡ºæ¥äº†ã€‚ä¸è¿‡æˆ‘ç¬¬äºŒä¸ªæœ‰å‡ ä¸ªå•è¯æƒ³ä¸èµ·æ¥äº†ï¼Œå› ä¸ºæœ‰å‡ ä¸ªç‚¹ï¼Œé‚£å‡ ä¸ªå•è¯çš„å½±å“ï¼Œè¿™é“é¢˜åªå›ç­”äº†ä¸€åŠã€‚\nåˆ°æ—¶é—´äº†ï¼Œçº¢ç­æŠŠæˆ‘é¢†å¯¼å¯¹é¢çš„åŠå…¬å®¤é‡Œï¼Œè¿˜æœ‰ä¸€ä¸ªå‰¯å®¡æ ¸å®˜ï¼Œè¿›å»ä¹‹åæ‰“äº†æ‹›å‘¼å…¥åº§ã€‚ç„¶åçº¢ç­å¯èƒ½è„¾æ°”æš´èºè¿˜æ˜¯ä»€ä¹ˆå½±å“å§ï¼Œåä¸‹ä¹‹åï¼Œåˆç¡®è®¤äº†ä¸€ä¸‹æˆ‘çš„åå­—ã€‚æˆ‘ä»¥ä¸ºæ¥ä¸‹æ¥ä¼šæ˜¯è‡ªæˆ‘ä»‹ç»ä»€ä¹ˆçš„ï¼Œç»“æœéƒ½æ²¡æœ‰ï¼Œç›´æ¥å°±æ˜¯é—®äº†ä¸“ä¸šçŸ¥è¯†ã€‚è™½ç„¶æˆ‘å·¥ä½œä¸€å¹´äº†ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰é—®æ¯•ä¸šè®ºæ–‡çš„ä¸œè¥¿ã€‚æˆ‘æ˜¯è®¡ç®—æœºä¸“ä¸šçš„ï¼Œä¸­é—´æœ‰å‡ é—¨è¯¾æ˜¯å®è·µè¯¾ï¼Œé—®åˆ°äº†ä¹‹åï¼Œæˆ‘å‘Šè¯‰å¥¹æ˜¯å®è·µå†…å®¹ï¼Œä½†æ˜¯æœ‰ä¸€äº›è¯æ±‡æ²¡å‡†å¤‡å¥½ï¼Œå›ç­”çš„å¹¶ä¸æ˜¯å¾ˆå¥½ã€‚å¦å¤–å°±æ˜¯æˆ‘è‹±è¯­æ²¡æœ‰è¿‡å››çº§ï¼Œæ‰€ä»¥è¯­è¨€ä¹Ÿä¸å¥½ã€‚\nåé¢å°±æ˜¯é—®äº†ä¸€ä¸‹æˆ‘ä¸ºä»€ä¹ˆæƒ³å»å¾·å›½ï¼Œæƒ³å»ä»€ä¹ˆå­¦æ ¡ã€‚ç®€å•èŠäº†ä¸€ä¸‹ï¼Œçº¢ç­é€æˆ‘å‡ºæ¥çš„æ—¶å€™ï¼Œå¯¹æˆ‘è¯´äº†ä¸€å¥ä½ çš„è¯­è¨€å¾ˆå·®ï¼Œæˆ‘ä»¥ä¸ºæŒ‚äº†å‘¢ï¼Œä¸è¿‡å¹¸è¿çš„æ˜¯é€šè¿‡äº†ã€‚\næˆ‘æ˜¯æ¯•ä¸šå·¥ä½œäº†ä¹‹åå®¡æ ¸çš„APSï¼Œç½‘ä¸Šå¾ˆå¤šè¯´çš„æ¯•ä¸šäº†ä¹‹åï¼Œå¾ˆå¤šæ˜¯é—®ä½ è‡ªæˆ‘ä»‹ç» ä¸ºä»€ä¹ˆæƒ³å‡ºå›½å­¦ä¹ ã€æ¯•ä¸šè®ºæ–‡è¿™äº›ï¼Œä¸“ä¸šè¯¾çŸ¥è¯†é—®çš„å°‘ï¼Œè¿™ç§è¯ä¸è¦ç›¸ä¿¡ï¼Œæˆ‘æ˜¯è‡ªæˆ‘ä»‹ç»ã€æ¯•ä¸šè®ºæ–‡éƒ½æ²¡æœ‰é—®ï¼ŒåŸºæœ¬éƒ½æ˜¯ä¸“ä¸šçŸ¥è¯†ã€‚æ‰€ä»¥å‡†å¤‡ä¸€å®šè¦å……åˆ†ã€‚\n","date":"2016-06-11T10:46:18Z","permalink":"https://blog.iostao.com/2016/06/aps-pass/","title":"APSè¿‡å®¡äº†ï¼Œå¼€å¿ƒ"},{"content":"ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œæœªç»åšä¸»å…è®¸ä¸å¾—è½¬è½½ã€‚ -- è€é™¶ åˆšå·¥ä½œçš„æ—¶å€™åšäº†å¤šè¯­è¨€ï¼Œå‘ç°ç½‘ä¸Šæ–¹æ³•å¾ˆå¤šéƒ½æ˜¯å…³äºè·Ÿéšç³»ç»Ÿè¯­è¨€è®¾ç½®çš„ï¼Œè€Œç³»ç»Ÿå†…éƒ¨è®¾ç½®çš„ç¡®æ¯”è¾ƒå°‘ã€‚\næ‰€ä»¥ä»Šå¤©é—²æ¥æ²¡äº‹ï¼Œå†™ä¸€å†™æ€»ç»“ï¼Œä¾›å¤§å®¶å‚è€ƒã€‚\nå½“ç„¶åšçš„æ—¶å€™ï¼Œä¹Ÿä¼šç™¾åº¦æœç´¢ï¼Œæ‰€ä»¥é¡¹ç›®ä¸­å¯èƒ½ä¼šçœ‹åˆ°ç½‘ä¸Šä¸€äº›æ¯”è¾ƒç†Ÿæ‚‰çš„ä¸œè¥¿ã€‚\nå¤§å®¶åšè¿™ä¸€æ­¥ï¼Œç›¸ä¿¡é¡¹ç›®å·¥ç¨‹æ˜¯æœ‰çš„äº†å§ï¼ˆå› ä¸ºæœ¬äººåšç‹¬ç«‹å¼€å‘ï¼Œæ‰€ä»¥ä¸€èˆ¬æ–°åŠŸèƒ½å‡ ä¹éƒ½æ˜¯åœ¨é¡¹ç›®ä¸­åšçš„ï¼Œå¾ˆå°‘æœ‰å†™demoï¼Œå°±ä¸è€ƒè™‘demoçš„æƒ…å†µäº†ï¼‰\nåœ¨é¡¹ç›®æ–‡ä»¶çš„Supporting Filesä¸­çš„InfoPlist.stringsä¸­ï¼Œå³é”®(æˆ–command + N)\u0026ndash;\u0026gt;æ–°å»ºä¸€ä¸ªstringæ–‡ä»¶ã€‚\nï¼ˆå¦‚æœæ²¡æœ‰è¿™ä¸ªæ–‡ä»¶ï¼Œåœ¨xcode6ä¸­åˆ›å»ºï¼Œå¥½åƒæ²¡æœ‰çœ‹åˆ°ï¼Œå¯ä»¥è‡ªå·±åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œåå­—å¯ä»¥éšä¾¿å–ï¼Œåé¢ä¼šç»™ä¸€ä¸ªæ–¹æ³•ï¼Œè·å–è¿™ä¸ªæ–‡ä»¶çš„ã€‚ï¼‰ å¦‚å›¾1-1æ‰€ä»¥\nåˆ›å»ºå®Œæ–‡ä»¶ä¹‹åï¼Œç‚¹å‡»é¡¹ç›®â€”\u0026gt;é€‰æ‹©Projectâ€”\u0026gt;é€‰æ‹©Infoâ€”\u0026gt;ç‚¹å‡»â€œ+â€å·ã€‚ï¼ˆç”»çº¿éšè—ï¼‰ åœ¨å³ä¸‹æ–¹æœ‰ä¸ªLanguageçš„é€‰é¡¹ï¼Œé»˜è®¤è¿›æ¥æ˜¯åªæœ‰Englishçš„ï¼Œç‚¹å‡»+å·ä¹‹åå¯ä»¥çœ‹åˆ°å„ç§è¯­è¨€é€‰é¡¹\nåœ¨è¿™é‡Œé€‰æ‹©Chinese(Simplified)ã€‚ä¸‹é¢ä¼šå‡ºç°ä¸€ä¸ªé€‰é¡¹ï¼Œé€‰æ‹©InfoPlist.stringæ–‡ä»¶ï¼Œé‚£ä¸ªæ˜¯è¯­è¨€è®¾ç½®çš„ã€‚ï¼ˆå¦‚æœæ˜¯è‡ªå®šä¹‰çš„æ–‡ä»¶ï¼Œå°±é€‰æ‹©è‡ªå®šä¹‰çš„é‚£ä¸ªï¼‰\n//\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026ndash;\nåˆ°è¿™é‡Œï¼ŒåŸºæœ¬é…ç½®å°±å®Œæˆäº†ã€‚ç„¶ååé¢å°±æ˜¯è®¾ç½®éœ€è¦çš„å­—ç¬¦ï¼Œä»¥åŠè°ƒç”¨æ–¹æ³•äº†\nåœ¨ç›¸åº”çš„stringæ–‡ä»¶ä¸­ï¼Œå†™å…¥éœ€è¦çš„å­—ç¬¦ã€‚å‰é¢ç›¸å½“äºkeyã€‚åé¢æ˜¯valueã€‚\nCFBundleDisplayNameæ˜¯appçš„åå­—ï¼ŒæŠ€æœ¯ä¸å¤Ÿï¼Œæš‚æ—¶ä¸çŸ¥é“å¦‚ä½•æ‰‹åŠ¨åˆ‡æ¢è¯­è¨€ï¼Œæ”¹å˜æ¡Œé¢çš„åå­—ï¼Œè¿™ä¸€æ­¥ï¼Œåªæ˜¯æ ¹æ®ç³»ç»Ÿè¯­è¨€æ¥çš„ã€‚\nå¦‚æœé»˜è®¤æ ¹æ®ç³»ç»Ÿè¯­è¨€æ›´æ”¹è¯­è¨€ï¼Œé‚£ä¹ˆè°ƒç”¨çš„æ—¶å€™åªéœ€è¦NSLocalizedString(\u0026lt;#key#\u0026gt;, \u0026lt;#comment#\u0026gt;)ç”¨è¿™ä¸€å¥å°±å¯ä»¥äº†ã€‚å…¶ä»–çš„ä¸éœ€è¦åšå¤„ç†ã€‚\nå¦‚æœæ˜¯æƒ³è‡ªå®šä¹‰çš„è¯ï¼Œé‚£ä¹ˆéœ€è¦å†™ä¸€ä¸ªç±»ï¼š\n//.hå¤´æ–‡ä»¶ï¼š #import \u0026lt;Foundation/Foundation.h\u0026gt;\n@interface InternationalController : NSObject\n(NSBundle *)bundle; //è·å–å½“å‰èµ„æºæ–‡ä»¶ (void)initUserLanguage; //åˆå§‹åŒ–è¯­è¨€æ–‡ä»¶ (NSString *)userLanguage; //è·å–åº”ç”¨å½“å‰è¯­è¨€ (void)setUserLanguage:(NSString *)language; //è®¾ç½®å½“å‰è¯­è¨€ @end\n//.mç±»ä½“æ–‡ä»¶\n// // InternationalController.m // mworkingHaier // // Created by LaoTao on 14-10-20. // Copyright (c) 2014å¹´ CaiGaoBaDou. All rights reserved. //\n#import \u0026ldquo;InternationalController.h\u0026rdquo; #import \u0026lt;UIKit/UIKit.h\u0026gt;\n@implementation InternationalController\n//åˆ›å»ºé™æ€å˜é‡bundleï¼Œä»¥åŠè·å–æ–¹æ³•bundleï¼ˆæ­¤å¤„ä¸è¦ä½¿ç”¨getBundle). static NSBundle *bundle = nil;\n(NSBundle *)bundle { return bundle; } //åˆå§‹åŒ–æ–¹æ³•:\n(void)initUserLanguage { NSUserDefaults *def = [NSUserDefaults standardUserDefaults]; NSString *string = [def valueForKey:kLanguage];\nif (string.length == 0) { //è·å–ç³»ç»Ÿå½“å‰è¯­è¨€ç‰ˆæœ¬ï¼ˆä¸­æ–‡zh-Hans,è‹±æ–‡en) NSArray *languages = [def objectForKey:@\u0026ldquo;AppleLanguages\u0026rdquo;]; NSString *current =[languages objectAtIndex:0]; string = current; [def setValue:current forKey:kLanguage]; [def synchronize]; //æŒä¹…åŒ–ï¼Œä¸åŠ çš„è¯ä¸ä¼šä¿å­˜ }\n//è·å–æ–‡ä»¶è·¯å¾„ NSString *path = [[NSBundle mainBundle] pathForResource:string ofType:@\u0026ldquo;lproj\u0026rdquo;]; // NSLog(@\u0026quot;%@\u0026quot;,path); bundle = [NSBundle bundleWithPath:path]; //ç”Ÿæˆbundle }\n//è·å¾—å½“å‰è¯­è¨€çš„æ–¹æ³•\n(NSString *)userLanguage { NSUserDefaults *def = [NSUserDefaults standardUserDefaults]; NSString *language = [def valueForKey:kLanguage]; return language; } //è®¾ç½®è¯­è¨€\n(void)setUserLanguage:(NSString *)language { NSUserDefaults *def = [NSUserDefaults standardUserDefaults];\n//1.ç¬¬ä¸€æ­¥æ”¹å˜bundleçš„å€¼ NSString *path = [[NSBundle mainBundle] pathForResource:language ofType:@\u0026ldquo;lproj\u0026rdquo;]; bundle = [NSBundle bundleWithPath:path];\n//2.æŒä¹…åŒ– [def setValue:language forKey:kLanguage]; [def synchronize]; }\n@end\næŠŠ\u0026quot;InternationalController.h\u0026quot;è¿™ä¸ªåœ¨.pchæ–‡ä»¶ä¸­å¼•ç”¨ï¼Œè¿™æ ·å…¨å±€å°±éƒ½å¯ä»¥è°ƒç”¨äº†\nåœ¨AppDelegate.mçš„didFinishLaunchingWithOptionsæ–¹æ³•ä¸­ï¼ŒåŠ ä¸€å¥ï¼š\n[InternationalController initUserLanguage]; //åˆå§‹åŒ–åº”ç”¨è¯­è¨€\nç„¶åè®¾ç½®ä¸ªå…¨å±€çš„å®å˜é‡ï¼Œç³»ç»Ÿçš„æ˜¯NSLocalizedString.è¿™é‡Œå°±è®¾ç½®äº†LTlocalizedStringï¼ˆLTæ˜¯è€é™¶çš„é¦–å­—æ¯ï¼Œbeyond521tè¿™ä¸ªtåŒç†ï¼Œå˜¿å˜¿ï¼‰\nself.title = LTLocalizedString(@\u0026ldquo;TitleName\u0026rdquo;, nil);\nå¦‚æ­¤å°±å¯ä»¥ä½¿ç”¨äº†ã€‚åˆ‡æ¢è¯­è¨€ï¼Œè¯·çœ‹å¤´æ–‡ä»¶ï¼Œç›´æ¥æ–¹æ³•å + æ–¹æ³•ï¼Œä»¥åŠè¯­è¨€å°±OKäº†ã€‚\næ³¨ï¼šè‹±æ–‡åœ¨iOSä¸­ä¸º\u0026quot;en\u0026quot;,ç®€ä½“ä¸­æ–‡\u0026quot;zh-Hans\u0026quot;.\nåˆ‡æ¢è¯­è¨€åï¼šå¤„ç†æ–¹æ³•æ˜¯ï¼Œå†æ¬¡è·³è½¬åˆ°æ ¹è§†å›¾å³å¯ã€‚ï¼ˆæ›´å¤šå¤„ç†æ–¹å¼ï¼Œè¯·çœ‹æœ¬äººå¦ä¸€ç¯‡æ—¥å¿—ï¼Œæ ¹è§†å›¾å¤„ç†ï¼‰\n","date":"2016-05-25T17:26:36Z","permalink":"https://blog.iostao.com/2016/05/ios-multilanguage/","title":"iOSå¤šè¯­è¨€ï¼Œæ”¯æŒappå†…éƒ¨è®¾ç½®"},{"content":"æ ¹æ®è‹¹æœå¼€å‘è€…ç½‘ç«™çš„å£°æ˜ï¼Œå¤§éƒ¨åˆ†ç°æœ‰åº”ç”¨ç¨‹åºå·²ç»é€šè¿‡NSURLSessionå’ŒCFNetwork APIså…¼å®¹è¯¥åè®®ã€‚ä¾ç„¶ä½¿ç”¨IPv4 APIsçš„æˆ–è€…ç¡¬ä»¶ç¼–ç IPåœ°å€çš„å¼€å‘è€…å°†éœ€è¦æ‰‹å·¥è°ƒæ•´åº”ç”¨ä»£ç æ¥é€‚åº”è‹¹æœçš„æœ€æ–°ç­–ç•¥ã€‚\nIPv6æ¯”IPv4æ›´æœ‰æ•ˆï¼š é¿å…äº†ç½‘ç»œåœ°å€è½¬æ¢çš„éœ€è¦(NAT: Network Address Translation) é€šè¿‡ä½¿ç”¨ç®€å•çš„Headersï¼Œé€šè¿‡ç½‘ç»œæä¾›æ›´å¿«çš„è·¯ç”± é˜²æ­¢ç½‘ç»œç¢ç‰‡ Avoids broadcasting for neighbor address resolution ï¼ˆé¿å…å¹¿æ’­ \u0026hellip;.ï¼Œè¯·è‡ªè¡Œç¿»è¯‘å¥½äº†ï¼‰ DNS64/NAT64 è¿‡æ¸¡å·¥ä½œæµç¨‹ ä¸ºäº†å¸®åŠ©å‡ç¼“IPv4åœ°å€è€—å°½ï¼ŒNATåœ¨è®¸å¤šIPv4ç½‘ç»œå®ç°ã€‚è™½ç„¶è¿™ä¸ªè§£å†³æ–¹æ¡ˆæš‚æ—¶å·¥ä½œï¼Œå®ƒè¯æ˜äº†æ˜‚è´µå’Œè„†å¼±ã€‚ä»Šå¤©ï¼Œéšç€è¶Šæ¥è¶Šå¤šçš„å®¢æˆ·ä½¿ç”¨IPv6ï¼Œä¾›åº”å•†ç°åœ¨å¿…é¡»åŒæ—¶æ”¯æŒIPv4å’ŒIPv6ã€‚è¿™æ˜¯ä¸€ä¸ªä»£ä»·é«˜æ˜‚çš„åŠªåŠ›ã€‚ å›¾1-1èœ‚çªç½‘ç»œæä¾›ç‹¬ç«‹çš„IPv4å’ŒIPv6è¿æ¥ ç†æƒ³çš„æƒ…å†µä¸‹ï¼Œä¾›åº”å•†è¦é™ä¸ºIPv4ç½‘ç»œæ”¯æŒã€‚ç„¶è€Œï¼Œè¿™æ ·åšå¯ä»¥é˜²æ­¢å®¢æˆ·ç«¯è®¿é—®IPv4çš„æœåŠ¡å™¨ï¼Œè¿™æ˜¯äº’è”ç½‘çš„ä¸€ä¸ªé‡è¦éƒ¨åˆ†ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæœ€ä¸»è¦çš„ç½‘ç»œä¾›åº”å•†å®æ–½ DNS64/NAT64 è¿‡æ¸¡å·¥ä½œã€‚è¿™æ˜¯ä¸€ä¸ªçº¯IPv6ç½‘ç»œï¼Œç»§ç»­æä¾›è®¿é—®IPv4å†…å®¹é€šè¿‡ç¿»è¯‘ã€‚ å›¾1-2èœ‚çªç½‘ç»œçš„éƒ¨ç½²ä¸ DNS64 å’Œ NAT64 çš„IPv6ç½‘ç»œ åœ¨è¿™ç§ç±»å‹çš„å·¥ä½œæµä¸­ï¼Œå®¢æˆ·ç«¯å‘é€DNSæŸ¥è¯¢åˆ°DNS64æœåŠ¡å™¨ï¼Œå®ƒè¦æ±‚ä»DNSæœåŠ¡å™¨è·å– IPv6 åœ°å€ã€‚å½“ä¸€ä¸ªIPv6åœ°å€è¢«å‘ç°ï¼Œå®ƒä¼šç«‹å³ä¼ å›åˆ°å®¢æˆ·ç«¯ã€‚ç„¶è€Œï¼Œå½“æ²¡æœ‰æ‰¾åˆ°IPv6åœ°å€æ—¶ï¼ŒDNS64æœåŠ¡å™¨è¯·æ±‚ä¸€ä¸ªIPv4åœ°å€ä»£æ›¿ã€‚ç„¶åDNS64æœåŠ¡å™¨é€šè¿‡ä¸ºIPv4æ·»åŠ åœ°å€å‰ç¼€åˆæˆä¸€ä¸ªIPv6åœ°å€ï¼Œå¹¶ä¼ é€’å›å®¢æˆ·ç«¯ã€‚åœ¨è¿™æ–¹é¢ï¼Œå®¢æˆ·ç«¯æ€»æ˜¯æ”¶åˆ°ä¸€ä¸ªIPv6-readyåœ°å€ï¼ˆIn this regard, the client always receives an IPv6-ready address.æœ€åä¸€å¥åŸæ–‡ By è€é™¶2016-05-22 12:29:56ï¼‰ã€‚\nå›¾1-3å¤„ç†IPv4å‘IPv6çš„è½¬æ¢è¿‡ç¨‹ å½“å®¢æˆ·ç«¯åƒæœåŠ¡å™¨å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œä»»ä½•IPv6æ•°æ®åŒ…\nWhen the client sends a request to a server, any IPv6 packets destined for synthesized addresses are automatically routed by the network through a NAT64 gateway. The gateway performs the IPv6-to-IPv4 address and protocol translation for the request. It also performs the IPv4 to IPv6 translation for the response from the server. See Figure 1-4.\nå›¾1-4 DNS64/NAT64è¿‡æ¸¡æ–¹æ¡ˆå·¥ä½œæµç¨‹ IPv6 å’Œ App Store çš„è¦æ±‚ IPv6 DNS64/NAT64çš„ç½‘ç»œå…¼å®¹æ€§å¤„ç†å°†æˆä¸º App Store çš„ä¸€ä¸ªæäº¤è¦æ±‚ï¼Œæ‰€ä»¥åº”ç”¨ç¨‹åºå…¼å®¹æ€§ä¸å¯å°‘çš„ã€‚å¥½æ¶ˆæ¯æ˜¯å¤§éƒ¨åˆ†è½¯ä»¶éƒ½å…¼å®¹IPv6.å¯¹äºè¿™äº›åº”ç”¨ï¼Œå®šæœŸå›å½’æµ‹è¯•ä½ çš„åº”ç”¨ç¨‹åºä»ç„¶æ˜¯æœ‰å¿…è¦çš„ã€‚ä¸å…¼å®¹IPv6çš„åº”ç”¨åœ¨æ“ä½œDNS64/NAT64ç½‘ç»œæ—¶å¯èƒ½ä¼šé‡åˆ°é—®é¢˜ã€‚å¹¸è¿çš„æ˜¯ï¼Œè§£å†³è¿™äº›é—®é¢˜é€šå¸¸å¾ˆç®€å•ï¼Œå°±åƒæ˜¯æœ¬ç« èŠ‚æ‰€è®¨è®ºçš„ã€‚\næ”¯æŒIPv6çš„å¸¸è§é—®é¢˜ å‡ ç§é˜»æ­¢ä¸€ä¸ªåº”ç”¨æ”¯æŒIPv6çš„æƒ…å†µã€‚ä¸‹é¢çš„ç« èŠ‚æè¿°å¦‚ä½•è§£å†³è¿™äº›é—®é¢˜ã€‚\nåè®®ä¸­åŒ…å«IPåœ°å€çš„æ–‡å­—ã€‚ åœ¨é…ç½®æ–‡ä»¶ä¸­åŒ…å«IPåœ°å€ã€‚ ç½‘ç»œæ£€æµ‹ã€‚ ä½¿ç”¨åœ°çº§åˆ«çš„ç½‘ç»œAPI. Using small address family storage containers.ï¼ˆè¯·è‡ªè¡Œç¿»è¯‘ add By è€é™¶ 2016-05-22 15:15:36ï¼‰ æ­¤éƒ¨åˆ†åŸæ–‡ï¼š\nSeveral situations can prevent an app from supporting IPv6. The sections that follow describe how to resolve these problems. IP address literals embedded in protocols. Many communications protocols, such as Session Initiation Protocol (SIP), File Transfer Protocol (FTP), WebSockets, and Peer-to-Peer Protocol (P2PP), include IP address literals in protocol messages. For example, the FTP parameter commands DATA PORT and PASSIVE exchange information that includes IP address literals. Similarly, IP address literals may appear in the values of SIP header fields, such as To, From, Contact, Record-Route, and Via. See Use High-Level Networking Frameworks and Donâ€™t Use IP Address Literals. IP address literals embedded in configuration files. Configuration files often include IP address literals. See Donâ€™t Use IP Address Literals. Network preflighting. Many apps attempt to proactively check for an Internet connection or an active Wi-Fi connection by passing IP address literals to network reachability APIs. See Connect Without Preflight. Using low-level networking APIs. Some apps work directly with sockets and other raw network APIs such as gethostbyname, gethostbyname2, and inet_aton. These APIs are prone to misuse or they only support IPv4â€”for example, resolving hostnames for the AF_INET address family, rather than the AF_UNSPEC address family. See Use High-Level Networking Frameworks. Using small address family storage containers. Some apps and networking libraries use address storage containersâ€”such as uint32_t, in_addr, and sockaddr_inâ€”that are 32 bits or smaller. See Use Appropriately Sized Storage Containers. ç¡®ä¿IPv6 DNS64/NAT64å…¼å®¹æ€§ éµå¾ªä»¥ä¸‹çš„çŸ¥é“ä»¥ç¡®ä¿IPv6 DNS64/NAT64åœ¨ä½ çš„åº”ç”¨ç¨‹åºçš„å…¼å®¹æ€§ã€‚\nä½¿ç”¨é«˜çº§çš„ç½‘ç»œæ¡†æ¶ åº”ç”¨éœ€è¦å¯ä»¥å»ºç«‹åœ¨`é«˜çº§ç½‘ç»œæ¡†æ¶` æˆ– `ä½çº§POSIX socket APIç½‘ç»œæ¡†æ¶`ã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œé«˜å±‚æ¬¡æ¡†æ¶æ˜¯è¶³å¤Ÿçš„ã€‚å®ƒä»¬æœ‰èƒ½åŠ›ï¼Œæ˜“äºä½¿ç”¨ï¼Œç›¸æ¯”ä½çº§APIæ‹¥æœ‰æ›´å°‘çš„ç¼ºé™·ã€‚ å›¾ 1-5 ç½‘ç»œæ¡†æ¶å’ŒAPIå›¾ WebKit. This framework provides a set of classes for displaying web content in windows, and implements browser features such as following links, managing a back-forward list, and managing a history of pages recently visited. WebKit simplifies the complicated process of loading webpagesâ€”that is, asynchronously requesting web content from an HTTP server where the response may arrive incrementally, in random order, or partially due to network errors. For more information, see WebKit Framework Reference.\nCocoa URL loading system. This system is the easiest way to send and receive data over the network without providing an explicit IP address. Data is sent and received using one of several classesâ€”such as NSURLSession, NSURLRequest, and NSURLConnectionâ€”that work with NSURL objects. NSURL objects let your app manipulate URLs and the resources they reference. Create an NSURL object by calling the initWithString: method and passing it a URL specifier. Call the checkResourceIsReachableAndReturnError: method of the NSURL class to check the reachability of a host. For more information, see URL Session Programming Guide.\nCFNetwork. This Core Services framework provides a library of abstractions for network protocols, which makes it easy to perform a variety of network tasks such as working with BSD sockets, resolving DNS hosts, and working with HTTP/HTTPS. To target a host without an explicit IP address, call the CFHostCreateWithName method. To open a pair of TCP sockets to the host, call the CFStreamCreatePairWithSocketToCFHost method. For more information, see [CFNetwork Concepts](CFNetwork Concepts) in CFNetwork Programming Guide. If you do require the low-level socket APIs, follow the guidelines in RFC4038: Application Aspects of IPv6 Transition.\n","date":"2016-05-22T11:58:16Z","permalink":"https://blog.iostao.com/2016/05/ios-requireipv6/","title":"6 æœˆ 1 æ—¥èµ·æ‰€æœ‰æäº¤çš„ app éƒ½éœ€è¦æ”¯æŒ IPv6 ç½‘ç»œ"},{"content":"è‡ªä»Šå¹´6æœˆ1æ—¥å¼€å§‹ï¼Œæ‰€æœ‰æäº¤è‡³è‹¹æœApp Storeçš„åº”ç”¨ç”³è¯·å¿…é¡»è¦å…¼å®¹é¢å‘ç¡¬ä»¶è¯†åˆ«å’Œç½‘ç»œè·¯ç”±çš„æœ€æ–°äº’è”ç½‘åè®®\u0026ndash;IPv6-onlyæ ‡å‡†ã€‚åœ¨å»å¹´çš„å…¨çƒå¼€å‘è€…å¤§ä¼šä¸Šè‹¹æœå°±ç‡å…ˆå®£å¸ƒiOS9ä¼šå‘IPv6-onlyç½‘ç»œæœåŠ¡è¿‡æ¸¡ã€‚(Supporting IPv6 DNS64/NAT64 Networks)\nApple åœ¨è¿™é‡Œç»™å‡ºäº†é€‚é… IPv6 çš„æŒ‡å—\næ ¹æ®è‹¹æœå¼€å‘è€…ç½‘ç«™çš„å£°æ˜ï¼Œå¤§éƒ¨åˆ†ç°æœ‰åº”ç”¨ç¨‹åºå·²ç»é€šè¿‡NSURLSessionå’ŒCFNetwork APIså…¼å®¹è¯¥åè®®ã€‚ä¾ç„¶ä½¿ç”¨IPv4 APIsçš„æˆ–è€…ç¡¬ä»¶ç¼–ç IPåœ°å€çš„å¼€å‘è€…å°†éœ€è¦æ‰‹å·¥è°ƒæ•´åº”ç”¨ä»£ç æ¥é€‚åº”è‹¹æœçš„æœ€æ–°ç­–ç•¥ã€‚\néšç€IPv4åœ°å€ç”¨å®Œï¼Œè½¬ç§»åˆ°åœ°å€æ›´ä¸°å¯Œçš„IPv6åè®®æ­£åœ¨å˜å¾—è¶Šæ¥è¶Šé‡è¦ã€‚å¯¹äºè‹¹æœæ¥è¯´ï¼Œåˆ‡æ¢è‡³IPv6èƒ½å¤Ÿå¸¦æ¥æ›´å¹¿æ³›çš„è¡Œä¸šæ¥å—åè®®ï¼Œå°¤å…¶æ˜¯é‚£äº›è´Ÿè´£é”€å”®iPhoneå’ŒiPadçš„ç½‘ç»œè¿è¥å•†ä»¬ã€‚æ­¤å¤–ä¼´éšç‰©è”ç½‘çš„è¿…é€Ÿæ™®åŠï¼Œèƒ½å¤ŸåŠ é€Ÿæ™ºèƒ½æ‰‹æœºçš„è¿…çŒ›å‘å±•ã€‚\nå…¶å®æ—©åœ¨2012å¹´6æœˆçš„IPv6æ—¥ï¼Œä¸–ç•ŒèŒƒå›´å†…å°±å¼€å§‹å…¨é¢å¯åŠ¨IPv6ã€‚åœ¨ä¸­å›½ï¼Œç§»åŠ¨ã€è”é€šå’Œç”µä¿¡å¤§èŒƒå›´å¼€å±•ç°ç½‘IPv6è¯•ç‚¹ã€‚éšç€IPv6ç ”ç©¶å·¥ä½œå’Œå®é™…éƒ¨ç½²çš„ä¸æ–­å¼€å±•ï¼Œç½‘ç»œè¿Ÿæ—©ä¼šè¿›å…¥çº¯IPv6ï¼ˆIPv6-onlyï¼‰çš„æ—¶ä»£ã€‚ç›®å‰å¾ˆå¤šçš„èµ„æºè¿˜åœ¨IPv4ç¯å¢ƒä¸­ï¼Œå› æ­¤IPv6å’ŒIPv4ç½‘ç»œä¹‹é—´çš„äº’é€šå°¤ä¸ºé‡è¦ã€‚\nè‹¹æœè¿™ä¹ˆæ€¥ç€è¿›å…¥IPv6-onlyç½‘ç»œé¢†åŸŸï¼Œä¼°è®¡æ˜¯æƒ³æ”¹å˜ä¸€ä¸‹å¦‚ä»Šçš„ç¯å¢ƒï¼Œæ›´å¥½çš„æ”¯æŒä¸‹ä¸€ä»£çš„è‹¹æœäº§å“å’Œç³»ç»Ÿã€‚ åœ¨æ­¤ä¹‹å‰ï¼Œè‹¹æœæ›¾åœ¨WWDC2015å°±ç‡å…ˆå®£å¸ƒiOS9ä¼šå‘IPv6-onlyç½‘ç»œæœåŠ¡è¿‡æ¸¡ï¼Œéšç€IPv4åœ°å€ç”¨å®Œï¼Œè½¬ç§»åˆ°åœ°å€æ›´ä¸°å¯Œçš„IPv6åè®®ä¹Ÿæ˜¯å¤§åŠ¿æ‰€è¶‹ã€‚\n","date":"2016-05-05T13:50:19Z","permalink":"https://blog.iostao.com/2016/05/ios-require-allappipv6-only/","title":"è‹¹æœ:æ‰€æœ‰åº”ç”¨å¿…é¡»æ”¯æŒIPv6-onlyç½‘ç»œ"},{"content":"ç‚¹å‡»ä¸‹è½½ä»£ç \nå¤šè®¾å¤‡å…¶å®å’Œå•è®¾å¤‡å¹¶æ²¡æœ‰ä»€ä¹ˆå¤ªå¤§çš„å˜åŒ–ã€‚è‡³å°‘åˆçº§å†™çš„æ—¶å€™ï¼Œåªæ˜¯ä»£ç é‡å¤šäº†ä¸€äº›ã€‚ä½†æ˜¯åé¢å„ç§çŠ¶æ€è¿˜æœ‰ä»£ç çš„ä¼˜åŒ–å·¥ä½œæŒºå¤šã€‚\n@interface CentralManager ()\u0026lt;CBCentralManagerDelegate, CBPeripheralDelegate,CentralManagerDelegate\u0026gt; { /** è¿™é‡Œåªåšå¤šè®¾å¤‡ç®€å•ä»‹ç»ã€‚å¦‚æœè®¾å¤‡å¾ˆå¤šï¼Œæˆ–è€…è®¾å¤‡ä¸å›ºå®šï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨æ•°ç»„ç­‰è¿›è¡Œä¼˜åŒ– */ CBPeripheral *_devicePeripheral; //ç¡¬ä»¶è®¾å¤‡ (è®¾å¤‡1) CBPeripheral *_wristbandPeripheral; //æ‰‹ç¯è®¾å¤‡ (è®¾å¤‡2)\nCBCharacteristic *_deviceCharacteristic; //ç¡¬ä»¶è®¾å¤‡æœåŠ¡ç‰¹å¾ ï¼ˆç”¨æ¥å‘é€æŒ‡ä»¤ï¼‰ CBCharacteristic *_wristbandCharacteristic; //æ‰‹ç¯è®¾å¤‡æœåŠ¡ç‰¹å¾ (å‘é€æŒ‡ä»¤ï¼Œç”¨æ¥å’Œæ‰‹ç¯è¿›è¡Œæ•°æ®äº¤æ¢ï¼Œè¯»å–æ‰‹ç¯æ•°æ®ç­‰) //è“ç‰™ç®¡ç†ç±»ï¼Œè¿™å°±æ˜¯è“ç‰™Bosså‘€ï¼Œæ²¡æœ‰ä»–ï¼Œä½ å°±åˆ«æƒ³åšè“ç‰™ CBCentralManager *_manager; } è¿™é‡Œæ·»åŠ äº†ä¸¤ä¸ª CBPeripheral *æˆå‘˜å˜é‡ã€‚ æ¯ä¸€ä¸ª CBPeripheralå¯¹åº”ä¸€ä¸ªç¡¬ä»¶è®¾å¤‡ï¼Œå¦‚æœç¡¬ä»¶è¿‡å¤šï¼Œå»ºè®®ä½¿ç”¨æ•°ç»„è¿›è¡Œä¼˜åŒ–ã€‚ å¦‚æœåªæ˜¯ä¸¤ä¸ªè®¾å¤‡å€’è¿˜ä¸ä¼šæœ‰å½±å“ã€‚å¦å¤–å»ºè®®ä½¿ç”¨swiftï¼Œåšèµ·æ¥ä¼šæ›´å¿«é€Ÿä¸€äº›ã€‚\n#pragma mark - \u0026raquo; å‘ç°è“ç‰™è®¾å¤‡\n- (void)centralManager:(CBCentralManager *)central didDiscoverPeripheral:(CBPeripheral *)peripheral advertisementData:(NSDictionary\u0026lt;NSString *,id\u0026gt; *)advertisementData RSSI:(NSNumber *)RSSI { if (!peripheral.name) { return; } //è¿æ¥è®¾å¤‡å¯ä»¥æ ¹æ®éœ€æ±‚ï¼Œå†™åˆ°ä¸¤ä¸ªæ–¹æ³•é‡Œé¢ï¼Œå¯ä»¥æ ¹æ®ç‚¹å‡»æ“ä½œåˆ†åˆ«è¿æ¥ä¸åŒçš„è®¾å¤‡ã€‚ æˆ‘è¿™é‡Œæ˜¯ç›´æ¥è¿›è¡Œäº†åŒæ—¶è¿æ¥ //é‡Œé¢çš„å­—ç¬¦ä¸²æ˜¯ç¡¬ä»¶è®¾å¤‡çš„åç§°ã€‚ ä¹Ÿå¯ä»¥æ ¹æ® å¹¿æ’­ç­‰å†…å®¹è¿›è¡Œåˆ¤æ–­è¿æ¥ //è¿æ¥ç¡¬ä»¶è®¾å¤‡ if ([peripheral.name rangeOfString:@\u0026quot;Device\u0026quot;].location != NSNotFound) { [_manager connectPeripheral:peripheral options:@{CBCentralManagerScanOptionAllowDuplicatesKey:[NSNumber numberWithBool:NO]}]; } //è¿æ¥æ‰‹ç¯è®¾å¤‡ if ([peripheral.name rangeOfString:@\u0026quot;wristband\u0026quot;].location != NSNotFound) { [_manager connectPeripheral:peripheral options:@{CBCentralManagerScanOptionAllowDuplicatesKey:[NSNumber numberWithBool:NO]}]; } } #pragma mark - \u0026raquo; è¿æ¥æˆåŠŸ\n- (void)centralManager:(CBCentralManager *)central didConnectPeripheral:(CBPeripheral *)peripheral { NSLog(@\u0026quot;è¿æ¥æˆåŠŸ:%@\u0026quot;, peripheral.name); if (_devicePeripheral == peripheral) { _deviceBleState = BleManagerStateConnect; _devicePeripheral = peripheral; }else if (_wristbandPeripheral == peripheral) { _wristbandBleState = BleManagerStateConnect; _wristbandPeripheral = peripheral; } for (id listener in _listener) { if ([listener respondsToSelector:@selector(didConnectDevicePeripheral:)]) { [listener didConnectDevicePeripheral:peripheral]; } } /* 1ã€è¿æ¥æˆåŠŸ 2ã€å‘ç°æœåŠ¡ 3ã€å‘ç°ç‰¹å¾å€¼ 4ã€ç‰¹å¾å€¼ æ˜¯ç”¨æ¥ å’Œè“ç‰™è®¾å¤‡åšäº¤äº’ä½¿ç”¨çš„ã€‚å¦‚è®¾ç½®è®¾å¤‡æ—¶é—´ï¼Œæˆ–è€…è¯»å–è®¾å¤‡æ•°æ®ã€‚è®¾ç½®é€šçŸ¥ç­‰ */ //å› ä¸ºåœ¨åé¢æˆ‘ä»¬è¦ä»å¤–è®¾è“ç‰™é‚£è¾¹å†è·å–ä¸€äº›ä¿¡æ¯ï¼Œå¹¶ä¸ä¹‹é€šè®¯ï¼Œè¿™äº›è¿‡ç¨‹ä¼šæœ‰ä¸€äº›äº‹ä»¶å¯èƒ½è¦å¤„ç†ï¼Œæ‰€ä»¥è¦ç»™è¿™ä¸ªå¤–è®¾è®¾ç½®ä»£ç† peripheral.delegate = self; //æ‰¾åˆ°è¯¥è®¾å¤‡ä¸Šçš„æŒ‡å®šæœåŠ¡ è°ƒç”¨å®Œè¯¥æ–¹æ³•åä¼šè°ƒç”¨ä»£ç†CBPeripheralDelegateï¼ˆç°åœ¨å¼€å§‹è°ƒç”¨å¦ä¸€ä¸ªä»£ç†çš„æ–¹æ³•äº†ï¼‰ // [peripheral discoverServices:@[[CBUUID UUIDWithString:UUID_DEVICE_SERVER_0]]]; // [peripheral discoverServices:@[[CBUUID UUIDWithString:@\u0026quot;7480\u0026quot;]]]; [peripheral discoverServices:nil]; //å‘ç°æœåŠ¡ } #pragma mark - \u0026raquo; CBPeripheralDelegate #pragma mark - \u0026raquo; å‘ç°æœåŠ¡\n- (void)peripheral:(CBPeripheral *)peripheral didDiscoverServices:(NSError *)error { if (error == nil) { NSLog(@\u0026quot;å‘ç°æœåŠ¡\u0026quot;); for (CBService *service in peripheral.services) { NSLog(@\u0026quot;æœåŠ¡:%@\u0026quot;, service); //å‘ç°æœåŠ¡ï¼Œç„¶åå»æŸ¥æ‰¾è¯¥æœåŠ¡çš„ç‰¹å¾å€¼ ,ç„¶åè¯·è½¬åˆ°ä¸‹é¢çš„é‚£ä¸ªä»£ç†æ–¹æ³• [peripheral discoverCharacteristics:nil forService:service]; // if ([service.UUID isEqual:[CBUUID UUIDWithString:UUID_DEVICE_SERVER_0]]) { // //æŸ¥è¯¢æœåŠ¡æ‰€å¸¦çš„ç‰¹å¾å€¼ // // [peripheral discoverCharacteristics:@[[CBUUID UUIDWithString:@\u0026quot;FFE0\u0026quot;]] forService:service]; // [peripheral discoverCharacteristics:nil forService:service]; // } } } } #pragma mark - \u0026raquo; å‘ç°ç‰¹å¾å€¼\n(void)peripheral:(CBPeripheral *)peripheral didDiscoverCharacteristicsForService:(CBService *)service error:(NSError *)error { NSLog(@\u0026quot;\u0026mdash;\u0026ndash;å‘ç°ç‰¹å¾å€¼\u0026quot;); //åœ¨è¿™é‡Œç»™ è“ç‰™è®¾å¤‡å†™æ•°æ®ï¼Œ æˆ–è€…å°† peripheral å’Œ characteristic æ‹¿å‡ºå»ï¼Œå¯ä»¥åœ¨å…¶ä»–åœ°æ–¹ï¼Œå‘é€å‘½ä»¤ if (error == nil) { for (CBCharacteristic *characteristic in service.characteristics) {\nNSLog(@\u0026quot;å‘ç°ç‰¹å¾å€¼:%@\u0026quot;, characteristic); //è¿™é‡Œåªå†™äº† devicePeripheral çš„ç‰¹å¾å€¼ã€‚ æ‰‹ç¯çš„ æ–¹æ³•åŒç†ï¼Œä»£ç å‡ ä¹ä¸€æ · if (_devicePeripheral == peripheral) { [peripheral setNotifyValue:YES forCharacteristic:characteristic]; //ä»¥ä¸‹å®å®šä¹‰çš„UUID è¯·æ ¹æ®è‡ªå·±å½“å‰çš„ç¡¬ä»¶è®¾å¤‡åšè°ƒæ•´ã€‚ ä¸åŒçš„è®¾å¤‡ä¼šæœ‰ä¸åŒçš„å®šä¹‰ã€‚ //å¦å¤–ï¼Œè¯»å†™çš„ï¼Œä¹Ÿä¼šçš„ä¹Ÿä¼šä¸åŒã€‚ å¯ä»¥ä½¿ç”¨ ç¬¬ä¸‰æ–¹è“ç‰™å·¥å…·ï¼Œè¿›è¡Œè®¾å¤‡ä¸Šçš„æœåŠ¡å’Œç‰¹å¾å€¼æŸ¥çœ‹ä¸€ä¸‹ã€‚ //æˆ–è€…æ˜¯ç›´æ¥å‚é˜… è´µå…¬å¸çš„è“ç‰™è®¾å¤‡ åè®®æ–‡æ¡£ if ([characteristic.UUID isEqual:[CBUUID UUIDWithString:UUID_DEVICE_SERVER_1]]) { //å¦‚æœæ˜¯æŒ‡å®šçš„ç‰¹å¾å€¼ï¼Œè®¾ç½®NotifyValue [peripheral setNotifyValue:YES forCharacteristic:characteristic]; }else if ([characteristic.UUID isEqual:[CBUUID UUIDWithString:UUID_DEVICE_SERVER_2]]) { _deviceCharacteristic = characteristic; for (id listener in _listener) { if ([listener respondsToSelector:@selector(didDiscoverDevicePeripheral:service:)]) { [listener didDiscoverDevicePeripheral:peripheral service:service]; } } } }else if (_wristbandPeripheral == peripheral) { } } } }\n#pragma mark - \u0026raquo; å¦‚æœä¸€ä¸ªç‰¹å¾çš„å€¼è¢«æ›´æ–°ï¼Œç„¶åå‘¨è¾¹ä»£ç†æ¥æ”¶\n- (void)peripheral:(CBPeripheral *)peripheral didUpdateNotificationStateForCharacteristic:(CBCharacteristic *)characteristic error:(NSError *)error { } #pragma mark - \u0026raquo; è¯»æ•°æ®\n//è¿™é‡Œæ˜¯æ¥æ”¶åˆ°è“ç‰™æ•°æ®ã€‚ ä½†æ˜¯è“ç‰™æ•°æ®éƒ½æ˜¯ä¸€å † 16è¿›åˆ¶æ•°æ®ï¼Œéœ€è¦æ ¹æ®åè®®å»è§£æ //æ•°æ®åè®®ï¼Œè¯·å‚é˜…åè®®æ–‡æ¡£ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå°±å»æ‰¾å§ã€‚ - (void)peripheral:(CBPeripheral *)peripheral didUpdateValueForCharacteristic:(CBCharacteristic *)characteristic error:(NSError *)error { NSLog(@\u0026quot;æ¥æ”¶åˆ°æ•°æ®:%@,%@\u0026quot;, peripheral.name, characteristic.value); } - (void)peripheral:(CBPeripheral *)peripheral didWriteValueForCharacteristic:(CBCharacteristic *)characteristic error:(NSError *)error { NSLog(@\u0026quot;did write value For Characteristic\u0026quot;); NSLog(@\u0026quot;%@\u0026quot;, characteristic.value); } - (void)peripheral:(CBPeripheral *)peripheral didWriteValueForDescriptor:(CBDescriptor *)descriptor error:(NSError *)error { NSLog(@\u0026quot;did Write Value For Descriptor\u0026quot;); } ","date":"2016-04-30T16:51:37Z","permalink":"https://blog.iostao.com/2016/04/ios-bledevelopmultidevice/","title":"iOS-BLEè“ç‰™å¼€å‘(äºŒ) -- å¤šè®¾å¤‡"},{"content":"iOSå¼€å‘è“ç‰™å…¥é—¨ ç®€å•æ¥è¯´ï¼ŒiOSè“ç‰™å°±æ˜¯æœ‰ä¸€ä¸ªä¸­å¿ƒè§’è‰²ï¼ˆå¯ä»¥ç†è§£ä¸ºç®¡ç†è“ç‰™çš„ä¸€ä¸ªå¯¹è±¡ CBCentralManagerï¼‰ å°±åƒæ˜¯åˆ›å»ºUITableViewä¸€æ ·ï¼Œéœ€è¦å…ˆåˆå§‹åŒ– ä¸­å¿ƒè§’è‰²(CBCentralManager) æ—¢ç„¶å­˜åœ¨äº†è“ç‰™ç®¡ç†å¯¹è±¡ï¼Œé‚£ä¹ˆæƒ³è¦è¿æ¥è“ç‰™ï¼Œä¸€èˆ¬éƒ½æ˜¯å…ˆå»æœç´¢è®¾å¤‡ã€‚æ‰€ä»¥ä¸‹ä¸€æ­¥ï¼Œæœç´¢è®¾å¤‡ï¼ˆæš‚æ—¶ä¸è¦çœ‹ä»£ç ï¼Œå…ˆæŠŠæ€è·¯ç†æ¸…æ¥šã€‚ä¸‹é¢æ˜¯ä»£ç ï¼Œä¼šæŒ‰ç…§è¿™ä¸ªæ€è·¯å†èµ°ä¸€éï¼‰\næœç´¢åˆ°ä¸€ä¸ªè®¾å¤‡ - didDiscoverPeripheral\nä½ å°±ä¼šåœ¨delegateæ–¹æ³•ä¸­ï¼Œå¾—åˆ°è¿™ä¸ªè®¾å¤‡ã€‚ç„¶ååˆ¤æ–­ï¼Œå¦‚æœè¿™ä¸ªè®¾ç½®æ˜¯ä½ éœ€è¦çš„ï¼Œé‚£ä¹ˆå°±è¿›è¡Œè¿æ¥ã€‚å¦‚æœæ²¡æœ‰ç‰¹åˆ«æƒ…å†µï¼Œè¿™é‡Œæœ€å¥½æ˜¯åœæ­¢è®¾å¤‡æœç´¢ï¼Œå› ä¸ºä½ å·²ç»æ‰¾åˆ°å®ƒäº†ã€‚\nè¿æ¥è‡ªç„¶ä¼šæœ‰ä¸¤ä¸ªç»“æœï¼Œæ‰€ä»¥å¯¹åº”ä¸¤ä¸ªä»£ç†æ–¹æ³•\nè¿æ¥æˆåŠŸ\tdidConnectPeripheral è¿æ¥å¤±è´¥\tdidFailToConnectPeripheral è¿æ¥æˆåŠŸ åœ¨è¿™é‡Œå»æœç´¢æœåŠ¡ï¼ŒæœåŠ¡é‡Œä¼šæœ‰ç‰¹å¾å€¼ã€‚ç‰¹å¾å€¼ï¼Œæ˜¯ç”¨æ¥å’Œè“ç‰™è®¾å¤‡ï¼Œåšè¯»å†™å‘½ä»¤äº¤äº’ç”¨çš„ã€‚\nå‘ç°æœåŠ¡ - didDiscoverServices å‘ç°åˆ°æœåŠ¡ï¼Œç„¶åå»æŸ¥æ‰¾è¿™ä¸ªæœåŠ¡ä¸­çš„ç‰¹å¾å€¼\nå‘ç°ç‰¹å¾å€¼ - didDiscoverCharacteristicsForService è¿™é‡Œå»è®¾ç½®è¯»å†™æ•°æ®ã€‚æˆ–è€…æ˜¯æŠŠç‰¹å¾å€¼ï¼Œåšä¸€ä¸ªæˆå‘˜å˜é‡æ¥æ”¶ï¼Œè¿™æ ·å°±å¯ä»¥ï¼Œé€‰æ‹©ä»€ä¹ˆæ—¶åˆ»å‘é€å‘½ä»¤äº†ã€‚\nè·å–åˆ°è“ç‰™è®¾å¤‡å‘é€è¿‡æ¥çš„æ•°æ® - didUpdateValueForCharacteristic è“ç‰™æ•°æ®ä¸€èˆ¬ä¸ºä¸€å †16è¿›åˆ¶æ•°æ®ï¼Œç„¶åè‡ªå·±æ ¹æ®åè®®å»è§£æå°±å¥½äº†ã€‚\næ€»ç»“ä¸­å¿ƒæ¨¡å¼çš„ç”¨æ³• å¼•å…¥CoreBluetooth.framework å¼•å…¥è“ç‰™åè®®ï¼Œå¦‚ @protocol CBCentralManagerDelegate; @protocol CBPeripheralDelegate; åˆ›å»º CBCentralManager //å®šä¹‰ä¸€ä¸ªä¸­å¿ƒè§’è‰²å¯¹è±¡ @property (strong, nonatomic) CBCentralManager *centralManager; //å»ºç«‹ä¸­å¿ƒè§’è‰² _centralManager = [[CBCentralManager alloc] initWithDelegate:self queue:nil]; //æœç´¢è“ç‰™è®¾å¤‡ [_centralManager scanForPeripheralsWithServices:nil options:@{CBCentralManagerScanOptionAllowDuplicatesKey:[NSNumber numberWithBool:NO]}]; //å‘ç°è“ç‰™è®¾å¤‡ - ä»£ç†æ–¹æ³• - (void)centralManager:(CBCentralManager *)central didDiscoverPeripheral:(CBPeripheral *)peripheral advertisementData:(NSDictionary\u0026lt;NSString *,id\u0026gt; *)advertisementData RSSI:(NSNumber *)RSSI { //è¿™é‡Œperipheral å°±æ˜¯æœç´¢åˆ°çš„è“ç‰™è®¾å¤‡å¯¹è±¡äº†ã€‚ //advertisementData æ˜¯å¹¿æ’­æ¶ˆæ¯ã€‚ //RSSI ä¿¡å·å¼ºåº¦ //è¿™é‡Œåå­— æˆ‘éšä¾¿å†™çš„ã€‚å¯ä»¥æ ¹æ®éœ€æ±‚ï¼Œæ¥ä½œåˆ¤æ–­ã€‚æ¯”å¦‚åˆ©ç”¨å¹¿æ’­åˆ¤æ–­ if ([peripheral.name isEqualToString:@\u0026quot;å°ç±³æ‰‹ç¯\u0026quot;]) { //è¿æ¥è®¾å¤‡ ï¼Œ è¿™é‡Œä¼šæœ‰ è¿æ¥æˆåŠŸï¼Œ å’Œ è¿æ¥å¤±è´¥ä¸¤ä¸ªä»£ç†æ–¹æ³• [_manager connectPeripheral:peripheral options:@{CBCentralManagerScanOptionAllowDuplicatesKey:[NSNumber numberWithBool:NO]}]; } } #pragma mark - \u0026gt;\u0026gt; è¿æ¥æˆåŠŸ - (void)centralManager:(CBCentralManager *)central didConnectPeripheral:(CBPeripheral *)peripheral { [_centralManager stopScan]; //åœæ­¢æ‰«æ //å› ä¸ºåœ¨åé¢æˆ‘ä»¬è¦ä»å¤–è®¾è“ç‰™é‚£è¾¹å†è·å–ä¸€äº›ä¿¡æ¯ï¼Œå¹¶ä¸ä¹‹é€šè®¯ï¼Œè¿™äº›è¿‡ç¨‹ä¼šæœ‰ä¸€äº›äº‹ä»¶å¯èƒ½è¦å¤„ç†ï¼Œæ‰€ä»¥è¦ç»™è¿™ä¸ªå¤–è®¾è®¾ç½®ä»£ç† peripheral.delegate = self; //æ‰¾åˆ°è¯¥è®¾å¤‡ä¸Šçš„æŒ‡å®šæœåŠ¡ è°ƒç”¨å®Œè¯¥æ–¹æ³•åä¼šè°ƒç”¨ä»£ç†CBPeripheralDelegateï¼ˆç°åœ¨å¼€å§‹è°ƒç”¨å¦ä¸€ä¸ªä»£ç†çš„æ–¹æ³•äº†ï¼‰ // [peripheral discoverServices:@[[CBUUID UUIDWithString:@\u0026quot;7480\u0026quot;]]]; //è¿™ä¸ªæ˜¯å‘ç°æ‰€æœ‰æœåŠ¡ï¼Œ ä¸Šé¢çš„æ˜¯å‘ç°æŒ‡å®šæœåŠ¡ [peripheral discoverServices:nil]; } #pragma mark - \u0026gt;\u0026gt; CBPeripheralDelegate #pragma mark - \u0026gt;\u0026gt; å‘ç°æœåŠ¡ - (void)peripheral:(CBPeripheral *)peripheral didDiscoverServices:(NSError *)error { if (error == nil) { NSLog(@\u0026quot;å‘ç°æœåŠ¡\u0026quot;); for (CBService *service in peripheral.services) { NSLog(@\u0026quot;æœåŠ¡:%@\u0026quot;, service); //è®¾å¤‡ å‘ç°æ‰€æœ‰ç‰¹å¾ [peripheral discoverCharacteristics:nil forService:service]; //ä¸‹é¢ä»£ç ï¼Œæ˜¯ç”¨æ¥æŸ¥æ‰¾ç‰¹å®šæœåŠ¡çš„ ç‰¹å¾ï¼Œå¦‚æœèƒ½ç¡®å®šåªç”¨å“ªä¸ªæœåŠ¡çš„ï¼Œå°±å¯ä»¥ç”¨ä¸‹é¢çš„æ–¹æ³• //if ([service.UUID isEqual:[CBUUID UUIDWithString:UUID_DEVICE_SERVER_0]]) { //æŸ¥è¯¢æœåŠ¡æ‰€å¸¦çš„ç‰¹å¾å€¼ //[peripheral discoverCharacteristics:@[[CBUUID UUIDWithString:@\u0026quot;FFE0\u0026quot;]] forService:service]; //[peripheral discoverCharacteristics:nil forService:service]; // } } } #pragma mark - \u0026gt;\u0026gt; å‘ç°ç‰¹å¾å€¼ - (void)peripheral:(CBPeripheral *)peripheral didDiscoverCharacteristicsForService:(CBService *)service error:(NSError *)error { if (error == nil) { for (CBCharacteristic *characteristic in service.characteristics) { NSLog(@\u0026quot;å‘ç°ç‰¹å¾å€¼:%@\u0026quot;, characteristic); //è¿™ä¸ªFFE1æ˜¯æˆ‘éšä¾¿å†™çš„ã€‚éœ€è¦æ ¹æ®ä½ ä»¬è‡ªå·±çš„ç¡¬ä»¶ç»™çš„æ¥å¡«å†™. if ([characteristic.UUID isEqual:[CBUUID UUIDWithString:@\u0026quot;FFE1\u0026quot;]]) { //æˆ‘çš„è¿™ä¸ªç‰¹å¾æ˜¯ç”¨æ¥è¯»å–æ•°æ®çš„ã€‚è¿™é‡Œè®¾ç½®é€šçŸ¥ [peripheral setNotifyValue:YES forCharacteristic:characteristic]; }else if ([characteristic.UUID isEqual:[CBUUID UUIDWithString:UUID_DEVICE_SERVER_2]]) { //ç»™è“ç‰™è®¾å¤‡å‘é€æ•°æ®ï¼Œ å†™æ•°æ® [peripheral writeValue:(NSData *) forCharacteristic:characteristic type:CBCharacteristicWriteWithoutResponse]; } } } }","date":"2016-04-28T16:41:43Z","permalink":"https://blog.iostao.com/2016/04/ios-bledevelop/","title":"iOS-BLEè“ç‰™å¼€å‘"},{"content":"let insets = UIEdgeInsetsMake(30, 0, 10, 0) //top: CGFloat, _ left: CGFloat, _ bottom: CGFloat, _ right: CGFloat å…¶ä¸­Insetsè¿™ä¸ªå‚æ•°çš„æ ¼å¼æ˜¯ (top, left, bottom, right)ï¼Œä»ä¸Šã€å·¦ã€ä¸‹ã€å³åˆ†åˆ«åœ¨å›¾ç‰‡ä¸Šç”»äº†ä¸€é“çº¿ï¼Œè¿™æ ·å°±ç»™ä¸€ä¸ªå›¾ç‰‡åŠ äº†ä¸€ä¸ªæ¡†ã€‚\nåªæœ‰åœ¨æ¡†é‡Œé¢çš„éƒ¨åˆ†æ‰ä¼šè¢«æ‹‰ä¼¸ï¼Œè€Œæ¡†å¤–é¢çš„éƒ¨åˆ†åˆ™ä¸ä¼šæ”¹å˜ã€‚ 4ä¸ªå‚æ•°æ˜¯ä¸Šè¾¹ç•Œï¼Œå·¦è¾¹ç•Œï¼Œä¸‹è¾¹ç•Œï¼Œå³è¾¹ç•Œè·ç¦»ï¼Œä¹Ÿå¯ä»¥ä¸ºè´Ÿå€¼ã€‚\nlet image = UIImage(named: \u0026quot;icon.png\u0026quot;) //iOS5ä¹‹å‰ï¼Œç«¯ç›–(end cap)æ¦‚å¿µï¼Œç”¨æ¥æŒ‡å®šå›¾ç‰‡ä¸­çš„å“ªä¸€éƒ¨åˆ†ä¸ç”¨æ‹‰ä¼¸ã€‚ä¸Šä¸‹å·¦å³ä¸éœ€è¦è¢«æ‹‰ä¼¸çš„è¾¹ç¼˜å°±ç§°ä¸ºç«¯ç›–ã€‚\n//iOS5 + æ–¹æ³• bodyImage.image = image?.resizableImageWithCapInsets(insets) //iOS6 + æ–¹æ³• bodyImage.image = image?.resizableImageWithCapInsets(insets, resizingMode: UIImageResizingMode.Stretch) resizingMode ç”¨æ¥æŒ‡å®šæ‹‰ä¼¸æ¨¡å¼: UIImageResizingMode.Stretch æ‹‰ä¼¸æ¨¡å¼ï¼Œé€šè¿‡æ‹‰ä¼¸UIEdgeInsetsæŒ‡å®šçš„çŸ©å½¢åŒºåŸŸæ¥å¡«å……å›¾ç‰‡ UIImageResizingMode.Tile å¹³é“ºæ¨¡å¼ï¼Œé€šè¿‡é‡å¤æ˜¾ç¤ºUIEdgeInsetsæŒ‡å®šçš„çŸ©å½¢åŒºåŸŸæ¥å¡«å……å›¾ç‰‡ ","date":"2016-04-27T10:53:54Z","permalink":"https://blog.iostao.com/2016/04/uiimage-resizableimagewithcapinsets/","title":"UIImage æ‹‰ä¼¸å›¾ç‰‡ resizableImageWithCapInsets"},{"content":"OSI/RM (Open Systems Interconnection Reference Model) å¼€å‘ç³»ç»Ÿäº’è¿åŸºæœ¬å‚è€ƒæ¨¡å‹\nåº”ç”¨å±‚ Application layer è¡¨ç¤ºå±‚ Presentation layer ä¼šè¯å±‚ Session layer ä¼ è¾“å±‚ Transport layer ç½‘ç»œå±‚ Network layer æ•°æ®é“¾è·¯å±‚ Data link layer ç‰©ç†å±‚ Physical layer ç”¨å›¾è¯´è¯\n","date":"2016-03-23T07:17:48Z","permalink":"https://blog.iostao.com/2016/03/aps-osi_tcp-ip/","title":"OSIã€TCP/IP"},{"content":"è®¡ç®—æœºä¸“ä¸šè¯æ±‡ reuse é‡ç”¨ï¼Œå¤ç”¨ recall\tcallback å›è°ƒ override é‡å†™ recursion é€’å½’ encapsulation å°è£… inheritance\tç»§æ‰¿ interface æ¥å£ delegationg å§”æ‰˜ entity å®ä½“ schema n.æ¨¡å¼ï¼Œæ¦‚è¦ï¼Œå›¾è¡¨ scheme\tn.æ–¹æ¡ˆ relational schema å…³ç³»æ¨¡å¼ design è®¾è®¡ optimize vt.ä½¿æœ€ä¼˜åŒ–ï¼Œä½¿å°½å¯èƒ½æœ‰æ•ˆ redundancy å†—ä½™ Redundant adj.å†—ä½™\tçš„ abnormal\tå¼‚å¸¸ interface æ¥å£ host\tä¸»æœº Atomic åŸå­çš„ï¼ŒåŸå­èƒ½çš„ï¼›å¾®ç²’å­çš„ relation model å…³ç³»æ¨¡å¼ durable\tæŒä¹…çš„\ntwo to the fourth power 2çš„4æ¬¡æ–¹ message\tæŠ¥æ–‡ frame\tæ¡†æ¶ï¼Œå¸§ SQL Data\tæ•°æ® Data Base\tæ•°æ®åº“ Data Base Management System (DBMS)\tæ•°æ®åº“ç®¡ç†ç³»ç»Ÿ Data Definition Language (DDL) æ•°æ®å®šä¹‰è¯­è¨€ Data Manipulation Language (DML) æ•°æ®åº“æ“ä½œè¯­è¨€ ï¼ˆå¢åˆ æŸ¥æ”¹ï¼‰ Data Base System (DBS) æ•°æ®åº“ç³»ç»Ÿ Data Base Administrator (DBA) æ•°æ®åº“ç®¡ç†å‘˜ Schematic diagram of database system\tæ•°æ®åº“ç³»ç»Ÿç¤ºæ„å›¾ Security\tå®‰å…¨æ€§ Integrity\tå®Œæ•´æ€§ Concurrency\tå¹¶å‘ Recovery\tæ¢å¤ Entity-Relationship Approach (E-R)\tå®ä½“-è”ç³»æ–¹æ³• Entity\tå®ä½“ Attribute\tå±æ€§ Relationship\tè”ç³» Relation\tå…³ç³» Tuple\tå…ƒç»„ Attribute and Attribute Value\tå±æ€§å’Œå±æ€§å€¼ Domain\tåŸŸ Relation Mode\tå…³ç³»æ¨¡å¼ Key\té”® Candidate Key\tå€™é€‰é”® Primary Key\tä¸»é”® Non Primary Key\téä¸»å±æ€§/éé”®å±æ€§ Foreign Key\tå¤–é”® Normal Form\tèŒƒå¼ Boyce-Codd Normal Form (BCNF) Boyce-CoddèŒƒå¼ Index\tç´¢å¼• Cluster Index\tèšé›†ç´¢å¼• Non-cluster Index\téèšé›†ç´¢å¼• algorithms\tè¿ç®—æ³•åˆ™ add / plus\tåŠ  minus\tå‡ multiplied\tä¹˜ divide\té™¤ compiler design principles machine language\tæœºå™¨è¯­è¨€ object program\tç›®æ ‡ç¨‹åº object code\tç›®æ ‡ä»£ç  process\tè¿›ç¨‹ thread\tçº¿ç¨‹ queue\té˜Ÿåˆ— synchrony\tåŒæ­¥ asynchronism\tå¼‚æ­¥ superclass\tçˆ¶ç±» subclass\tå­ç±» ","date":"2016-03-22T22:15:01Z","permalink":"https://blog.iostao.com/2016/03/aps-computervocabulary/","title":"Computer English Vocabulary"},{"content":"Encapsulation å°è£… Encapsulation is hide the internal implementation, and stabilize the external interface. It can hide the implementation details and make the code modular.\neg.\npublic int max(int a, int b) { return a \u0026gt; b ? a : b; } int a = max(1, 5); int b = max(10, 15); int max = max(a, b); Inheritance Inheritance can expand the code modular, it used for resue code.\neg.\npublic class Person { String ID; String Name; Boolean Gender; String Birthday; } public class Student extends Person { String SID; String major; String Department; } The Student inherit attributes from the SuperClass -- PersonClass. Polymorphism 1ã€overload\nThe functions have the same method name, but they have different parameters.\neg.\npublic int max(int a, int b) { return a \u0026gt; b ? a : b; } public int max(int a, int b, int c) { int max = a \u0026gt; b ? a : b; return = max \u0026gt; c ? max : c; } 2ã€ It just happened in the case of inheritance.\neg.\npublic class Person { String ID; String Name; Boolean Gender; String Birthday; public void introduction() { System.out.println(\u0026quot;My name is \u0026quot; + Name \u0026quot;, my Birthday is \u0026quot; + Birthday + \u0026quot;.\u0026quot;); } } public class Student extends Person { String SID; String major; String Department; //override the function public void introduction() { System.out.println(\u0026quot;My name is \u0026quot; + Name + \u0026quot;.\u0026quot;); } } Delegation The delegation has two functions: one is transmit values, and one is transmit the event. It can reduce the complex of the code.\neg.\npublic class A { B b = new B(); } public class B { //B want to transmit a value to A. //But B can't communicate with A by directory. //so here use the delegation to help transmit value. } ","date":"2016-03-18T22:15:01Z","permalink":"https://blog.iostao.com/2016/03/aps-encapsulation-inheritance-polymorphism-delegation/","title":"Encapsulation, Inheritance, Polymorphism, Delegation"},{"content":"ç»Ÿä¸€å»ºæ¨¡è¯­è¨€\næ¨¡å‹ç§ç±» åç§å›¾å½¢ å»ºæ¨¡æœºåˆ¶ ç”¨ä¾‹æ¨¡å‹ ç”¨ä¾‹å›¾ é™æ€å»ºæ¨¡ é™æ€æ¨¡å‹ ç±»å›¾ã€å¯¹è±¡å›¾ã€åŒ…å›¾ é™æ€å»ºæ¨¡ è¡Œä¸ºæ¨¡å‹ çŠ¶æ€å›¾ã€æ´»åŠ¨å›¾ åŠ¨æ€å»ºæ¨¡ äº¤äº’æ¨¡å‹ é¡ºåºå›¾ã€åä½œå›¾ åŠ¨æ€å»ºæ¨¡ å®ç°æ¨¡å‹ æ„ä»¶å›¾ã€é…ç½®å›¾ é™æ€å»ºæ¨¡ ","date":"2016-03-15T17:46:18Z","permalink":"https://blog.iostao.com/2016/03/aps-uml/","title":"APS-UML"},{"content":"What is the Normal Form? Normal Form is a set that with a particular level. ï¼ˆèŒƒå¼æ˜¯ç¬¦åˆæŸä¸€ç§çº§åˆ«çš„å…³ç³»æ¨¡å¼çš„é›†åˆã€‚ï¼‰ Create database must follow certain rules. In the relational database, this rule is the Normal Form. What is the Normal Form used to do? / What is the role of Normal Form? Database that meet these Normal Form are concise and clear stuctured. At the same time, there are no exceptions when insert, delete and update. Generally, the Relationship is divided into 5 Normal Form. 1NF, 2NF, 3NF, Boyce-Codd NF, 4NF, 5NF. In generally, the database only to meet the 3NF. 1NF In any relational database, the 1NF is the basic requirement. If the database that does not meet the 1NF, it isn't a relational database. The 1NF is a non repeating column. * There must have primary key. * Primary key cannot be empty. * The Primary Key can't be repeated * the column can't be divided. StudentNo Name Sex Email Phone 001 LaoTao Mail laotao@m.com 18866688688 2NF Meeting the 2NF must meeting the 1NF. Each non key attribute is not part dependent on the Primary Key attribute. So the main task of the 2NF is to meet the 1NF, and eliminate some dependence of the function. StudentNo Name Sex Email Phone ClassNo classAddress 001 LaoTao Mail lt@m.cn 18866688688 1003 67#A205 This table is fully satisfied with the 1NF. The primary key is consisting of the \u0026quot;StudentNo\u0026quot; and \u0026quot;ClassNO\u0026quot;. But the \u0026quot;ClassAddress\u0026quot; depends on the key(ClassNo -\u0026gt; ClassAddress), so it must be divided into two tables. Table 1\nStudentNo Name Sex Email Phone ClassNo 001 LaoTao Mail lt@m.cn 18866688688 1003 Table 2\nClassNO ClassAddress 1003 67#205 3NF å¦‚æœå…³ç³»æ¨¡å‹Ræ˜¯ç¬¬äºŒèŒƒå¼ï¼Œ ä¸”æ²¡æœ‰ä¸€ä¸ªéé”®å±æ€§ä¼ é€’ä¾èµ–äºé”®ï¼Œåˆ™ç§°Ræ˜¯3NF. The 3NF requires a database table does not contain the non primary key information that has benn included in other tables. StudentNo Name Sex Email bounsLevel bouns 001 LaoTao Mail lt@m.cn Good Â£1000 This table is fully satisfied with the 2NF.But boundsLevel and bounds has a transitive dependency(ä¼ é€’ä¾èµ–). StudentNo Name Sex Email boundsNo 001 LaoTao Mail lt@m.cn 01 boundsNo bounsLevel bouns 01 Good Â£1000 I'd love using the boundsNo as the Primary Key, There are two reasons: * 1)don't use the characters as Primary Key. * 2)Generally, use the unrelated key in preference as the primary Key. BCNF Boyce-Codd Normal Formal\nä¸‰å±‚æ¨¡å¼æ¨¡å‹ E-Rå›¾ ","date":"2016-03-14T21:36:38Z","permalink":"https://blog.iostao.com/2016/03/aps-sql2005/","title":"APS-SQL2005"},{"content":"(åˆ†å±‚ï¼Œå„å±‚ä½œç”¨ï¼Œåè®®)\nWhat\u0026rsquo;s the purpose of this course? - basic knowledge of computer network - focus on the structure and behavior of network Details Introduction ç®€ä»‹ - the architecture of newtork is based on different protocols. =\u0026gt; Protocol: an agreement between the communicating parties on how communication is to proceed. - Network Model of hierarchy =\u0026gt; 5 Layers 5 Layers OSI/RM (Open Systems Interconnection Reference Model) å¼€å‘ç³»ç»Ÿäº’è¿åŸºæœ¬å‚è€ƒæ¨¡å‹\n5 Layers Function Application Layer message Transport Layer segment Network Layer datagram Data Link Layer frame Physical Layer bit each layer contains several protocals in s sense, each layer offers certain service to the layer above it. each layer communicates with the corresponding(ç›¸åº”çš„) layer, using specific message header to distinguish(åŒºåˆ«). Application Layer åº”ç”¨å±‚ (HTTP, FTP, SMTP, DNS) * deal with the problems how network applications work and communicate with each other. * famour protocols: - HTTP, HyperText Transfer Protocol =\u0026gt; defines how the web clients ask for web pages and how the server transfer the web pages to clients. - kinds of connection non-persistent connection persistent connection =\u0026gt; won't shut down till specific time. Client Server |\tStart TCP | |----------------\u0026gt;| | | | Confirm | |\u0026lt;----------------| | | | ask for files | |----------------\u0026gt;| | | | get files | |-----------------| |-----------------| HTTP Request request line -\u0026gt;\nGET/HTTP/1.1 | Host: www.devtao.com header line -| connection: close | user-agent: Mozilla / 4.0 |\tAccept-language: cn HTTP Respond:\nstatus line -\u0026gt;\n(status code: 200, 404) header line entity body\nCookie\n=\u0026gt; a special file to distinguish the clients\nSam login to Amazon, PC send cookie 1000 to server, server will store this cookie in the backend database. next time Sam login to Amazon, the server will recognise him.\nFTP, File Transfer Protocol =\u0026gt; Users can upload or download files from the FTP server =\u0026gt; in LAN\nuser \u0026lt;\u0026ndash;\u0026gt; FTP Interface FTP Client \u0026lt;\u0026ndash;\u0026gt; FTP Server II II local file system remote file system å¯¹ç…§ä¸‹å›¾\n------ --------------- ------------ ------------ | user |\u0026lt;--\u0026gt; | FTP Interface | | FTP Client |\u0026lt;--\u0026gt; | FTP Server | ------ --------------- ------------ ------------ ||\t|| ------------------- -------------------- | local file system | | remote file system | ------------------- -------------------- SMTP (Simple Main Transfer Protocol)\n=\u0026gt; define how the E-mainl system works.\n----------- ----------------- SMTP --------------- | A's agent | -\u0026gt; | A's mail Server | ----\u0026gt; |B's mail Server| ----------- ----------------- --------------- || || ----------- | B's agent | ----------- define the message format =\u0026gt; header\n=\u0026gt; Only ASCII code is legal in SMTP.\nDNS (Domain Name Server Protocol)\n=\u0026gt; use DNS to get the internet IP address.\npeople prefer to rememter the web address, or say URL rather than the IP address. -use DNS to find the corresponding IP address of a specific web URL(Uniform Resource Locator). www.google.com \u0026lt;=\u0026gt; 8.8.8.8\nusing a distributed database. Network A computer network is a group of interconnected computers. Networks may be classified(åˆ’åˆ†) according to a wide kind of characteristics. The most common division is \u0026ldquo;LAN\u0026rdquo; and \u0026ldquo;WAN\u0026rdquo;.\n\u0026ldquo;WAN\u0026rdquo;(Wide Area Network), is connect computer within a very wide Region. \u0026ldquo;LAN\u0026rdquo;(Local Area Network), is a Network in l limited region and computers belonging to it, will enter the net when they get switched on. Network-Topologys Network toplogy is the study of the arrangement(æ’åˆ—) or mapping(æ˜ å°„) of the elements of a network, especially the physical and logical interconnections between nodes(ç»“ç‚¹).\nLine-Topology\nBus-Topology\nAll computers are connected in a line. When a line is broken, the whole network doesn\u0026rsquo;t work.\nRing-Topology\nIt\u0026rsquo;s like a Bus or Line Topology and has the same advantages and disadvantages.\nStar-Topology\nIn Star-Topology, all computers are connected to Central-Stations like Hub, Switch or Router. This topology is very quick and safe and also easy to maintenance.\n","date":"2016-03-13T22:15:01Z","permalink":"https://blog.iostao.com/2016/03/aps-network/","title":"APS-Network"},{"content":"æ¯›çˆ·çˆ·è¯´è¿‡ï¼Œä¸èƒ½æ‰“æ— å‡†å¤‡çš„ä»—ã€‚\nå¤ä¹ æ—¶ï¼Œå¯æŒ‰ç…§ä¸‹é¢çš„æ–¹é’ˆè¿›è¡ŒçŸ¥è¯†ç‚¹çš„æ•´ç†ï¼š\n1ã€å¿…ä¿®ç±»è¯¾ç¨‹æ¯é—¨è¯¾æç‚¼3-4ä¸ªçŸ¥è¯†ç‚¹ï¼Œ4ä¸ªæœ€ä¼˜ 2ã€é€‰ä¿®è¯¾è¯¾ç¨‹æ¯é—¨è¯¾æç‚¼2-3ä¸ªçŸ¥è¯†ç‚¹ï¼Œ3ä¸ªæœ€ä¼˜ 3ã€å…¶ä»–è¯¾ç¨‹ä¸€å¥è¯ï¼Œè®²æ¸…æ¥šå­¦äº†å•¥å¹²äº†å•¥å°±è¡Œ è¯¾ç¨‹å¤ä¹  Cè¯­è¨€ (æ•°ç»„ã€ç»“æ„ã€æŒ‡é’ˆ) ç¼–ç¨‹è¯­è¨€ ï¼ˆè¯­è¨€åˆ†ç±»[æœºå™¨ï¼Œæ±‡ç¼–ï¼Œé«˜çº§], å…±åŒç‚¹ï¼Œä¸åŒç‚¹ï¼ŒOOP, æµç¨‹å›¾ï¼‰ æ•°æ®ç»“æ„ ï¼ˆé¡ºåºè¡¨ã€é“¾è¡¨ã€é˜Ÿåˆ—å’Œæ ˆã€æ ‘ã€å›¾ï¼‰ æ•°å­—é€»è¾‘ ï¼ˆé€»è¾‘é—¨ã€å¡è¯ºå›¾ï¼‰ æ•°æ®åº“åŸç† ï¼ˆä¸‰å±‚æ¨¡å¼æ¨¡å‹ã€å…³ç³»æ•°æ®åº“ã€E-Rå›¾ã€èŒƒå¼ï¼‰ï¼ˆäº‹åŠ¡åŸå­æœ€å¥½ä¹Ÿçœ‹ä¸€ä¸‹ï¼‰ è®¡ç®—æœºç½‘ç»œ ï¼ˆç½‘ç»œåˆ†å±‚æ¨¡å‹ã€DNSã€TCPä¸‰æ¬¡æ¡æ‰‹ã€UDPï¼‰ è®¡ç®—æœºç»„æˆåŸç† ï¼ˆCPUå†…éƒ¨ç»“æ„ã€å­˜å‚¨åˆ†å±‚ç»“æ„ã€å¯»å€ï¼‰ è®¡ç®—æœºæ“ä½œç³»ç»Ÿ ï¼ˆè¿›ç¨‹çŠ¶æ€å›¾ï¼Œæ­»é”åŠå…¶è§£å†³æ–¹æ³•ï¼Œè™šæ‹Ÿå­˜å‚¨å™¨ï¼‰ è®¡ç®—æœºç³»ç»Ÿç»“æ„ ï¼ˆæµæ°´çº¿ç»“æ„ã€å®ç°ã€å¯èƒ½å‡ºç°çš„é—®é¢˜ä»¥åŠè§£å†³æ–¹æ³•ï¼‰ ç¼–è¯‘åŸç† ï¼ˆè¯æ³•åˆ†æã€è¯­æ³•åˆ†æã€è¯­ä¹‰åˆ†æï¼‰ è‡ªæˆ‘ä»‹ç» è‡ªæˆ‘ä»‹ç»æ–¹é¢ï¼Œåœ¨å‡†å¤‡æ—¶ä¸€å®šè¦åŒ…æ‹¬ä¸‹é¢å‡ ä¸ªæ–¹é¢ï¼Œå°½é‡ç²¾ç®€ï¼ˆå¦åˆ™æ®è¯´çº¢ç­è¿™ç§å®¡æ ¸å®˜å¯èƒ½ä¼šå¾ˆä¸è€çƒ¦ï¼‰ 1ã€å§“å 2ã€å¹´é¾„+å¹´çºª 3ã€æ¥è‡ªå“ªæ‰€é™¢æ ¡ 4ã€ä¸“ä¸š ç•™å­¦è®¡åˆ’ ç•™å­¦è®¡åˆ’è¿™ä¹Ÿæ˜¯ä¸€ä¸ªå¤šåŠä¼šè¢«é—®åˆ°çš„é—®é¢˜ï¼Œä¸€å®šè¦äº‹å…ˆæƒ³æ¸…æ¥šå¤§æ¦‚çš„è®¡åˆ’ï¼Œæ¯”å¦‚åŸå¸‚ã€å­¦æ ¡ã€æ¯ä¸ªæœˆç”Ÿæ´»è´¹ç­‰ç­‰ ï¼ˆè‹±å®¡çš„æ³¨æ„ã€‚ Notice: ä½ ä¸ºä»€ä¹ˆä¸ç”¨å¾·è¯­æ¥é¢è¯•ï¼Ÿ ï¼ˆçº¢ç­å¯èƒ½é—®åˆ°çš„è›‹ç–¼çš„é—®é¢˜))\n","date":"2016-03-12T06:37:24Z","permalink":"https://blog.iostao.com/2016/03/aps-start/","title":"APS-Start"},{"content":"1.å•çº¿ç¨‹ï¼šç¦ç”¨æ‰€æœ‰çš„mutexé”ï¼Œå¹¶å‘ä½¿ç”¨æ—¶ä¼šå‡ºé”™ã€‚å½“SQLiteç¼–è¯‘æ—¶åŠ äº†SQLITE_THREADSAFE=0å‚æ•°ï¼Œæˆ–è€…åœ¨åˆå§‹åŒ–SQLiteå‰è°ƒç”¨sqlite3_config(SQLITE_CONFIG_SINGLETHREAD)æ—¶å¯ç”¨ã€‚\n2.å¤šçº¿ç¨‹ï¼šåªè¦ä¸€ä¸ªæ•°æ®åº“è¿æ¥ä¸è¢«å¤šä¸ªçº¿ç¨‹åŒæ—¶ä½¿ç”¨å°±æ˜¯å®‰å…¨çš„ã€‚æºç ä¸­æ˜¯å¯ç”¨bCoreMutexï¼Œç¦ç”¨bFullMutexã€‚å®é™…ä¸Šå°±æ˜¯ç¦ç”¨æ•°æ®åº“è¿æ¥å’Œprepared statementï¼ˆå‡†å¤‡å¥½çš„è¯­å¥ï¼‰ä¸Šçš„é”ï¼Œå› æ­¤ä¸èƒ½åœ¨å¤šä¸ªçº¿ç¨‹ä¸­å¹¶å‘ä½¿ç”¨åŒä¸€ä¸ªæ•°æ®åº“è¿æ¥æˆ–prepared statementã€‚å½“SQLiteç¼–è¯‘æ—¶åŠ äº†SQLITE_THREADSAFE=2å‚æ•°æ—¶é»˜è®¤å¯ç”¨ã€‚è‹¥SQLITE_THREADSAFEä¸ä¸º0ï¼Œå¯ä»¥åœ¨åˆå§‹åŒ–SQLiteå‰ï¼Œè°ƒç”¨sqlite3_config(SQLITE_CONFIG_MULTITHREAD)å¯ç”¨ï¼›æˆ–è€…åœ¨åˆ›å»ºæ•°æ®åº“è¿æ¥æ—¶ï¼Œè®¾ç½®SQLITE_OPEN_NOMUTEX flagã€‚\n3.ä¸²è¡Œï¼šå¯ç”¨æ‰€æœ‰çš„é”ï¼ŒåŒ…æ‹¬bCoreMutexå’ŒbFullMutexã€‚å› ä¸ºæ•°æ®åº“è¿æ¥å’Œprepared statementéƒ½å·²åŠ é”ï¼Œæ‰€ä»¥å¤šçº¿ç¨‹ä½¿ç”¨è¿™äº›å¯¹è±¡æ—¶æ²¡æ³•å¹¶å‘ï¼Œä¹Ÿå°±å˜æˆä¸²è¡Œäº†ã€‚å½“SQLiteç¼–è¯‘æ—¶åŠ äº†SQLITE_THREADSAFE=1å‚æ•°æ—¶é»˜è®¤å¯ç”¨ã€‚è‹¥SQLITE_THREADSAFEä¸ä¸º0ï¼Œå¯ä»¥åœ¨åˆå§‹åŒ–SQLiteå‰ï¼Œè°ƒç”¨sqlite3_config(SQLITE_CONFIG_SERIALIZED)å¯ç”¨ï¼›æˆ–è€…åœ¨åˆ›å»ºæ•°æ®åº“è¿æ¥æ—¶ï¼Œè®¾ç½®SQLITE_OPEN_FULLMUTEX flagã€‚\nåœ¨iOSä¸Šï¼Œé»˜è®¤ä½¿ç”¨çš„æ˜¯ç¬¬2ç§æ–¹å¼ç¼–è¯‘çš„ï¼Œä¹Ÿå°±æ˜¯åªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½å¤Ÿæ‰“å¼€æ•°æ®åº“æ“ä½œï¼Œå…¶ä»–çº¿ç¨‹è¦æ“ä½œæ•°æ®åº“å¿…é¡»ç­‰æ•°æ®åº“å…³é—­åæ‰èƒ½æ‰“å¼€æ“ä½œã€‚å¤šçº¿ç¨‹æ—¶ï¼šæ¯ä¸ªçº¿ç¨‹ç‹¬ç«‹æ‰“å¼€æ•°æ®åº“ï¼Œæ“ä½œæ•°æ®åº“ï¼Œæ“ä½œå®Œåå…³é—­æ•°æ®åº“ã€‚æ‰“å¼€å’Œå…³é—­éƒ½æ¯”è¾ƒè´¹æ—¶é—´ï¼Œè€Œä¸”è¦æ‰‹åŠ¨æ§åˆ¶æ‰“å¼€å…³é—­é”ï¼Œåœ¨æ¯ä¸ªçº¿ç¨‹æ“ä½œä¸é¢‘ç‡æ—¶å¯ç”¨è¯¥æ–¹æ³•ã€‚\nå¦‚æœå¤šä¸ªçº¿ç¨‹é¢‘ç¹æ“ä½œæ•°æ®åº“ï¼Œä½¿ç”¨ä»¥ä¸Šæ–¹æ³•å¾ˆå®¹æ˜“é€ æˆç³»ç»Ÿå´©æºƒï¼Œè§£å†³æ–¹æ¡ˆï¼šå¼€å¯ç¬¬3ç§ä¸²è¡Œæ¨¡å¼ï¼Œä½¿ç”¨ä¸€ä¸ªç±»ï¼ˆå•ä¾‹æ–¹å¼ï¼‰æ“ä½œæ•°æ®åº“ã€‚ -(BOOL)open { sqlite3_shutdown(); NSLog(@\u0026quot;sqlite3 lib version: %s\u0026quot;, sqlite3_libversion()); int err=sqlite3_config(SQLITE_CONFIG_SERIALIZED); if (err == SQLITE_OK) { NSLog(@\u0026quot;Can now use sqlite on multiple threads, using the same connection\u0026quot;); } else { NSLog(@\u0026quot;setting sqlite thread safe mode to serialized failed!!! return code: %d\u0026quot;, err); } err = sqlite3_open([VersionDBPath UTF8String], \u0026amp;hSqlite3DB); if(err != SQLITE_OK) { NSLog(@\u0026quot;datebase open error: %d\u0026quot;, err); return NO; } return YES; }","date":"2016-03-11T11:56:53Z","permalink":"https://blog.iostao.com/2016/03/ios-sqlitemultithreading/","title":"iOSä¸ŠSqliteå¤šçº¿ç¨‹é—®é¢˜"},{"content":"åœ¨bitbucketä¸Šä½¿ç”¨httpsåè®®ï¼Œç»å¸¸ä¼šåœ¨æäº¤ä»£ç çš„æ—¶å€™å‡ºé”™ï¼Œè®©äººå¾ˆç€æ€¥ä¸Šç«ï¼Œä½†æ˜¯ç”¨sshå°±è¦æ–¹ä¾¿å¾ˆå¤šã€‚\nä¸‹é¢ä»‹ç»ä¸€ä¸‹è®¾ç½®sshçš„æ–¹æ³•ï¼š\n1.åœ¨ç»ˆç«¯ä¸­è¿è¡Œssh-keygenã€‚\n2.ç„¶åä¸€è·¯enterï¼Œç›´æ¥åˆ°ç»“æŸã€‚ä¸è¦ç†ä¼šä¸­é—´çš„è¾“å…¥ã€‚\n3 æ‰“å¼€ç”¨æˆ·ç›®å½•ä¸‹.ssh/id_rsa.pubæ–‡ä»¶ï¼Œå¤åˆ¶å…¶å†…å®¹ã€‚(æœåŠ¡å™¨æ“ä½œï¼Œå¯ä»¥ç”¨viæ‰“å¼€ï¼Œè¿›è¡Œå¤åˆ¶) 4.Bitbucketä¸Šç‚¹å³ä¸Šè§’çš„å°å¤´åƒï¼Œç„¶åé€‰æ‹©Manage account.\n5.å·¦è¾¹ç›®å½•é€‰æ‹©SSH Keysï¼Œ ç„¶åé€‰æ‹©add keyã€‚å°†åˆšæ‰å¤åˆ¶çš„å†…å®¹ç²˜è´´è¿›å»ï¼Œä¿å­˜ã€‚\nå›åˆ°å·¥ç¨‹é¡µé¢ï¼Œå°†ä½¿ç”¨çš„åè®®é€‰æ‹©ä¸ºSSHã€‚\nç°åœ¨å°±å¯ä»¥ä½¿ç”¨SSHäº†ã€‚\n","date":"2016-02-21T12:43:34Z","permalink":"https://blog.iostao.com/2016/02/git-deploy-ssh-of-bitbucket/","title":"å¦‚ä½•é…ç½®Bitbucketçš„ssh"},{"content":"ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œæœªç»åšä¸»å…è®¸ä¸å¾—è½¬è½½ã€‚ æœ€è¿‘æ‰æ³¨æ„åˆ°NSArray,NSDictionary,NSNumberæœ‰ä¸€ç§å­—é¢é‡æ–¹å¼å£°æ˜ã€‚ç¬é—´æ„Ÿè§‰å†™ä»£ç åˆçœäº†å¥½å¤šäº‹æƒ…ã€‚\nåªæ˜¯ç™¾åº¦äº†ä¸€ä¸‹ï¼Œä»Xcode4.4å°±å·²ç»å­˜åœ¨è¿™ç§æ–¹å¼äº†ï¼Œä½†æ˜¯è‡ªå·±å±…ç„¶ä¸€ç›´åœ¨ä½¿ç”¨Previouslyé‚£äº›æ–¹æ³•ã€‚\näºæ˜¯ç°åœ¨åœ¨è¿™é‡Œåšä¸€æ¬¡æ•´ç†ï¼Œæ–¹ä¾¿è‡ªå·±è®°å¿†ï¼ˆå…¶å®æ˜¯å½“åˆè¯´è¦å†™åšå®¢ï¼Œä½†æ˜¯å¥½ä¹…æ²¡å†™äº†ï¼Œæ¥è¡¥ä¸ªæ•°é‡å°´å°¬)\nå€Ÿé‰´:http://cocoaheads.tumblr.com/post/17757846453/objective-c-literals-for-nsdictionary-nsarray\nä¹Ÿçœ‹äº†ä¸€ä¸‹å®˜æ–¹æ–‡æ¡£ï¼Œä½†æ˜¯ä¸Šé¢é‚£ä¸ªé“¾æ¥ç»™çš„éå¸¸è¯¦ç»†ã€‚å¤§å®¶å¦‚æœæœ‰æ„¿æ„çœ‹çš„è¯ï¼Œçœ‹ä¸Šé¢é‚£ä¸ªåœ°å€å°±å¯ä»¥äº†ï¼Œä»¥ä¸‹ï¼Œåªæ˜¯ä¸ºäº†è‡ªå·±å­¦ä¹ ã€‚\nObjective-C literals: one can now create literals for NSArray, NSDictionary, and NSNumber (just like one can create literals for NSString)\nString Value\nstring_value ::= \u0026ldquo;text\u0026rdquo; | \u0026rsquo;text'\nNSArray:\nPreviously:\narray = [[NSArray alloc] initWithObjects: a, b, c, nil ];\narray = [NSArray arrayWithObjects: a, b, c, nil ];\nNow: array = @[ a, b, c ];\nNSDictionary:\nPreviously:\nNSDictionary *dict;\ndict = [[NSDictionary alloc] initWithObjectsAndKeys:@[ o1, o2, o3 ],@[ k1, k2, k3 ], nil ];\ndict = [NSDictionary dictionaryWithObjects:@[ o1, o2, o3] forKeys:@[ k1, k2, k3]];\nNow:\ndict = @{ k1 : o1, k2 : o2, k3 : o3 };\nNSNumber:\nPreviously:\nNSNumber * number;\nnumber = [NSNumber numberWithInt:12345];\n//åŒç†ï¼Œè¿™ç§åˆå§‹åŒ–è¿˜æœ‰Char,Long,Float,Double,Boolç­‰ç±»å‹ï¼Œä¸å†ä¸€ä¸€åˆ—ä¸¾\nNow:\nNSNumber *number;\nnumber = @\u0026lsquo;X\u0026rsquo;;\nnumber = @12345;\nnumber = @12345ul;\nnumber = @12345ll;\nnumber = @123.45f;\nnumber = @123.45;\nnumber = @YES;\n","date":"2016-02-17T15:59:01Z","permalink":"https://blog.iostao.com/2016/02/ios-objective-c-literal-value/","title":"å­—é¢é‡å£°æ˜æ–¹å¼ Objective-C Literal Value"},{"content":" # Git Overview Git Profile\n1)è¿œç¨‹ä»“åº“ç›¸å…³å‘½ä»¤ æ£€å‡ºä»“åº“ï¼š$ git clone git://github.com/jquery/jquery.git\næŸ¥çœ‹è¿œç¨‹ä»“åº“ï¼š$ git remote -v è·å–è¿œç¨‹åˆ†æ”¯ä¿¡æ¯åˆ°æœ¬åœ°ï¼š$ git fetch (æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯æ˜¾ç¤ºä¸å…¨æ—¶ï¼Œæ‰§è¡Œè¿™ä¸ªå‘½ä»¤) æ·»åŠ è¿œç¨‹ä»“åº“ï¼š$ git remote add [name] [url] åˆ é™¤è¿œç¨‹ä»“åº“ï¼š$ git remote rm [name] æ‹‰å–è¿œç¨‹ä»“åº“ï¼š$ git pull [remoteName] [localBranchName] æ¨é€è¿œç¨‹ä»“åº“ï¼š$ git push [remoteName] [localBranchName] 2)åˆ†æ”¯(branch)æ“ä½œç›¸å…³å‘½ä»¤ æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯ï¼š$ git branch æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯ï¼š$ git branch -r åˆ›å»ºæœ¬åœ°åˆ†æ”¯ï¼š$ git branch [name] ----æ³¨æ„æ–°åˆ†æ”¯åˆ›å»ºåä¸ä¼šè‡ªåŠ¨åˆ‡æ¢ä¸ºå½“å‰åˆ†æ”¯ åˆ‡æ¢åˆ†æ”¯ï¼š$ git checkout [name] åˆ›å»ºæ–°åˆ†æ”¯å¹¶ç«‹å³åˆ‡æ¢åˆ°æ–°åˆ†æ”¯ï¼š$ git checkout -b [name] è¿å‡ºè¿œç¨‹åˆ†æ”¯\t$ git checkout -b dev origin/dev åˆ é™¤åˆ†æ”¯ï¼š$ git branch -d [name] -d é€‰é¡¹åªèƒ½åˆ é™¤å·²ç»å‚ä¸äº†åˆå¹¶çš„åˆ†æ”¯ï¼Œå¯¹äºæœªæœ‰åˆå¹¶çš„åˆ†æ”¯æ˜¯æ— æ³•åˆ é™¤çš„ã€‚å¦‚æœæƒ³å¼ºåˆ¶åˆ é™¤ä¸€ä¸ªåˆ†æ”¯ï¼Œå¯ä»¥ä½¿ç”¨-Dé€‰é¡¹ åˆå¹¶åˆ†æ”¯ï¼š$ git merge [name] ----å°†åç§°ä¸º[name]çš„åˆ†æ”¯ä¸å½“å‰åˆ†æ”¯åˆå¹¶ åˆ›å»ºè¿œç¨‹åˆ†æ”¯(æœ¬åœ°åˆ†æ”¯pushåˆ°è¿œç¨‹)ï¼š$ git push origin [name] åˆ é™¤è¿œç¨‹åˆ†æ”¯ï¼š$ git push origin --delete [name] $ git push origin :[name] åˆ—å‡ºåˆ†æ”¯å›¾ git config --global alias.lg \u0026quot;log --graph --all --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)\u0026lt;%an\u0026gt;%Creset' --abbrev-commit --date=relative\u0026quot; git lg (è®¾ç½®äº†åˆ«ååï¼Œå°±å¯ä»¥ä½¿ç”¨åˆ«åè¿›è¡ŒæŸ¥çœ‹) 3ï¼‰ç‰ˆæœ¬(tag)æ“ä½œç›¸å…³å‘½ä»¤ æŸ¥çœ‹ç‰ˆæœ¬ï¼š$ git tag åˆ›å»ºç‰ˆæœ¬ï¼š$ git tag [name] åˆ é™¤ç‰ˆæœ¬ï¼š$ git tag -d [name] æŸ¥çœ‹è¿œç¨‹ç‰ˆæœ¬ï¼š$ git tag -r åˆ›å»ºè¿œç¨‹ç‰ˆæœ¬(æœ¬åœ°ç‰ˆæœ¬pushåˆ°è¿œç¨‹)ï¼š$ git push origin [name] åˆ é™¤è¿œç¨‹ç‰ˆæœ¬ï¼š$ git push origin :refs/tags/[name] æ‹‰å–tagç‰ˆæœ¬ï¼šgit checkout -b branch_name tag_name 4) å­æ¨¡å—(submodule)ç›¸å…³æ“ä½œå‘½ä»¤ æ·»åŠ å­æ¨¡å—ï¼š$ git submodule add [url] [path] åˆå§‹åŒ–å­æ¨¡å—ï¼š$ git submodule init ----åªåœ¨é¦–æ¬¡æ£€å‡ºä»“åº“æ—¶è¿è¡Œä¸€æ¬¡å°±è¡Œ æ›´æ–°å­æ¨¡å—ï¼š$ git submodule update ----æ¯æ¬¡æ›´æ–°æˆ–åˆ‡æ¢åˆ†æ”¯åéƒ½éœ€è¦è¿è¡Œä¸€ä¸‹ åˆ é™¤å­æ¨¡å—ï¼š$ git rm --cached [path] 5ï¼‰å¿½ç•¥ä¸€äº›æ–‡ä»¶ã€æ–‡ä»¶å¤¹ä¸æäº¤ åœ¨ä»“åº“æ ¹ç›®å½•ä¸‹åˆ›å»ºåç§°ä¸ºâ€œ.gitignoreâ€çš„æ–‡ä»¶ï¼Œå†™å…¥ä¸éœ€è¦çš„æ–‡ä»¶å¤¹åæˆ–æ–‡ä»¶ï¼Œæ¯ä¸ªå…ƒç´ å ä¸€è¡Œå³å¯ï¼Œå¦‚ target, bin, *.db,\nä»£ç æäº¤ å‘½ä»¤æ“ä½œè¯¦æƒ…:\n1ã€æŸ¥çœ‹ä¿®æ”¹æ–‡ä»¶ git status 2ã€æš‚å­˜ä¿®æ”¹çš„æ–‡ä»¶ git add . 3ã€æäº¤å·²æš‚å­˜çš„æ–‡ä»¶ git commit 4ã€æ‹‰å–è¿œç¨‹ä¿®æ”¹å†…å®¹ git pull -p å¦‚æœæœ‰å†²çªï¼Œè¿™é‡Œä¿®æ”¹ï¼Œä¿®æ”¹ä¹‹åï¼Œä»1æ­¥éª¤é‡æ–°å¼€å§‹ 5ã€æäº¤ä»£ç åˆ°è¿œç¨‹åˆ†æ”¯ git push å¦‚æœæ²¡æœ‰åˆ›å»ºè¿œç¨‹åˆ†æ”¯ï¼Œ åˆ™ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ git push origin åˆ†æ”¯å //å¦‚æœæ˜¯ä»è¿œç¨‹åˆ†æ”¯æ‹‰å–çš„ï¼Œä½†æ˜¯æ²¡æœ‰å»ºç«‹å…³ç³»ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ git branch --set-upstream my_branch origin/my_branch ä»¥ä¸‹å†…å®¹æ¯”è¾ƒå¤šï¼Œä¸å®¹æ˜“ç†è§£\nä»£ç æäº¤ä¸€èˆ¬æœ‰äº”ä¸ªæ­¥éª¤ï¼š\n1.æŸ¥çœ‹ç›®å‰ä»£ç çš„ä¿®æ”¹çŠ¶æ€\n2.æŸ¥çœ‹ä»£ç ä¿®æ”¹å†…å®¹\n3.æš‚å­˜éœ€è¦æäº¤çš„æ–‡ä»¶\n4.æäº¤å·²æš‚å­˜çš„æ–‡ä»¶\n5.åŒæ­¥åˆ°æœåŠ¡å™¨\ngit config --global push.default matching git config --global push.default simple å»ºç«‹å…³ç³»\ngit branch --set-upstream my_branch origin/my_branch 1. æŸ¥çœ‹ç›®å‰ä»£ç çš„ä¿®æ”¹çŠ¶æ€ æäº¤ä»£ç ä¹‹å‰ï¼Œé¦–å…ˆåº”è¯¥æ£€æŸ¥ç›®å‰æ‰€åšçš„ä¿®æ”¹ï¼Œè¿è¡Œgit statuså‘½ä»¤\na) å·²æš‚å­˜ ï¼ˆchanges to be committedï¼‰\nnew file //è¡¨ç¤ºæ–°å»ºæ–‡ä»¶\nmodified //è¡¨ç¤ºä¿®æ”¹æ–‡ä»¶\ndeleted //è¡¨ç¤ºåˆ é™¤æ–‡ä»¶\nb) å·²ä¿®æ”¹ ï¼ˆchanged but not updatedï¼‰\nmodified //è¡¨ç¤ºä¿®æ”¹æ–‡ä»¶\ndeleted //è¡¨ç¤ºåˆ é™¤æ–‡ä»¶\nå¦å¤–ï¼Œgit ç»™å‡ºäº†å¯èƒ½éœ€è¦çš„æ“ä½œå‘½ä»¤ï¼Œgit add/rm, gitcheckout -- c) æœªè·Ÿè¸ª ï¼ˆuntracked filesï¼‰\n2. æŸ¥çœ‹ä»£ç ä¿®æ”¹çš„å†…å®¹ git diff æ¯”è¾ƒæŸæ–‡ä»¶ä¸æœ€è¿‘æäº¤èŠ‚ç‚¹çš„å·®å¼‚ã€‚\næ³¨æ„ï¼šå¦‚æœè¯¥æ–‡ä»¶å·²æš‚å­˜ï¼Œé‚£ä¹ˆåº”è¯¥ä½¿ç”¨git diff â€“cached\ngit diff æ¯”è¾ƒæŸæ–‡ä»¶åœ¨æäº¤èŠ‚ç‚¹aï¼ŒèŠ‚ç‚¹bçš„å·®å¼‚ã€‚\næŠ€å·§ï¼šå¦‚æœçœç•¥åé¢ä¸€ä¸ªhashcodeï¼Œåˆ™é»˜è®¤è¡¨ç¤ºä¸ä¸Šä¸€æäº¤èŠ‚ç‚¹æ¯”è¾ƒã€‚ï¼ˆä¹Ÿå¯ä»¥åˆ©ç”¨^è¿ç®—ç¬¦ï¼‰\n3. æš‚å­˜éœ€è¦æäº¤çš„æ–‡ä»¶ å¦‚æœæ˜¯æ–°å»ºçš„æ–‡ä»¶\nåˆ™git add å¦‚æœæ˜¯ä¿®æ”¹çš„æ–‡ä»¶\nåˆ™git add å¦‚æœæ˜¯åˆ é™¤çš„æ–‡ä»¶\nåˆ™ git rm 4. æäº¤å·²æš‚å­˜çš„æ–‡ä»¶ git commit æ³¨æ„æ³¨é‡Šå¡«å†™è§„èŒƒã€‚ git commit --amend ä¿®æ”¹æœ€è¿‘ä¸€æ¬¡æäº¤ã€‚æœ‰æ—¶å€™å¦‚æœæäº¤æ³¨é‡Šä¹¦å†™æœ‰è¯¯æˆ–è€…æ¼ææ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨æ­¤å‘½ä»¤ã€‚ 5. åŒæ­¥åˆ°æœåŠ¡å™¨ åŒæ­¥åˆ°æœåŠ¡å™¨å‰å…ˆéœ€è¦å°†æœåŠ¡å™¨ä»£ç åŒæ­¥åˆ°æœ¬åœ°\nå‘½ä»¤ï¼š git pull å¦‚æœæ‰§è¡Œå¤±è´¥ï¼Œå°±æŒ‰ç…§æç¤ºè¿˜åŸæœ‰å†²çªçš„æ–‡ä»¶ï¼Œç„¶åå†æ¬¡å°è¯•åŒæ­¥ã€‚ å‘½ä»¤ï¼šgit checkout \u0026ndash; \u0026lt;æœ‰å†²çªçš„æ–‡ä»¶è·¯å¾„\u0026gt;\nåŒæ­¥åˆ°æœåŠ¡å™¨\nå‘½ä»¤ï¼š git push origin \u0026lt;æœ¬åœ°åˆ†æ”¯å\u0026gt; è¿œç¨‹å¦‚æœæš‚æ—¶æ²¡æœ‰åˆ†æ”¯ï¼ˆå³åˆå§‹ï¼Œæ²¡æœ‰masteråˆ†æ”¯ï¼‰ï¼ŒåŒæ­¥æœ¬åœ°masteråˆ†æ”¯åˆ°è¿œç¨‹\ngit push -u origin master å¦‚æœæ‰§è¡Œå¤±è´¥ï¼Œä¸€èˆ¬æ˜¯æ²¡æœ‰å°†æœåŠ¡å™¨ä»£ç åŒæ­¥åˆ°æœ¬åœ°å¯¼è‡´çš„ï¼Œå…ˆæ‰§è¡Œä¸Šé¢çš„git pullå‘½ä»¤ã€‚\næ–°ä»“åº“å¤„ç† $ touch README.md $ git init $ git add README.md $ git commit -m \u0026quot;first commit\u0026quot; $ git remote add origin https://github.com/****.git $ git -u origin master æœªæ•´ç† git remote prune origin\ngit pull\ngit branch -a\ngit tag git clone https://xxx.xx.xx \u0026ndash;depth 1 ","date":"2016-02-16T11:49:03Z","permalink":"https://blog.iostao.com/2016/02/git-command/","title":"Gitå‘½ä»¤"}]